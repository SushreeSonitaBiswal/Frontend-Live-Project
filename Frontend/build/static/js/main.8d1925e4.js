/*! For license information please see main.8d1925e4.js.LICENSE.txt */
(()=>{var e={530:(e,t,n)=>{"use strict";var r=n(560),i=n(732),o=n(827),a=n(567),s=n(227);function u(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var c,l=u(r),h=((c={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",c["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",c["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",c["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",c["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",c["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",c["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",c["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",c["recaptcha-error"]="ReCAPTCHA error.",c),d=new a.ErrorFactory("appCheck","AppCheck",h),f=new Map,p={activated:!1,tokenObservers:[]},g={enabled:!1};function v(e){return f.get(e)||p}function y(e,t){f.set(e,t)}function m(){return g}var b="https://content-firebaseappcheck.googleapis.com/v1beta",_="exchangeDebugToken",w={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4},x=function(){function e(e,t,n,r,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}return e.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch((function(){}))},e.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},e.prototype.isRunning=function(){return!!this.pending},e.prototype.process=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new a.Deferred,[4,(r=this.getNextRun(e),new Promise((function(e){setTimeout(e,r)})))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new a.Deferred,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch((function(){})),[3,7];case 6:return t=n.sent(),this.retryPolicy(t)?this.process(!1).catch((function(){})):this.stop(),[3,7];case 7:return[2]}var r}))}))},e.prototype.getNextRun=function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t},e}();function S(){return self.grecaptcha}function I(e){if(!v(e).activated)throw d.create("use-before-activation",{appName:e.name})}function C(e){return a.base64.encodeString(JSON.stringify(e),!1)}function E(e,t){var n=e.url,r=e.body;return o.__awaiter(this,void 0,void 0,(function(){var e,i,a,s,u,c,l,h,f,p;return o.__generator(this,(function(o){switch(o.label){case 0:e={"Content-Type":"application/json"},(i=t.getImmediate({optional:!0}))&&(e["X-Firebase-Client"]=i.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:e},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return s=o.sent(),[3,4];case 3:throw u=o.sent(),d.create("fetch-network-error",{originalErrorMessage:u.message});case 4:if(200!==s.status)throw d.create("fetch-status-error",{httpStatus:s.status});o.label=5;case 5:return o.trys.push([5,7,,8]),[4,s.json()];case 6:return c=o.sent(),[3,8];case 7:throw l=o.sent(),d.create("fetch-parse-error",{originalErrorMessage:l.message});case 8:if(!(h=c.ttl.match(/^([\d.]+)(s)$/))||!h[2]||isNaN(Number(h[1])))throw d.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+c.ttl});return f=1e3*Number(h[1]),p=Date.now(),[2,{token:c.attestationToken,expireTimeMillis:p+f,issuedAtTimeMillis:p}]}}))}))}function k(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:b+"/projects/"+r+"/apps/"+i+":exchangeRecaptchaToken?key="+o,body:{recaptcha_token:t}}}function T(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:b+"/projects/"+r+"/apps/"+i+":"+_+"?key="+o,body:{debug_token:t}}}var N="firebase-app-check-database",A=1,R="firebase-app-check-store",j="debug-token",P=null;function D(){return P||(P=new Promise((function(e,t){try{var n=indexedDB.open(N,A);n.onsuccess=function(t){e(t.target.result)},n.onerror=function(e){var n;t(d.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(e){var t=e.target.result;if(0===e.oldVersion)t.createObjectStore(R,{keyPath:"compositeKey"})}}catch(r){t(d.create("storage-open",{originalErrorMessage:r.message}))}})),P)}function O(e){return M(F(e))}function L(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,a;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,D()];case 1:return n=o.sent(),r=n.transaction(R,"readwrite"),i=r.objectStore(R),a=i.put({compositeKey:e,value:t}),[2,new Promise((function(e,t){a.onsuccess=function(t){e()},r.onerror=function(e){var n;t(d.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function M(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n,r,i;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,D()];case 1:return t=o.sent(),n=t.transaction(R,"readonly"),r=n.objectStore(R),i=r.get(e),[2,new Promise((function(e,t){i.onsuccess=function(t){var n=t.target.result;e(n?n.value:void 0)},n.onerror=function(e){var n;t(d.create("storage-get",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function F(e){return e.options.appId+"-"+e.name}var U=new s.Logger("@firebase/app-check");function q(e,t){return a.isIndexedDBAvailable()?function(e,t){return L(F(e),t)}(e,t).catch((function(e){U.warn("Failed to write token to indexeddb. Error: "+e)})):Promise.resolve()}function V(){return o.__awaiter(this,void 0,void 0,(function(){var e,t;return o.__generator(this,(function(n){switch(n.label){case 0:e=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,M(j)];case 2:return e=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return e?[2,e]:(t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),(r=t,L(j,r)).catch((function(e){return U.warn("Failed to persist debug token to indexeddb. Error: "+e)})),console.log("AppCheck debug token: "+t+". You will need to whitelist it in the Firebase console for it to work"),[2,t])}var r}))}))}function B(){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(t){if((e=m()).enabled&&e.token)return[2,e.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")}))}))}var z={error:"UNKNOWN_ERROR"};function W(e,t,n){return void 0===n&&(n=!1),o.__awaiter(this,void 0,void 0,(function(){var r,i,a,s,u,c,l,h,d,f;return o.__generator(this,(function(p){switch(p.label){case 0:return I(e),r=v(e),i=r.token,a=void 0,i?[3,2]:[4,r.cachedTokenPromise];case 1:(s=p.sent())&&Q(s)&&(i=s,y(e,o.__assign(o.__assign({},r),{token:i})),G(e,{token:i.token})),p.label=2;case 2:return!n&&i&&Q(i)?[2,{token:i.token}]:m().enabled?(c=E,l=T,h=[e],[4,B()]):[3,6];case 3:return[4,c.apply(void 0,[l.apply(void 0,h.concat([p.sent()])),t])];case 4:return u=p.sent(),[4,q(e,u)];case 5:return p.sent(),y(e,o.__assign(o.__assign({},r),{token:u})),[2,{token:u.token}];case 6:return p.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=p.sent(),[3,9];case 8:return d=p.sent(),U.error(d),a=d,[3,9];case 9:return i?[3,10]:(f=function(e){return{token:C(z),error:e}}(a),[3,12]);case 10:return f={token:i.token},y(e,o.__assign(o.__assign({},r),{token:i})),[4,q(e,i)];case 11:p.sent(),p.label=12;case 12:return G(e,f),[2,f]}}))}))}function K(e,t,n,r,i){var a=v(e),s={next:r,error:i,type:n},u=o.__assign(o.__assign({},a),{tokenObservers:o.__spreadArray(o.__spreadArray([],a.tokenObservers),[s])});if(!u.tokenRefresher){var c=function(e,t){var n=this;return new x((function(){return o.__awaiter(n,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return v(e).token?[3,2]:[4,W(e,t)];case 1:return n=r.sent(),[3,4];case 2:return[4,W(e,t,!0)];case 3:n=r.sent(),r.label=4;case 4:if(n.error)throw n.error;return[2]}}))}))}),(function(){return!0}),(function(){var t=v(e);if(t.token){var n=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5,r=t.token.expireTimeMillis-3e5;return n=Math.min(n,r),Math.max(0,n-Date.now())}return 0}),w.RETRIAL_MIN_WAIT,w.RETRIAL_MAX_WAIT)}(e,t);u.tokenRefresher=c}if(!u.tokenRefresher.isRunning()&&a.isTokenAutoRefreshEnabled&&u.tokenRefresher.start(),a.token&&Q(a.token)){var l=a.token;Promise.resolve().then((function(){return r({token:l.token})})).catch((function(){}))}else null==a.token&&a.cachedTokenPromise.then((function(e){e&&Q(e)&&r({token:e.token})})).catch((function(){}));y(e,u)}function H(e,t){var n=v(e),r=n.tokenObservers.filter((function(e){return e.next!==t}));0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),y(e,o.__assign(o.__assign({},n),{tokenObservers:r}))}function G(e,t){for(var n=0,r=v(e).tokenObservers;n<r.length;n++){var i=r[n];try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(o){}}}function Q(e){return e.expireTimeMillis-Date.now()>0}var Y="https://www.google.com/recaptcha/api.js";function $(e,t){var n=v(e),r=new a.Deferred;y(e,o.__assign(o.__assign({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+e.name,s=document.createElement("div");s.id=i,s.style.display="none",document.body.appendChild(s);var u=S();return u?u.ready((function(){J(e,t,u,i),r.resolve(u)})):function(e){var t=document.createElement("script");t.src=""+Y,t.onload=e,document.head.appendChild(t)}((function(){var n=S();if(!n)throw new Error("no recaptcha");n.ready((function(){J(e,t,n,i),r.resolve(n)}))})),r.promise}function X(e){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(n){switch(n.label){case 0:return I(e),[4,v(e).reCAPTCHAState.initialized.promise];case 1:return t=n.sent(),[2,new Promise((function(n,r){var i=v(e).reCAPTCHAState;t.ready((function(){n(t.execute(i.widgetId,{action:"fire_app_check"}))}))}))]}}))}))}function J(e,t,n,r){var i=n.render(r,{sitekey:t,size:"invisible"}),a=v(e);y(e,o.__assign(o.__assign({},a),{reCAPTCHAState:o.__assign(o.__assign({},a.reCAPTCHAState),{widgetId:i})}))}var Z=function(){function e(e){this._siteKey=e}return e.prototype.getToken=function(){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(t){switch(t.label){case 0:if(!this._app||!this._platformLoggerProvider)throw d.create("use-before-activation",{appName:""});t.label=1;case 1:return t.trys.push([1,3,,4]),[4,X(this._app)];case 2:return e=t.sent(),[3,4];case 3:throw t.sent(),d.create("recaptcha-error");case 4:return[2,E(k(this._app,e),this._platformLoggerProvider)]}}))}))},e.prototype.initialize=function(e,t){this._app=e,this._platformLoggerProvider=t,$(e,this._siteKey).catch((function(){}))},e}(),ee=function(){function e(e){this._customProviderOptions=e}return e.prototype.getToken=function(){return o.__awaiter(this,void 0,void 0,(function(){var e,t,n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!this._app)throw d.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return e=r.sent(),t=a.issuedAtTime(e.token),n=null!==t&&t<Date.now()&&t>0?1e3*t:Date.now(),[2,o.__assign(o.__assign({},e),{issuedAtTimeMillis:n})]}}))}))},e.prototype.initialize=function(e){this._app=e},e}();function te(e,t,n,r){var i=v(e);if(i.activated)throw d.create("already-activated",{appName:e.name});var s=o.__assign(o.__assign({},i),{activated:!0});s.cachedTokenPromise=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!a.isIndexedDBAvailable())return[3,5];t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,O(e)];case 2:return t=r.sent(),[3,4];case 3:return n=r.sent(),U.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,t];case 5:return[2,void 0]}}))}))}(e).then((function(t){return t&&Q(t)&&y(e,o.__assign(o.__assign({},v(e)),{token:t})),t})),s.provider="string"===typeof t?new Z(t):t instanceof Z||t instanceof ee?t:new ee({getToken:t.getToken}),s.isTokenAutoRefreshEnabled=void 0===r?e.automaticDataCollectionEnabled:r,y(e,s),s.provider.initialize(e,n)}function ne(e,t){return{app:e,activate:function(n,r){return te(e,n,t,r)},setTokenAutoRefreshEnabled:function(t){return function(e,t){var n=v(e);n.tokenRefresher&&(!0===t?n.tokenRefresher.start():n.tokenRefresher.stop()),y(e,o.__assign(o.__assign({},n),{isTokenAutoRefreshEnabled:t}))}(e,t)},getToken:function(n){return function(e,t,n){return o.__awaiter(this,void 0,void 0,(function(){var r;return o.__generator(this,(function(i){switch(i.label){case 0:return[4,W(e,t,n)];case 1:if((r=i.sent()).error)throw r.error;return[2,{token:r.token}]}}))}))}(e,t,n)},onTokenChanged:function(n,r,i){return function(e,t,n,r,i){var o=function(){},a=function(){};return o=null!=n.next?n.next.bind(n):n,null!=n.error?a=n.error.bind(n):r&&(a=r),K(e,t,"EXTERNAL",o,a),function(){return H(e,o)}}(e,t,n,r)},INTERNAL:{delete:function(){for(var t=0,n=v(e).tokenObservers;t<n.length;t++){var r=n[t];H(e,r.next)}return Promise.resolve()}}}}var re="app-check-internal";!function(e){e.INTERNAL.registerComponent(new i.Component("appCheck",(function(e){return ne(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))}),"PUBLIC").setServiceProps({ReCaptchaV3Provider:Z,CustomProvider:ee}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider(re).initialize()}))),e.INTERNAL.registerComponent(new i.Component(re,(function(e){return function(e,t){return{getToken:function(n){return W(e,t,n)},addTokenListener:function(n){return K(e,t,"INTERNAL",n)},removeTokenListener:function(t){return H(e,t)}}}(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))}),"PUBLIC").setInstantiationMode("EXPLICIT")),e.registerVersion("@firebase/app-check","0.3.2")}(l.default),function(){var e=a.getGlobal();if("string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===e.FIREBASE_APPCHECK_DEBUG_TOKEN){var t=m();t.enabled=!0;var n=new a.Deferred;t.token=n,"string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(V())}}()},560:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>x,firebase:()=>w});var r,i,o=n(827),a=n(567),s=n(732),u=n(227),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.ErrorFactory("app","Firebase",c),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Logger("@firebase/app"),g=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=(0,a.deepCopy)(e),this.container=new s.ComponentContainer(t.name),this._addComponent(new s.Component("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t=d),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=d),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){p.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var v="8.10.0";var y=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"===typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=d);var s=o.name;if("string"!==typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if((0,a.contains)(t,s))throw l.create("duplicate-app",{appName:s});var u=new e(n,o,r);return t[s]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=f[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),u=t.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new s.Component(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(e,t){if(null!==e&&"function"!==typeof e)throw l.create("invalid-log-argument");(0,u.setUserLogHandler)(e,t)},apps:null,SDK_VERSION:v,INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(e=e||d,!(0,a.contains)(t,e))throw l.create("no-app",{appName:e});return t[e]}function o(o){var s=o.name;if(n.has(s))return p.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(e){if(void 0===e&&(e=i()),"function"!==typeof e[s])throw l.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==o.serviceProps&&(0,a.deepExtend)(u,o.serviceProps),r[s]=u,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,s).apply(this,o.multipleInstances?e:[])}}for(var c=0,h=Object.keys(t);c<h.length;c++){var d=h[c];t[d]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(g);return t.INTERNAL=(0,o.__assign)((0,o.__assign)({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,a.deepExtend)(t,e)},createSubscribe:a.createSubscribe,ErrorFactory:a.ErrorFactory,deepExtend:a.deepExtend}),t}(),m=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if((0,a.isBrowser)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var b=self.firebase.SDK_VERSION;b&&b.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var _=y.initializeApp;y.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,a.isNode)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),_.apply(void 0,e)};var w=y;!function(e,t){e.INTERNAL.registerComponent(new s.Component("platform-logger",(function(e){return new m(e)}),"PRIVATE")),e.registerVersion(h,"0.6.30",t),e.registerVersion("fire-js","")}(w);const x=w},732:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Component:()=>o,ComponentContainer:()=>u,Provider:()=>s});var r=n(827),i=n(567),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),a="[DEFAULT]",s=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.Deferred;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:a})}catch(d){}try{for(var i=(0,r.__values)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=(0,r.__read)(o.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);try{var h=this.getOrInitializeService({instanceIdentifier:l});c.resolve(h)}catch(d){}}}catch(f){t={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=a),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all((0,r.__spreadArray)((0,r.__spreadArray)([],(0,r.__read)(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),(0,r.__read)(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=a),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=a),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.options,o=void 0===i?{}:i,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:a,options:o});try{for(var u=(0,r.__values)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=(0,r.__read)(c.value,2),h=l[0],d=l[1];a===this.normalizeInstanceIdentifier(h)&&d.resolve(s)}}catch(f){t={error:f}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,o=this.onInitCallbacks.get(t);if(o)try{for(var a=(0,r.__values)(o),s=a.next();!s.done;s=a.next()){var u=s.value;try{u(e,t)}catch(c){}}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===a?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(s){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=a),this.component?this.component.multipleInstances?e:a:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var u=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new s(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},668:(e,t,n)=>{"use strict";var r=n(560),i=n(732),o=n(567),a=n(827),s=n(227);e=n.hmd(e);var u="";function c(e){u=e}var l=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,o.stringify)(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,o.jsonEval)(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),h=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return(0,o.contains)(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),d=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new l(t)}}catch(n){}return new h},f=d("localStorage"),p=d("sessionStorage"),g=new s.Logger("@firebase/database"),v=function(){var e=1;return function(){return e++}}(),y=function(e){var t=(0,o.stringToByteArray)(e),n=new o.Sha1;n.update(t);var r=n.digest();return o.base64.encodeByteArray(r)},m=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&"object"===typeof i&&"number"===typeof i.length?n+=m.apply(null,i):n+="object"===typeof i?(0,o.stringify)(i):i,n+=" "}return n},b=null,_=!0,w=function(e,t){(0,o.assert)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(g.logLevel=s.LogLevel.VERBOSE,b=g.log.bind(g),t&&p.set("logging_enabled",!0)):"function"===typeof e?b=e:(b=null,p.remove("logging_enabled"))},x=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===_&&(_=!1,null===b&&!0===p.get("logging_enabled")&&w(!0)),b){var n=m.apply(null,e);b(n)}},S=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];x.apply(void 0,(0,a.__spreadArray)([e],(0,a.__read)(t)))}},I=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+m.apply(void 0,(0,a.__spreadArray)([],(0,a.__read)(e)));g.error(n)},C=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+m.apply(void 0,(0,a.__spreadArray)([],(0,a.__read)(e)));throw g.error(n),new Error(n)},E=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+m.apply(void 0,(0,a.__spreadArray)([],(0,a.__read)(e)));g.warn(n)},k=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},T="[MIN_NAME]",N="[MAX_NAME]",A=function(e,t){if(e===t)return 0;if(e===T||t===N)return-1;if(t===T||e===N)return 1;var n=q(e),r=q(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},R=function(e,t){return e===t?0:e<t?-1:1},j=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,o.stringify)(t))},P=function(e){if("object"!==typeof e||null===e)return(0,o.stringify)(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)0!==i&&(r+=","),r+=(0,o.stringify)(t[i]),r+=":",r+=P(e[t[i]]);return r+="}"},D=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function O(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var L=function(e){(0,o.assert)(!k(e),"Invalid JSON number");var t,n,r,i,a,s=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),s))+s,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var u=[];for(a=52;a;a-=1)u.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)u.push(n%2?1:0),n=Math.floor(n/2);u.push(t?1:0),u.reverse();var c=u.join(""),l="";for(a=0;a<64;a+=8){var h=parseInt(c.substr(a,8),2).toString(16);1===h.length&&(h="0"+h),l+=h}return l.toLowerCase()};var M=new RegExp("^-?(0*)\\d{1,10}$"),F=-2147483648,U=2147483647,q=function(e){if(M.test(e)){var t=Number(e);if(t>=F&&t<=U)return t}return null},V=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw E("Exception was thrown by user callback.",e),t}),Math.floor(0))}},B=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},z=function(){function e(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((function(e){return n.appCheck=e}))}return e.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){E('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}(),W=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(e){return r.auth_=e}))}return e.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(x("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',E(e)},e}(),K=function(){function e(e){this.accessToken=e}return e.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(e){e(this.accessToken)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}(),H="5",G=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Q="ac",Y="websocket",$="long_polling",X=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=f.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&f.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function J(e,t,n){var r;if((0,o.assert)("string"===typeof t,"typeof type must == string"),(0,o.assert)("object"===typeof n,"typeof params must == object"),t===Y)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==$)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return O(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var Z=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),(0,o.contains)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return(0,o.deepCopy)(this.counters_)},e}(),ee={},te={};function ne(e){var t=e.toString();return ee[t]||(ee[t]=new Z),ee[t]}var re=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&V((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},e}(),ie="start",oe=function(){function e(e,t,n,r,i,o,a){var s=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=S(e),this.stats_=ne(t),this.urlFn=function(e){return s.appCheckToken&&(e[Q]=s.appCheckToken),J(t,$,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new re(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if((0,o.isNodeSdk)()||"complete"===document.readyState)e();else{var t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new ae((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,a.__read)(e,5),i=r[0],o=r[1],s=r[2];if(r[3],r[4],n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===ie)n.id=o,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,a.__read)(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={};e[ie]="t",e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=H,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e[Q]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&G.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!(0,o.isNodeSdk)()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=(0,o.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=(0,o.base64Encode)(t),r=D(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!(0,o.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=(0,o.stringify)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),ae=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,o.isNodeSdk)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=v(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11))a='<script>document.domain="'+document.domain+'";<\/script>';var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(u){x("frame writing exception"),u.stack&&x(u.stack),x(u)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||x("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;(0,o.isNodeSdk)()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){x("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},e}(),se=null;"undefined"!==typeof MozWebSocket?se=MozWebSocket:"undefined"!==typeof WebSocket&&(se=WebSocket);var ue=function(){function e(t,n,r,i,o,a,s){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=S(this.connId),this.stats_=ne(n),this.connURL=e.connectionURL_(n,a,s,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n,r){var i={};return i.v=H,!(0,o.isNodeSdk)()&&"undefined"!==typeof location&&location.hostname&&G.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i[Q]=r),J(e,Y,i)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,f.set("previous_websocket_failure",!0);try{if((0,o.isNodeSdk)()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/5/"+u+"/"+process.platform+"/"+r,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(i.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},s=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;s&&(i.proxy={origin:s}),this.mySock=new se(this.connURL,[],i)}else{i={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new se(this.connURL,[],i)}}catch(l){this.log_("Error instantiating WebSocket.");var c=l.message||l.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==se&&!e.forceDisallow_},e.previouslyFailed=function(){return f.isInMemoryStorage||!0===f.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){f.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=(0,o.jsonEval)(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if((0,o.assert)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=(0,o.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=D(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),ce=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[oe,ue]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=ue&&ue.isAvailable(),o=i&&!ue.previouslyFailed();if(t.webSocketOnly&&(i||E("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[ue];else{var s=this.transports_=[];try{for(var u=(0,a.__values)(e.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&s.push(l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),le=function(){function e(e,t,n,r,i,o,a,s,u,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=S("c:"+this.id+":"),this.transportManager_=new ce(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=B((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=j("t",e),n=j("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=j("t",e),n=j("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=j("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?I("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):I("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),H!==n&&E("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),B((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):B((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(f.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),he=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.refreshAppCheckToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),de=function(){function e(e){this.allowedEvents_=e,this.listeners_={},(0,o.assert)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=(0,a.__spreadArray)([],(0,a.__read)(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){(0,o.assert)(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),fe=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||(0,o.isMobileCordova)()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return(0,a.__extends)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.assert)("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(de),pe=32,ge=768,ve=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();function ye(){return new ve("")}function me(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function be(e){return e.pieces_.length-e.pieceNum_}function _e(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new ve(e.pieces_,t)}function we(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function xe(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function Se(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ve(t,0)}function Ie(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof ve)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new ve(n,0)}function Ce(e){return e.pieceNum_>=e.pieces_.length}function Ee(e,t){var n=me(e),r=me(t);if(null===n)return t;if(n===r)return Ee(_e(e),_e(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function ke(e,t){for(var n=xe(e,0),r=xe(t,0),i=0;i<n.length&&i<r.length;i++){var o=A(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Te(e,t){if(be(e)!==be(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Ne(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(be(e)>be(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Ae=function(e,t){this.errorPrefix_=t,this.parts_=xe(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=(0,o.stringLength)(this.parts_[n]);Re(this)};function Re(e){if(e.byteLength_>ge)throw new Error(e.errorPrefix_+"has a key path longer than "+ge+" bytes ("+e.byteLength_+").");if(e.parts_.length>pe)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+pe+") or object contains a cycle "+je(e))}function je(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Pe,De,Oe=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(n="visibilitychange",t="hidden"):"undefined"!==typeof document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):"undefined"!==typeof document.msHidden?(n="msvisibilitychange",t="msHidden"):"undefined"!==typeof document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return(0,a.__extends)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.assert)("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(de),Le=1e3,Me=function(e){function t(n,r,i,a,s,u,c,l){var h=e.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=i,h.onConnectStatus_=a,h.onServerInfoUpdate_=s,h.authTokenProvider_=u,h.appCheckTokenProvider_=c,h.authOverride_=l,h.id=t.nextPersistentConnectionId_++,h.log_=S("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=Le,h.maxReconnectDelay_=3e5,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.appCheckToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.invalidAppCheckTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,l&&!(0,o.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Oe.getInstance().on("visible",h.onVisible_,h),-1===n.host.indexOf("fblocal")&&fe.getInstance().on("online",h.onOnline_,h),h}return(0,a.__extends)(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_((0,o.stringify)(i)),(0,o.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this;this.initConnection_();var n=new o.Deferred,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise},t.prototype.listen=function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),(0,o.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,o.assert)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"===typeof e&&(0,o.contains)(e,"w")){var n=(0,o.safeGet)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();E("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||(0,o.isAdmin)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=(0,o.isValidFormat)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))},t.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,o.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){this.initConnection_();var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+(0,o.stringify)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):I("Unrecognized action received from server: "+(0,o.stringify)(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;(0,o.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Le,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Le,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Le),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return(0,a.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,s,u,c,l,h,d,f,p,g,v,y=this;return(0,a.__generator)(this,(function(m){switch(m.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,u=!1,c=null,l=function(){c?c.close():(u=!0,r())},h=function(e){(0,o.assert)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)},this.realtime_={close:l,sendRequest:h},d=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,m.label=1;case 1:return m.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)])];case 2:return f=a.__read.apply(void 0,[m.sent(),2]),p=f[0],g=f[1],u?x("getToken() completed but was canceled"):(x("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=g&&g.token,c=new le(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,(function(e){E(e+" ("+y.repoInfo_.toString()+")"),y.interrupt("server_kill")}),s)),[3,4];case 3:return v=m.sent(),this.log_("Failed to get token: "+v),u||(this.repoInfo_.nodeAdmin&&E(v),l()),[3,4];case 4:return[2]}}))}))},t.prototype.interrupt=function(e){x("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){x("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,o.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=Le,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return P(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new ve(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){x("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(e,t){x("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=(0,a.__values)(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var u=(n=void 0,(0,a.__values)(s.values())),c=u.next();!c.done;c=u.next()){var l=c.value;this.sendListen_(l)}}catch(f){n={error:f}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(p){e={error:p}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);for(;this.onDisconnectRequestQueue_.length;){var d=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(d.action,d.pathString,d.data,d.onComplete)}for(h=0;h<this.outstandingGets_.length;h++)this.outstandingGets_[h]&&this.sendGet_(h)},t.prototype.sendConnectStats_=function(){var e={},t="js";(0,o.isNodeSdk)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+u.replace(/\./g,"-")]=1,(0,o.isMobileCordova)()?e["framework.cordova"]=1:(0,o.isReactNative)()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=fe.getInstance().currentlyOnline();return(0,o.isEmpty)(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(he),Fe=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),Ue=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new Fe(T,e),r=new Fe(T,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return Fe.MIN},e}(),qe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Pe},set:function(e){Pe=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return A(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw(0,o.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return Fe.MIN},t.prototype.maxPost=function(){return new Fe(N,Pe)},t.prototype.makePost=function(e,t){return(0,o.assert)("string"===typeof e,"KeyIndex indexValue must always be a string."),new Fe(e,Pe)},t.prototype.toString=function(){return".key"},t}(Ue),Ve=new qe,Be=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),ze=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Ke.EMPTY_NODE,this.right=null!=o?o:Ke.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Ke.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Ke.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),We=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new ze(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Ke=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,ze.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ze.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Be(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Be(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Be(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Be(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new We,e}();function He(e,t){return A(e.name,t.name)}function Ge(e,t){return A(e,t)}var Qe,Ye,$e,Xe=function(e){return"number"===typeof e?"number:"+L(e):"string:"+e},Je=function(e){if(e.isLeafNode()){var t=e.val();(0,o.assert)("string"===typeof t||"number"===typeof t||"object"===typeof t&&(0,o.contains)(t,".sv"),"Priority must be a string or number.")}else(0,o.assert)(e===De||e.isEmpty(),"priority of unexpected type.");(0,o.assert)(e===De||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Ze=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,(0,o.assert)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Je(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return Qe},set:function(e){Qe=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return Ce(t)?this:".priority"===me(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=me(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,o.assert)(".priority"!==r||1===be(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(_e(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Xe(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?L(this.value_):this.value_,this.lazyHash_=y(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:((0,o.assert)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return(0,o.assert)(i>=0,"Unknown leaf type: "+n),(0,o.assert)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();var et,tt,nt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?A(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return Fe.MIN},t.prototype.maxPost=function(){return new Fe(N,new Ze("[PRIORITY-POST]",$e))},t.prototype.makePost=function(e,t){var n=Ye(e);return new Fe(t,new Ze("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(Ue),rt=new nt,it=Math.log(2),ot=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/it,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),at=function(e,t,n,r){e.sort(t);var i=function(t,r){var o,a,s=r-t;if(0===s)return null;if(1===s)return o=e[t],a=n?n(o):o,new ze(a,o.node,ze.BLACK,null,null);var u=parseInt(s/2,10)+t,c=i(t,u),l=i(u+1,r);return o=e[u],a=n?n(o):o,new ze(a,o.node,ze.BLACK,c,l)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var c=i(o+1,s),l=e[o],h=n?n(l):l;u(new ze(h,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),h=Math.pow(2,t.count-(c+1));l?s(h,ze.BLACK):(s(h,ze.BLACK),s(h,ze.RED))}return o}(new ot(e.length));return new Ke(r||t,o)},st={},ut=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return(0,o.assert)(st&&rt,"ChildrenNode.ts has not been loaded"),et=et||new e({".priority":st},{".priority":rt})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=(0,o.safeGet)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ke?t:null},e.prototype.hasIndex=function(e){return(0,o.contains)(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){(0,o.assert)(t!==Ve,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],s=!1,u=n.getIterator(Fe.Wrap),c=u.getNext();c;)s=s||t.isDefinedOn(c.node),i.push(c),c=u.getNext();r=s?at(i,t.getCompare()):st;var l=t.toString(),h=(0,a.__assign)({},this.indexSet_);h[l]=t;var d=(0,a.__assign)({},this.indexes_);return d[l]=r,new e(d,h)},e.prototype.addToIndexes=function(t,n){var r=this;return new e((0,o.map)(this.indexes_,(function(e,i){var a=(0,o.safeGet)(r.indexSet_,i);if((0,o.assert)(a,"Missing index implementation for "+i),e===st){if(a.isDefinedOn(t.node)){for(var s=[],u=n.getIterator(Fe.Wrap),c=u.getNext();c;)c.name!==t.name&&s.push(c),c=u.getNext();return s.push(t),at(s,a.getCompare())}return st}var l=n.get(t.name),h=e;return l&&(h=h.remove(new Fe(t.name,l))),h.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e((0,o.map)(this.indexes_,(function(e){if(e===st)return e;var r=n.get(t.name);return r?e.remove(new Fe(t.name,r)):e})),this.indexSet_)},e}(),ct=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Je(this.priorityNode_),this.children_.isEmpty()&&(0,o.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return tt||(tt=new e(new Ke(Ge),null,ut.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||tt},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?tt:t},e.prototype.getChild=function(e){var t=me(e);return null===t?this:this.getImmediateChild(t).getChild(_e(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if((0,o.assert)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new Fe(t,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?tt:this.priorityNode_;return new e(i,s,a)},e.prototype.updateChild=function(e,t){var n=me(e);if(null===n)return t;(0,o.assert)(".priority"!==me(e)||1===be(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(_e(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(rt,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Xe(this.getPriority().val())+":"),this.forEachChild(rt,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":y(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Fe(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Fe(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Fe(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Fe.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Fe.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===lt?-1:0},e.prototype.withIndex=function(t){if(t===Ve||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===Ve||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(rt),r=t.getIterator(rt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===Ve?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),lt=new(function(e){function t(){return e.call(this,new Ke(Ge),ct.EMPTY_NODE,ut.Default)||this}return(0,a.__extends)(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return ct.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(ct));Object.defineProperties(Fe,{MIN:{value:new Fe(T,ct.EMPTY_NODE)},MAX:{value:new Fe(N,lt)}}),qe.__EMPTY_NODE=ct.EMPTY_NODE,Ze.__childrenNodeConstructor=ct,De=lt,function(e){$e=e}(lt);var ht=!0;function dt(e,t){if(void 0===t&&(t=null),null===e)return ct.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),(0,o.assert)(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new Ze(e,dt(t));if(e instanceof Array||!ht){var n=ct.EMPTY_NODE;return O(e,(function(t,r){if((0,o.contains)(e,t)&&"."!==t.substring(0,1)){var i=dt(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(dt(t))}var r=[],i=!1;if(O(e,(function(e,t){if("."!==e.substring(0,1)){var n=dt(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Fe(e,n)))}})),0===r.length)return ct.EMPTY_NODE;var a=at(r,He,(function(e){return e.name}),Ge);if(i){var s=at(r,rt.getCompare());return new ct(a,dt(t),new ut({".priority":s},{".priority":rt}))}return new ct(a,dt(t),ut.Default)}!function(e){Ye=e}(dt);var ft=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,(0,o.assert)(!Ce(t)&&".priority"!==me(t),"Can't create PathIndex with empty path or .priority key"),n}return(0,a.__extends)(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?A(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=dt(e),r=ct.EMPTY_NODE.updateChild(this.indexPath_,n);return new Fe(t,r)},t.prototype.maxPost=function(){var e=ct.EMPTY_NODE.updateChild(this.indexPath_,lt);return new Fe(N,e)},t.prototype.toString=function(){return xe(this.indexPath_,0).join("/")},t}(Ue),pt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?A(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return Fe.MIN},t.prototype.maxPost=function(){return Fe.MAX},t.prototype.makePost=function(e,t){var n=dt(e);return new Fe(t,n)},t.prototype.toString=function(){return".value"},t}(Ue),gt=new pt,vt="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",yt=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=vt.charAt(n%64),n=Math.floor(n/64);(0,o.assert)(0===n,"Cannot push at time == 0");var s=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=vt.charAt(t[r]);return(0,o.assert)(20===s.length,"nextPushId: Length should be 20."),s}}(),mt=function(e){if(e===""+U)return"-";var t=q(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return N;var o=n[i],a=vt.charAt(vt.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},bt=function(e){if(e===""+F)return T;var t=q(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?""+U:(delete n[n.length-1],n.join("")):(n[n.length-1]=vt.charAt(vt.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function _t(e){return{type:"value",snapshotNode:e}}function wt(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function xt(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function St(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var It=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,a){(0,o.assert)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(xt(t,s)):(0,o.assert)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(wt(t,n)):a.trackChildChange(St(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(rt,(function(e,r){t.hasChild(e)||n.trackChildChange(xt(e,r))})),t.isLeafNode()||t.forEachChild(rt,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(St(t,r,i))}else n.trackChildChange(wt(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?ct.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),Ct=function(){function e(t){this.indexedFilter_=new It(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new Fe(t,n))||(n=ct.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=ct.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(ct.EMPTY_NODE);var i=this;return t.forEachChild(rt,(function(e,t){i.matches(new Fe(e,t))||(r=r.updateImmediateChild(e,ct.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),Et=function(){function e(e){this.rangedFilter_=new Ct(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new Fe(t,n))||(n=ct.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=ct.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=ct.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(ct.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(e,t){return l(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();){a=i.getNext();!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,ct.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(e,t){return s(t,e)}}else a=this.index_.getCompare();var u=e;(0,o.assert)(u.numChildren()===this.limit_,"");var c=new Fe(t,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(t)){for(var d=u.getImmediateChild(t),f=r.getChildAfterChild(this.index_,l,this.reverse_);null!=f&&(f.name===t||u.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var p=null==f?1:a(f,c);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(St(t,n,d)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(xt(t,d));var g=u.updateImmediateChild(t,ct.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(wt(f.name,f.node)),g.updateImmediateChild(f.name,f.node)):g}return n.isEmpty()?e:h&&a(l,c)>=0?(null!=i&&(i.trackChildChange(xt(l.name,l.node)),i.trackChildChange(wt(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(l.name,ct.EMPTY_NODE)):e},e}(),kt=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=rt}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return(0,o.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return(0,o.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:T},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return(0,o.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return(0,o.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:N},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return(0,o.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===rt},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function Tt(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Nt(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function At(e,t){var n=e.copy();return n.index_=t,n}function Rt(e){var t,n={};return e.isDefault()||(e.index_===rt?t="$priority":e.index_===gt?t="$value":e.index_===Ve?t="$key":((0,o.assert)(e.index_ instanceof ft,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=(0,o.stringify)(t),e.startSet_&&(n.startAt=(0,o.stringify)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+(0,o.stringify)(e.indexStartName_))),e.endSet_&&(n.endAt=(0,o.stringify)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+(0,o.stringify)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function jt(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==rt&&(t.i=e.index_.toString()),t}var Pt=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.repoInfo_=t,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=S("p:rest:"),o.listens_={},o}return(0,a.__extends)(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:((0,o.assert)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,r,i){var a=this,s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);var u=t.getListenId_(e,r),c={};this.listens_[u]=c;var l=Rt(e._queryParams);this.restRequest_(s+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(s,n,!1,r),(0,o.safeGet)(a.listens_,u)===c)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=Rt(e._queryParams),r=e._path.toString(),i=new o.Deferred;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;return void 0===t&&(t={}),t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var s=(0,a.__read)(i,2),u=s[0],c=s[1];u&&u.accessToken&&(t.auth=u.accessToken),c&&c.token&&(t.ac=c.token);var l=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+(0,o.querystring)(t);r.log_("Sending REST request for "+l);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(n&&4===h.readyState){r.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);var e=null;if(h.status>=200&&h.status<300){try{e=(0,o.jsonEval)(h.responseText)}catch(t){E("Failed to parse JSON response for "+l+": "+h.responseText)}n(null,e)}else 401!==h.status&&404!==h.status&&E("Got unsuccessful REST response for "+l+" Status: "+h.status),n(h.status);n=null}},h.open("GET",l,!0),h.send()}))},t}(he),Dt=function(){function e(){this.rootNode_=ct.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();function Ot(){return{value:null,children:new Map}}function Lt(e,t,n){if(Ce(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=me(t);e.children.has(r)||e.children.set(r,Ot()),Lt(e.children.get(r),t=_e(t),n)}}function Mt(e,t){if(Ce(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(rt,(function(t,n){Lt(e,new ve(t),n)})),Mt(e,t)}if(e.children.size>0){var r=me(t);if(t=_e(t),e.children.has(r))Mt(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function Ft(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){Ft(r,new ve(t.toString()+"/"+e),n)}))}var Ut,qt=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=(0,a.__assign)({},e);return this.last_&&O(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),Vt=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new qt(e);var n=1e4+2e4*Math.random();B(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;O(t,(function(t,i){i>0&&(0,o.contains)(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),B(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}();function Bt(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Ut||(Ut={}));var zt,Wt=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Ut.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(Ce(this.path)){if(null!=this.affectedTree.value)return(0,o.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new ve(t));return new e(ye(),n,this.revert)}return(0,o.assert)(me(this.path)===t,"operationForChild called for unrelated child."),new e(_e(this.path),this.affectedTree,this.revert)},e}(),Kt=function(){function e(e,t){this.source=e,this.path=t,this.type=Ut.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return Ce(this.path)?new e(this.source,ye()):new e(this.source,_e(this.path))},e}(),Ht=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Ut.OVERWRITE}return e.prototype.operationForChild=function(t){return Ce(this.path)?new e(this.source,ye(),this.snap.getImmediateChild(t)):new e(this.source,_e(this.path),this.snap)},e}(),Gt=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Ut.MERGE}return e.prototype.operationForChild=function(t){if(Ce(this.path)){var n=this.children.subtree(new ve(t));return n.isEmpty()?null:n.value?new Ht(this.source,ye(),n.value):new e(this.source,ye(),n)}return(0,o.assert)(me(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,_e(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),Qt=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(Ce(e))return this.isFullyInitialized()&&!this.filtered_;var t=me(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),Yt=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};function $t(e,t,n,r,i,a){var s=r.filter((function(e){return e.type===n}));s.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw(0,o.assertionError)("Should only compare child_ events.");var r=new Fe(t.childName,t.snapshotNode),i=new Fe(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),s.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Xt(e,t){return{eventCache:e,serverCache:t}}function Jt(e,t,n,r){return Xt(new Qt(t,n,r),e.serverCache)}function Zt(e,t,n,r){return Xt(e.eventCache,new Qt(t,n,r))}function en(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function tn(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var nn=function(){function e(e,t){void 0===t&&(zt||(zt=new Ke(R)),t=zt),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return O(t,(function(e,t){n=n.set(new ve(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:ye(),value:this.value};if(Ce(e))return null;var n=me(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(_e(e),t);return null!=i?{path:Ie(new ve(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(Ce(t))return this;var n=me(t),r=this.children.get(n);return null!==r?r.subtree(_e(t)):new e(null)},e.prototype.set=function(t,n){if(Ce(t))return new e(n,this.children);var r=me(t),i=(this.children.get(r)||new e(null)).set(_e(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(Ce(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=me(t),r=this.children.get(n);if(r){var i=r.remove(_e(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(Ce(e))return this.value;var t=me(e),n=this.children.get(t);return n?n.get(_e(e)):null},e.prototype.setTree=function(t,n){if(Ce(t))return n;var r=me(t),i=(this.children.get(r)||new e(null)).setTree(_e(t),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new e(this.value,o)},e.prototype.fold=function(e){return this.fold_(ye(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Ie(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,ye(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Ce(e))return null;var i=me(e),o=this.children.get(i);return o?o.findOnPath_(_e(e),Ie(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,ye(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(Ce(t))return this;this.value&&r(n,this.value);var i=me(t),o=this.children.get(i);return o?o.foreachOnPath_(_e(t),Ie(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(ye(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Ie(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),rn=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new nn(null))},e}();function on(e,t,n){if(Ce(t))return new rn(new nn(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=Ee(i,t);return o=o.updateChild(a,n),new rn(e.writeTree_.set(i,o))}var s=new nn(n),u=e.writeTree_.setTree(t,s);return new rn(u)}function an(e,t,n){var r=e;return O(n,(function(e,n){r=on(r,Ie(t,e),n)})),r}function sn(e,t){if(Ce(t))return rn.empty();var n=e.writeTree_.setTree(t,new nn(null));return new rn(n)}function un(e,t){return null!=cn(e,t)}function cn(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Ee(n.path,t)):null}function ln(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(rt,(function(e,n){t.push(new Fe(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Fe(e,n.value))})),t}function hn(e,t){if(Ce(t))return e;var n=cn(e,t);return new rn(null!=n?new nn(n):e.writeTree_.subtree(t))}function dn(e){return e.writeTree_.isEmpty()}function fn(e,t){return pn(ye(),e.writeTree_,t)}function pn(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?((0,o.assert)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=pn(Ie(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Ie(e,".priority"),r)),n}function gn(e,t){return Tn(t,e)}function vn(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));(0,o.assert)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,s=e.allWrites.length-1;i&&s>=0;){var u=e.allWrites[s];u.visible&&(s>=n&&yn(u,r.path)?i=!1:Ne(r.path,u.path)&&(a=!0)),s--}if(i){if(a)return function(e){e.visibleWrites=bn(e.allWrites,mn,ye()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=sn(e.visibleWrites,r.path):O(r.children,(function(t){e.visibleWrites=sn(e.visibleWrites,Ie(r.path,t))}));return!0}return!1}function yn(e,t){if(e.snap)return Ne(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Ne(Ie(e.path,n),t))return!0;return!1}function mn(e){return e.visible}function bn(e,t,n){for(var r=rn.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var s=a.path,u=void 0;if(a.snap)Ne(n,s)?r=on(r,u=Ee(n,s),a.snap):Ne(s,n)&&(u=Ee(s,n),r=on(r,ye(),a.snap.getChild(u)));else{if(!a.children)throw(0,o.assertionError)("WriteRecord should have .snap or .children");if(Ne(n,s))r=an(r,u=Ee(n,s),a.children);else if(Ne(s,n))if(Ce(u=Ee(s,n)))r=an(r,ye(),a.children);else{var c=(0,o.safeGet)(a.children,me(u));if(c){var l=c.getChild(_e(u));r=on(r,ye(),l)}}}}}return r}function _n(e,t,n,r,i){if(r||i){var o=hn(e.visibleWrites,t);if(!i&&dn(o))return n;if(i||null!=n||un(o,ye())){return fn(bn(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Ne(e.path,t)||Ne(t,e.path))}),t),n||ct.EMPTY_NODE)}return null}var a=cn(e.visibleWrites,t);if(null!=a)return a;var s=hn(e.visibleWrites,t);return dn(s)?n:null!=n||un(s,ye())?fn(s,n||ct.EMPTY_NODE):null}function wn(e,t,n,r){return _n(e.writeTree,e.treePath,t,n,r)}function xn(e,t){return function(e,t,n){var r=ct.EMPTY_NODE,i=cn(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(rt,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=hn(e.visibleWrites,t);return n.forEachChild(rt,(function(e,t){var n=fn(hn(o,new ve(e)),t);r=r.updateImmediateChild(e,n)})),ln(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return ln(hn(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Sn(e,t,n,r){return function(e,t,n,r,i){(0,o.assert)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=Ie(t,n);if(un(e.visibleWrites,a))return null;var s=hn(e.visibleWrites,a);return dn(s)?i.getChild(n):fn(s,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function In(e,t){return function(e,t){return cn(e.visibleWrites,t)}(e.writeTree,Ie(e.treePath,t))}function Cn(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s,u=hn(e.visibleWrites,t),c=cn(u,ye());if(null!=c)s=c;else{if(null==n)return[];s=fn(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],h=a.getCompare(),d=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),f=d.getNext();f&&l.length<i;)0!==h(f,r)&&l.push(f),f=d.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,o)}function En(e,t,n){return function(e,t,n,r){var i=Ie(t,n),o=cn(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?fn(hn(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function kn(e,t){return Tn(Ie(e.treePath,t),e.writeTree)}function Tn(e,t){return{treePath:e,writeTree:t}}var Nn=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;(0,o.assert)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,o.assert)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,St(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,xt(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,wt(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw(0,o.assertionError)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,St(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),An=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),Rn=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Qt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return En(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:tn(this.viewCache_),i=Cn(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]},e}();function jn(e,t,n,r,i){var a,s,u=new Nn;if(n.type===Ut.OVERWRITE){var c=n;c.source.fromUser?a=On(e,t,c.path,c.snap,r,i,u):((0,o.assert)(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered()&&!Ce(c.path),a=Dn(e,t,c.path,c.snap,r,i,s,u))}else if(n.type===Ut.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,o,a){var s=t;return r.foreach((function(r,u){var c=Ie(n,r);Ln(t,me(c))&&(s=On(e,s,c,u,i,o,a))})),r.foreach((function(r,u){var c=Ie(n,r);Ln(t,me(c))||(s=On(e,s,c,u,i,o,a))})),s}(e,t,l.path,l.children,r,i,u):((0,o.assert)(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),a=Fn(e,t,l.path,l.children,r,i,s,u))}else if(n.type===Ut.ACK_USER_WRITE){var h=n;a=h.revert?function(e,t,n,r,i,a){var s;if(null!=In(r,n))return t;var u=new Rn(r,t,i),c=t.eventCache.getNode(),l=void 0;if(Ce(n)||".priority"===me(n)){var h=void 0;if(t.serverCache.isFullyInitialized())h=wn(r,tn(t));else{var d=t.serverCache.getNode();(0,o.assert)(d instanceof ct,"serverChildren would be complete if leaf node"),h=xn(r,d)}l=e.filter.updateFullNode(c,h,a)}else{var f=me(n),p=En(r,f,t.serverCache);null==p&&t.serverCache.isCompleteForChild(f)&&(p=c.getImmediateChild(f)),(l=null!=p?e.filter.updateChild(c,f,p,_e(n),u,a):t.eventCache.getNode().hasChild(f)?e.filter.updateChild(c,f,ct.EMPTY_NODE,_e(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(s=wn(r,tn(t))).isLeafNode()&&(l=e.filter.updateFullNode(l,s,a))}return s=t.serverCache.isFullyInitialized()||null!=In(r,ye()),Jt(t,l,s,e.filter.filtersNodes())}(e,t,h.path,r,i,u):function(e,t,n,r,i,o,a){if(null!=In(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(Ce(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Dn(e,t,n,u.getNode().getChild(n),i,o,s,a);if(Ce(n)){var c=new nn(null);return u.getNode().forEachChild(Ve,(function(e,t){c=c.set(new ve(e),t)})),Fn(e,t,n,c,i,o,s,a)}return t}var l=new nn(null);return r.foreach((function(e,t){var r=Ie(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),Fn(e,t,n,l,i,o,s,a)}(e,t,h.path,h.affectedTree,r,i,u)}else{if(n.type!==Ut.LISTEN_COMPLETE)throw(0,o.assertionError)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var o=t.serverCache,a=Zt(t,o.getNode(),o.isFullyInitialized()||Ce(n),o.isFiltered());return Pn(e,a,n,r,An,i)}(e,t,n.path,r,u)}var d=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=en(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(_t(en(t)))}}(t,a,d),{viewCache:a,changes:d}}function Pn(e,t,n,r,i,a){var s=t.eventCache;if(null!=In(r,n))return t;var u=void 0,c=void 0;if(Ce(n))if((0,o.assert)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=tn(t),h=xn(r,l instanceof ct?l:ct.EMPTY_NODE);u=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var d=wn(r,tn(t));u=e.filter.updateFullNode(t.eventCache.getNode(),d,a)}else{var f=me(n);if(".priority"===f){(0,o.assert)(1===be(n),"Can't have a priority with additional path components");var p=s.getNode(),g=Sn(r,n,p,c=t.serverCache.getNode());u=null!=g?e.filter.updatePriority(p,g):s.getNode()}else{var v=_e(n),y=void 0;if(s.isCompleteForChild(f)){c=t.serverCache.getNode();var m=Sn(r,n,s.getNode(),c);y=null!=m?s.getNode().getImmediateChild(f).updateChild(v,m):s.getNode().getImmediateChild(f)}else y=En(r,f,t.serverCache);u=null!=y?e.filter.updateChild(s.getNode(),f,y,v,i,a):s.getNode()}}return Jt(t,u,s.isFullyInitialized()||Ce(n),e.filter.filtersNodes())}function Dn(e,t,n,r,i,o,a,s){var u,c=t.serverCache,l=a?e.filter:e.filter.getIndexedFilter();if(Ce(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var d=me(n);if(!c.isCompleteForPath(n)&&be(n)>1)return t;var f=_e(n),p=c.getNode().getImmediateChild(d).updateChild(f,r);u=".priority"===d?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),d,p,f,An,null)}var g=Zt(t,u,c.isFullyInitialized()||Ce(n),l.filtersNodes());return Pn(e,g,n,i,new Rn(i,g,o),s)}function On(e,t,n,r,i,o,a){var s,u,c=t.eventCache,l=new Rn(i,t,o);if(Ce(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=Jt(t,u,!0,e.filter.filtersNodes());else{var h=me(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=Jt(t,u,c.isFullyInitialized(),c.isFiltered());else{var d=_e(n),f=c.getNode().getImmediateChild(h),p=void 0;if(Ce(d))p=r;else{var g=l.getCompleteChild(h);p=null!=g?".priority"===we(d)&&g.getChild(Se(d)).isEmpty()?g:g.updateChild(d,r):ct.EMPTY_NODE}if(f.equals(p))s=t;else s=Jt(t,e.filter.updateChild(c.getNode(),h,p,d,l,a),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function Ln(e,t){return e.eventCache.isCompleteForChild(t)}function Mn(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Fn(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=Ce(n)?r:new nn(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=Mn(0,t.serverCache.getNode().getImmediateChild(n),r);c=Dn(e,c,new ve(n),u,i,o,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=Mn(0,t.serverCache.getNode().getImmediateChild(n),r);c=Dn(e,c,new ve(n),h,i,o,a,s)}})),c}var Un,qn=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new It(r.getIndex()),o=(n=r).loadsAllData()?new It(n.getIndex()):n.hasLimit()?new Et(n):new Ct(n);this.processor_=function(e){return{filter:e}}(o);var a=t.serverCache,s=t.eventCache,u=i.updateFullNode(ct.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode(ct.EMPTY_NODE,s.getNode(),null),l=new Qt(u,a.isFullyInitialized(),i.filtersNodes()),h=new Qt(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=Xt(h,l),this.eventGenerator_=new Yt(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function Vn(e,t){var n=tn(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Ce(t)&&!n.getImmediateChild(me(t)).isEmpty())?n.getChild(t):null}function Bn(e){return 0===e.eventRegistrations_.length}function zn(e,t,n){var r=[];if(n){(0,o.assert)(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],s=0;s<e.eventRegistrations_.length;++s){var u=e.eventRegistrations_[s];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(s+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function Wn(e,t,n,r){t.type===Ut.MERGE&&null!==t.source.queryId&&((0,o.assert)(tn(e.viewCache_),"We should always have a full cache before handling merges"),(0,o.assert)(en(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,s=e.viewCache_,u=jn(e.processor_,s,t,n,r);return i=e.processor_,a=u.viewCache,(0,o.assert)(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,o.assert)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),(0,o.assert)(u.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,Kn(e,u.changes,u.viewCache.eventCache.getNode(),null)}function Kn(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),$t(e,i,"child_removed",t,r,n),$t(e,i,"child_added",t,r,n),$t(e,i,"child_moved",o,r,n),$t(e,i,"child_changed",t,r,n),$t(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var Hn,Gn=function(){this.views=new Map};function Qn(e,t,n,r){var i,s,u=t.source.queryId;if(null!==u){var c=e.views.get(u);return(0,o.assert)(null!=c,"SyncTree gave us an op for an invalid query."),Wn(c,t,n,r)}var l=[];try{for(var h=(0,a.__values)(e.views.values()),d=h.next();!d.done;d=h.next()){c=d.value;l=l.concat(Wn(c,t,n,r))}}catch(f){i={error:f}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return l}function Yn(e,t,n,r,i){var o=t._queryIdentifier,a=e.views.get(o);if(!a){var s=wn(n,i?r:null),u=!1;s?u=!0:r instanceof ct?(s=xn(n,r),u=!1):(s=ct.EMPTY_NODE,u=!1);var c=Xt(new Qt(s,u,!1),new Qt(r,i,!1));return new qn(t,c)}return a}function $n(e,t,n,r,i,o){var a=Yn(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(rt,(function(e,t){r.push(wt(e,t))})),n.isFullyInitialized()&&r.push(_t(n.getNode())),Kn(e,r,n.getNode(),t)}(a,n)}function Xn(e,t,n,r){var i,s,u=t._queryIdentifier,c=[],l=[],h=nr(e);if("default"===u)try{for(var d=(0,a.__values)(e.views.entries()),f=d.next();!f.done;f=d.next()){var p=(0,a.__read)(f.value,2),g=p[0],v=p[1];l=l.concat(zn(v,n,r)),Bn(v)&&(e.views.delete(g),v.query._queryParams.loadsAllData()||c.push(v.query))}}catch(y){i={error:y}}finally{try{f&&!f.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}else(v=e.views.get(u))&&(l=l.concat(zn(v,n,r)),Bn(v)&&(e.views.delete(u),v.query._queryParams.loadsAllData()||c.push(v.query)));return h&&!nr(e)&&c.push(new((0,o.assert)(Un,"Reference.ts has not been loaded"),Un)(t._repo,t._path)),{removed:c,events:l}}function Jn(e){var t,n,r=[];try{for(var i=(0,a.__values)(e.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Zn(e,t){var n,r,i=null;try{for(var o=(0,a.__values)(e.views.values()),s=o.next();!s.done;s=o.next()){var u=s.value;i=i||Vn(u,t)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function er(e,t){if(t._queryParams.loadsAllData())return rr(e);var n=t._queryIdentifier;return e.views.get(n)}function tr(e,t){return null!=er(e,t)}function nr(e){return null!=rr(e)}function rr(e){var t,n;try{for(var r=(0,a.__values)(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}var ir=1,or=function(e){this.listenProvider_=e,this.syncPointTree_=new nn(null),this.pendingWriteTree_={visibleWrites:rn.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function ar(e,t,n,r,i){return function(e,t,n,r,i){(0,o.assert)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=on(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?pr(e,new Ht({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function sr(e,t,n,r){!function(e,t,n,r){(0,o.assert)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=an(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=nn.fromObject(n);return pr(e,new Gt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function ur(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(vn(e.pendingWriteTree_,t)){var i=new nn(null);return null!=r.snap?i=i.set(ye(),!0):O(r.children,(function(e){i=i.set(new ve(e),!0)})),pr(e,new Wt(r.path,i,n))}return[]}function cr(e,t,n){return pr(e,new Ht({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function lr(e,t,n,r){var i=t._path,o=e.syncPointTree_.get(i),a=[];if(o&&("default"===t._queryIdentifier||tr(o,t))){var s=Xn(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var u=s.removed;a=s.events;var c=-1!==u.findIndex((function(e){return e._queryParams.loadsAllData()})),l=e.syncPointTree_.findOnPath(i,(function(e,t){return nr(t)}));if(c&&!l){var h=e.syncPointTree_.subtree(i);if(!h.isEmpty())for(var d=function(e){return e.fold((function(e,t,n){if(t&&nr(t))return[rr(t)];var r=[];return t&&(r=Jn(t)),O(n,(function(e,t){r=r.concat(t)})),r}))}(h),f=0;f<d.length;++f){var p=d[f],g=p.query,v=yr(e,p);e.listenProvider_.startListening(Sr(g),mr(e,g),v.hashFn,v.onComplete)}}if(!l&&u.length>0&&!r)if(c){e.listenProvider_.stopListening(Sr(t),null)}else u.forEach((function(t){var n=e.queryToTagMap.get(br(t));e.listenProvider_.stopListening(Sr(t),n)}));!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=br(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,u)}return a}function hr(e,t,n){var r=t._path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=Ee(e,r);i=i||Zn(t,n),a=a||nr(t)}));var s,u=e.syncPointTree_.get(r);(u?(a=a||nr(u),i=i||Zn(u,ye())):(u=new Gn,e.syncPointTree_=e.syncPointTree_.set(r,u)),null!=i)?s=!0:(s=!1,i=ct.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=Zn(t,ye());n&&(i=i.updateImmediateChild(e,n))})));var c=tr(u,t);if(!c&&!t._queryParams.loadsAllData()){var l=br(t);(0,o.assert)(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=ir++;e.queryToTagMap.set(l,h),e.tagToQueryMap.set(h,l)}var d=$n(u,t,n,gn(e.pendingWriteTree_,r),i,s);if(!c&&!a){var f=er(u,t);d=d.concat(function(e,t,n){var r=t._path,i=mr(e,t),a=yr(e,n),s=e.listenProvider_.startListening(Sr(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(i)(0,o.assert)(!nr(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(e,t,n){if(!Ce(e)&&t&&nr(t))return[rr(t).query];var r=[];return t&&(r=r.concat(Jn(t).map((function(e){return e.query})))),O(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<c.length;++l){var h=c[l];e.listenProvider_.stopListening(Sr(h),mr(e,h))}return s}(e,t,f))}return d}function dr(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Zn(n,Ee(e,t));if(r)return r}));return _n(r,t,i,n,!0)}function fr(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=Ee(e,n);r=r||Zn(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||Zn(i,ye()):(i=new Gn,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new Qt(r,!0,!1):null;return function(e){return en(e.viewCache_)}(Yn(i,t,gn(e.pendingWriteTree_,t._path),o?a.getNode():ct.EMPTY_NODE,o))}function pr(e,t){return gr(t,e.syncPointTree_,null,gn(e.pendingWriteTree_,ye()))}function gr(e,t,n,r){if(Ce(e.path))return vr(e,t,n,r);var i=t.get(ye());null==n&&null!=i&&(n=Zn(i,ye()));var o=[],a=me(e.path),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=kn(r,a);o=o.concat(gr(s,u,c,l))}return i&&(o=o.concat(Qn(i,e,r,n))),o}function vr(e,t,n,r){var i=t.get(ye());null==n&&null!=i&&(n=Zn(i,ye()));var o=[];return t.children.inorderTraversal((function(t,i){var a=n?n.getImmediateChild(t):null,s=kn(r,t),u=e.operationForChild(t);u&&(o=o.concat(vr(u,i,a,s)))})),i&&(o=o.concat(Qn(i,e,r,n))),o}function yr(e,t){var n=t.query,r=mr(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||ct.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=_r(e,n);if(r){var i=wr(r),o=i.path,a=i.queryId,s=Ee(o,t);return xr(e,o,new Kt(Bt(a),s))}return[]}(e,n._path,r):function(e,t){return pr(e,new Kt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return lr(e,n,null,i)}}}function mr(e,t){var n=br(t);return e.queryToTagMap.get(n)}function br(e){return e._path.toString()+"$"+e._queryIdentifier}function _r(e,t){return e.tagToQueryMap.get(t)}function wr(e){var t=e.indexOf("$");return(0,o.assert)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ve(e.substr(0,t))}}function xr(e,t,n){var r=e.syncPointTree_.get(t);return(0,o.assert)(r,"Missing sync point for query tag that we're tracking"),Qn(r,n,gn(e.pendingWriteTree_,t),null)}function Sr(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new((0,o.assert)(Hn,"Reference.ts has not been loaded"),Hn)(e._repo,e._path):e}var Ir=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),Cr=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=Ie(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return dr(this.syncTree_,this.path_)},e}(),Er=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},kr=function(e,t,n){return e&&"object"===typeof e?((0,o.assert)(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Tr(e[".sv"],t,n):"object"===typeof e[".sv"]?Nr(e[".sv"],t):void(0,o.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Tr=function(e,t,n){if("timestamp"===e)return n.timestamp;(0,o.assert)(!1,"Unexpected server value: "+e)},Nr=function(e,t,n){e.hasOwnProperty("increment")||(0,o.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&(0,o.assert)(!1,"Unexpected increment value: "+r);var i=t.node();if((0,o.assert)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},Ar=function(e,t,n,r){return jr(t,new Cr(n,e),r)},Rr=function(e,t,n){return jr(e,new Ir(t),n)};function jr(e,t,n){var r,i=e.getPriority().val(),o=kr(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=kr(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new Ze(s,dt(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Ze(o))),u.forEachChild(rt,(function(e,i){var o=jr(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}var Pr=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function Dr(e,t){for(var n=t instanceof ve?t:new ve(t),r=e,i=me(n);null!==i;){var a=(0,o.safeGet)(r.node.children,i)||{children:{},childCount:0};r=new Pr(i,r,a),i=me(n=_e(n))}return r}function Or(e){return e.node.value}function Lr(e,t){e.node.value=t,Vr(e)}function Mr(e){return e.node.childCount>0}function Fr(e,t){O(e.node.children,(function(n,r){t(new Pr(n,e,r))}))}function Ur(e,t,n,r){n&&!r&&t(e),Fr(e,(function(e){Ur(e,t,!0,r)})),n&&r&&t(e)}function qr(e){return new ve(null===e.parent?e.name:qr(e.parent)+"/"+e.name)}function Vr(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Or(e)&&!Mr(e)}(n),i=(0,o.contains)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Vr(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Vr(e))}(e.parent,e.name,e)}var Br=/[\[\].#$\/\u0000-\u001F\u007F]/,zr=/[\[\].#$\u0000-\u001F\u007F]/,Wr=10485760,Kr=function(e){return"string"===typeof e&&0!==e.length&&!Br.test(e)},Hr=function(e){return"string"===typeof e&&0!==e.length&&!zr.test(e)},Gr=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!k(e)||e&&"object"===typeof e&&(0,o.contains)(e,".sv")},Qr=function(e,t,n,r){r&&void 0===t||Yr((0,o.errorPrefix)(e,"value"),t,n)},Yr=function(e,t,n){var r=n instanceof ve?new Ae(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+je(r));if("function"===typeof t)throw new Error(e+"contains a function "+je(r)+" with contents = "+t.toString());if(k(t))throw new Error(e+"contains "+t.toString()+" "+je(r));if("string"===typeof t&&t.length>Wr/3&&(0,o.stringLength)(t)>Wr)throw new Error(e+"contains a string greater than "+Wr+" utf8 bytes "+je(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){var i=!1,a=!1;if(O(t,(function(t,n){if(".value"===t)i=!0;else if(".priority"!==t&&".sv"!==t&&(a=!0,!Kr(t)))throw new Error(e+" contains an invalid key ("+t+") "+je(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=(0,o.stringLength)(t),Re(e)}(r,t),Yr(e,n,r),function(e){var t=e.parts_.pop();e.byteLength_-=(0,o.stringLength)(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),i&&a)throw new Error(e+' contains ".value" child '+je(r)+" in addition to actual children.")}},$r=function(e,t,n,r){if(!r||void 0!==t){var i=(0,o.errorPrefix)(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];O(t,(function(e,t){var r=new ve(e);if(Yr(i,t,Ie(n,r)),".priority"===we(r)&&!Gr(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=xe(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Kr(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(ke);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&Ne(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,a)}},Xr=function(e,t,n){if(!n||void 0!==t){if(k(t))throw new Error((0,o.errorPrefix)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Gr(t))throw new Error((0,o.errorPrefix)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Jr=function(e,t,n,r){if((!r||void 0!==n)&&!Kr(n))throw new Error((0,o.errorPrefix)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Zr=function(e,t,n,r){if((!r||void 0!==n)&&!Hr(n))throw new Error((0,o.errorPrefix)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ei=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Zr(e,t,n,r)},ti=function(e,t){if(".info"===me(t))throw new Error(e+" failed = Can't modify data under /.info/")},ni=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Kr(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Hr(e)}(n))throw new Error((0,o.errorPrefix)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},ri=function(){this.eventLists_=[],this.recursionDepth_=0};function ii(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||Te(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function oi(e,t,n){ii(e,n),si(e,(function(e){return Te(e,t)}))}function ai(e,t,n){ii(e,n),si(e,(function(e){return Ne(e,t)||Ne(t,e)}))}function si(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(ui(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function ui(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();b&&x("event: "+n.toString()),V(r)}}}var ci="repo_interrupt",li=25,hi=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ri,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ot(),this.transactionQueueTree_=new Pr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function di(e,t,n){if(e.stats_=ne(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Pt(e.repoInfo_,(function(t,n,r,i){gi(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return vi(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,o.stringify)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Me(e.repoInfo_,t,(function(t,n,r,i){gi(e,t,n,r,i)}),(function(t){vi(e,t)}),(function(t){!function(e,t){O(t,(function(t,n){yi(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return te[n]||(te[n]=t()),te[n]}(e.repoInfo_,(function(){return new Vt(e.stats_,e.server_)})),e.infoData_=new Dt,e.infoSyncTree_=new or({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=cr(e.infoSyncTree_,t._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),yi(e,"connected",!1),e.serverSyncTree_=new or({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);ai(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function fi(e){var t=e.infoData_.getNode(new ve(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function pi(e){return Er({timestamp:fi(e)})}function gi(e,t,n,r,i){e.dataUpdateCount++;var a=new ve(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s=[];if(i)if(r){var u=(0,o.map)(n,(function(e){return dt(e)}));s=function(e,t,n,r){var i=_r(e,r);if(i){var o=wr(i),a=o.path,s=o.queryId,u=Ee(a,t),c=nn.fromObject(n);return xr(e,a,new Gt(Bt(s),u,c))}return[]}(e.serverSyncTree_,a,u,i)}else{var c=dt(n);s=function(e,t,n,r){var i=_r(e,r);if(null!=i){var o=wr(i),a=o.path,s=o.queryId,u=Ee(a,t);return xr(e,a,new Ht(Bt(s),u,n))}return[]}(e.serverSyncTree_,a,c,i)}else if(r){var l=(0,o.map)(n,(function(e){return dt(e)}));s=function(e,t,n){var r=nn.fromObject(n);return pr(e,new Gt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var h=dt(n);s=cr(e.serverSyncTree_,a,h)}var d=a;s.length>0&&(d=Ti(e,a)),ai(e.eventQueue_,d,s)}function vi(e,t){yi(e,"connected",t),!1===t&&function(e){Ii(e,"onDisconnectEvents");var t=pi(e),n=Ot();Ft(e.onDisconnect_,ye(),(function(r,i){var o=Ar(r,i,e.serverSyncTree_,t);Lt(n,r,o)}));var r=[];Ft(n,ye(),(function(t,n){r=r.concat(cr(e.serverSyncTree_,t,n));var i=Pi(e,t);Ti(e,i)})),e.onDisconnect_=Ot(),ai(e.eventQueue_,ye(),r)}(e)}function yi(e,t,n){var r=new ve("/.info/"+t),i=dt(n);e.infoData_.updateSnapshot(r,i);var o=cr(e.infoSyncTree_,r,i);ai(e.eventQueue_,r,o)}function mi(e){return e.nextWriteId_++}function bi(e,t,n,r,i){Ii(e,"set",{path:t.toString(),value:n,priority:r});var o=pi(e),a=dt(n,r),s=dr(e.serverSyncTree_,t),u=Rr(a,s,o),c=mi(e),l=ar(e.serverSyncTree_,t,u,c,!0);ii(e.eventQueue_,l),e.server_.put(t.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||E("set at "+t+" failed: "+n);var a=ur(e.serverSyncTree_,c,!o);ai(e.eventQueue_,t,a),Ci(e,i,n,r)}));var h=Pi(e,t);Ti(e,h),ai(e.eventQueue_,h,[])}function _i(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&Mt(e.onDisconnect_,t),Ci(e,n,r,i)}))}function wi(e,t,n,r){var i=dt(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&Lt(e.onDisconnect_,t,i),Ci(e,r,n,o)}))}function xi(e,t,n){var r;r=".info"===me(t._path)?lr(e.infoSyncTree_,t,n):lr(e.serverSyncTree_,t,n),oi(e.eventQueue_,t._path,r)}function Si(e){e.persistentConnection_&&e.persistentConnection_.interrupt(ci)}function Ii(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),x.apply(void 0,(0,a.__spreadArray)([r],(0,a.__read)(t)))}function Ci(e,t,n,r){t&&V((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function Ei(e,t,n){return dr(e.serverSyncTree_,t,n)||ct.EMPTY_NODE}function ki(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||ji(e,t),Or(t)){var n=Ai(e,t);(0,o.assert)(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=Ei(e,t,r),a=i,s=i.hash(),u=0;u<n.length;u++){var c=n[u];(0,o.assert)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=Ee(t,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var h=a.val(!0),d=t;e.server_.put(d.toString(),h,(function(r){Ii(e,"transaction put response",{path:d.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(t){n[t].status=2,i=i.concat(ur(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)a(s);ji(e,Dr(e.transactionQueueTree_,t)),ki(e,e.transactionQueueTree_),ai(e.eventQueue_,t,i);for(s=0;s<o.length;s++)V(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)3===n[s].status?n[s].status=4:n[s].status=0;else{E("transaction at "+d.toString()+" failed: "+r);for(s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r}Ti(e,t)}}),s)}(e,qr(t),n)}else Mr(t)&&Fr(t,(function(t){ki(e,t)}))}function Ti(e,t){var n=Ni(e,t),r=qr(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),s=function(s){var u,c,l=t[s],h=Ee(n,l.path),d=!1;if((0,o.assert)(null!==h,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)d=!0,u=l.abortReason,i=i.concat(ur(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=li)d=!0,u="maxretry",i=i.concat(ur(e.serverSyncTree_,l.currentWriteId,!0));else{var f=Ei(e,l.path,a);l.currentInputSnapshot=f;var p=t[s].update(f.val());if(void 0!==p){Yr("transaction failed: Data returned ",p,l.path);var g=dt(p);"object"===typeof p&&null!=p&&(0,o.contains)(p,".priority")||(g=g.updatePriority(f.getPriority()));var v=l.currentWriteId,y=pi(e),m=Rr(g,f,y);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=m,l.currentWriteId=mi(e),a.splice(a.indexOf(v),1),i=(i=i.concat(ar(e.serverSyncTree_,l.path,m,l.currentWriteId,l.applyLocally))).concat(ur(e.serverSyncTree_,v,!0))}else d=!0,u="nodata",i=i.concat(ur(e.serverSyncTree_,l.currentWriteId,!0))}ai(e.eventQueue_,n,i),i=[],d&&(t[s].status=2,c=t[s].unwatcher,setTimeout(c,Math.floor(0)),t[s].onComplete&&("nodata"===u?r.push((function(){return t[s].onComplete(null,!1,t[s].currentInputSnapshot)})):r.push((function(){return t[s].onComplete(new Error(u),!1,null)}))))},u=0;u<t.length;u++)s(u);ji(e,e.transactionQueueTree_);for(u=0;u<r.length;u++)V(r[u]);ki(e,e.transactionQueueTree_)}(e,Ai(e,n),r),r}function Ni(e,t){var n,r=e.transactionQueueTree_;for(n=me(t);null!==n&&void 0===Or(r);)r=Dr(r,n),n=me(t=_e(t));return r}function Ai(e,t){var n=[];return Ri(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function Ri(e,t,n){var r=Or(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Fr(t,(function(t){Ri(e,t,n)}))}function ji(e,t){var n=Or(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Lr(t,n.length>0?n:void 0)}Fr(t,(function(t){ji(e,t)}))}function Pi(e,t){var n=qr(Ni(e,t)),r=Dr(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){Di(e,t)})),Di(e,r),Ur(r,(function(t){Di(e,t)})),n}function Di(e,t){var n=Or(t);if(n){for(var r=[],i=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?((0,o.assert)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):((0,o.assert)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(ur(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Lr(t,void 0):n.length=a+1,ai(e.eventQueue_,qr(t),i);for(s=0;s<r.length;s++)V(r[s])}}var Oi=function(e,t){var n=Li(e),r=n.namespace;"firebase.com"===n.domain&&C(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||C("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&E("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new X(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new ve(n.pathString)}},Li=function(e){var t="",n="",r="",i="",o="",s=!0,u="https",c=443;if("string"===typeof e){var l=e.indexOf("//");l>=0&&(u=e.substring(0,l-1),e=e.substring(l+2));var h=e.indexOf("/");-1===h&&(h=e.length);var d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(h,d)),h<d&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}(e.substring(h,d)));var f=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=(0,a.__values)(e.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):E("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,d)));(l=t.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(t.substring(l+1),10)):l=t.length;var p=t.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var g=t.indexOf(".");r=t.substring(0,g).toLowerCase(),n=t.substring(g+1),o=r}"ns"in f&&(o=f.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:i,namespace:o}},Mi=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,o.stringify)(this.snapshot.exportVal())},e}(),Fi=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),Ui=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return(0,o.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),qi=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e=new o.Deferred;return _i(this._repo,this._path,e.wrapCallback((function(){}))),e.promise},e.prototype.remove=function(){ti("OnDisconnect.remove",this._path);var e=new o.Deferred;return wi(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},e.prototype.set=function(e){ti("OnDisconnect.set",this._path),Qr("OnDisconnect.set",e,this._path,!1);var t=new o.Deferred;return wi(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e.prototype.setWithPriority=function(e,t){ti("OnDisconnect.setWithPriority",this._path),Qr("OnDisconnect.setWithPriority",e,this._path,!1),Xr("OnDisconnect.setWithPriority",t,!1);var n=new o.Deferred;return function(e,t,n,r,i){var o=dt(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&Lt(e.onDisconnect_,t,o),Ci(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise},e.prototype.update=function(e){ti("OnDisconnect.update",this._path),$r("OnDisconnect.update",e,this._path,!1);var t=new o.Deferred;return function(e,t,n,r){if((0,o.isEmpty)(n))return x("onDisconnect().update() called with empty data.  Don't do anything."),void Ci(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&O(n,(function(n,r){var i=dt(r);Lt(e.onDisconnect_,Ie(t,n),i)})),Ci(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e}(),Vi=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(e.prototype,"key",{get:function(){return Ce(this._path)?null:we(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Ki(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=jt(this._queryParams),t=P(e);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return jt(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!((t=(0,o.getModularInstance)(t))instanceof e))return!1;var n=this._repo===t._repo,r=Te(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},e}();function Bi(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function zi(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Ve){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==T)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==N)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===rt){if(null!=t&&!Gr(t)||null!=n&&!Gr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,o.assert)(e.getIndex()instanceof ft||e.getIndex()===gt,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Wi(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Ki=function(e){function t(t,n){return e.call(this,t,n,new kt,!1)||this}return(0,a.__extends)(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=Se(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(Vi),Hi=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new ve(t),r=Yi(this.ref,t);return new e(this._node.getChild(n),r,rt)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,Yi(n.ref,r),rt))}))},e.prototype.hasChild=function(e){var t=new ve(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function Gi(e,t){return(e=(0,o.getModularInstance)(e))._checkNotDeleted("ref"),void 0!==t?Yi(e._root,t):e._root}function Qi(e,t){(e=(0,o.getModularInstance)(e))._checkNotDeleted("refFromURL");var n=Oi(t,e._repo.repoInfo_.nodeAdmin);ni("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||C("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),Gi(e,n.path.toString())}function Yi(e,t){return null===me((e=(0,o.getModularInstance)(e))._path)?ei("child","path",t,!1):Zr("child","path",t,!1),new Ki(e._repo,Ie(e._path,t))}function $i(e,t){e=(0,o.getModularInstance)(e),ti("set",e._path),Qr("set",t,e._path,!1);var n=new o.Deferred;return bi(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function Xi(e,t){$r("update",t,e._path,!1);var n=new o.Deferred;return function(e,t,n,r){Ii(e,"update",{path:t.toString(),value:n});var i=!0,o=pi(e),a={};if(O(n,(function(n,r){i=!1,a[n]=Ar(Ie(t,n),dt(r),e.serverSyncTree_,o)})),i)x("update() called with empty data.  Don't do anything."),Ci(0,r,"ok",void 0);else{var s=mi(e),u=sr(e.serverSyncTree_,t,a,s);ii(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||E("update at "+t+" failed: "+n);var a=ur(e.serverSyncTree_,s,!o),u=a.length>0?Ti(e,t):t;ai(e.eventQueue_,u,a),Ci(0,r,n,i)})),O(n,(function(n){var r=Pi(e,Ie(t,n));Ti(e,r)})),ai(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function Ji(e){return function(e,t){var n=fr(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=dt(n).withIndex(t._queryParams.getIndex()),i=cr(e.serverSyncTree_,t._path,r);return oi(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return Ii(e,"get for query "+(0,o.stringify)(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=(0,o.getModularInstance)(e))._repo,e).then((function(t){return new Hi(t,new Ki(e._repo,e._path),e._queryParams.getIndex())}))}var Zi=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new Mi("value",this,new Hi(e.snapshotNode,new Ki(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Fi(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),eo=function(){function e(e,t){this.eventType=e,this.callbackContext=t}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Fi(this,e,t):null},e.prototype.createEvent=function(e,t){(0,o.assert)(null!=e.childName,"Child events should have a childName.");var n=Yi(new Ki(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Mi(e.type,this,new Hi(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function to(e,t,n,r,i){var o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){var a=n,s=function(t,n){xi(e._repo,e,c),a(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new Ui(n,o||void 0),c="value"===t?new Zi(u):new eo(t,u);return function(e,t,n){var r;r=".info"===me(t._path)?hr(e.infoSyncTree_,t,n):hr(e.serverSyncTree_,t,n),oi(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return xi(e._repo,e,c)}}function no(e,t,n,r){return to(e,"value",t,n,r)}function ro(e,t,n,r){return to(e,"child_added",t,n,r)}function io(e,t,n,r){return to(e,"child_changed",t,n,r)}function oo(e,t,n,r){return to(e,"child_moved",t,n,r)}function ao(e,t,n,r){return to(e,"child_removed",t,n,r)}function so(e,t,n){var r=null,i=n?new Ui(n):null;"value"===t?r=new Zi(i):t&&(r=new eo(t,i)),xi(e._repo,e,r)}var uo=function(){},co=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Qr("endAt",this._value,e._path,!0);var t=Nt(e._queryParams,this._value,this._key);if(Wi(t),zi(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Vi(e._repo,e._path,t,e._orderByCalled)},t}(uo);var lo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Qr("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===Ve?("string"===typeof t&&(t=bt(t)),r=Nt(e,t,n)):r=Nt(e,t,null==n?T:bt(n)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(Wi(t),zi(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Vi(e._repo,e._path,t,e._orderByCalled)},t}(uo);var ho=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Qr("startAt",this._value,e._path,!0);var t=Tt(e._queryParams,this._value,this._key);if(Wi(t),zi(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Vi(e._repo,e._path,t,e._orderByCalled)},t}(uo);var fo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Qr("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;e.index_===Ve?("string"===typeof t&&(t=mt(t)),r=Tt(e,t,n)):r=Tt(e,t,null==n?N:mt(n));return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(Wi(t),zi(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Vi(e._repo,e._path,t,e._orderByCalled)},t}(uo);var po=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return(0,a.__extends)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Vi(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)},t}(uo);var go=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return(0,a.__extends)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Vi(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)},t}(uo);var vo=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Bi(e,"orderByChild");var t=new ve(this._path);if(Ce(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new ft(t),r=At(e._queryParams,n);return zi(r),new Vi(e._repo,e._path,r,!0)},t}(uo);var yo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Bi(e,"orderByKey");var t=At(e._queryParams,Ve);return zi(t),new Vi(e._repo,e._path,t,!0)},t}(uo);var mo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Bi(e,"orderByPriority");var t=At(e._queryParams,rt);return zi(t),new Vi(e._repo,e._path,t,!0)},t}(uo);var bo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Bi(e,"orderByValue");var t=At(e._queryParams,gt);return zi(t),new Vi(e._repo,e._path,t,!0)},t}(uo);var _o=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){if(Qr("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new co(this._value,this._key)._apply(new ho(this._value,this._key)._apply(e))},t}(uo);function wo(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=(0,o.getModularInstance)(e);try{for(var u=(0,a.__values)(r),c=u.next();!c.done;c=u.next()){s=c.value._apply(s)}}catch(l){t={error:l}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s}!function(e){(0,o.assert)(!Un,"__referenceConstructor has already been defined"),Un=e}(Ki),function(e){(0,o.assert)(!Hn,"__referenceConstructor has already been defined"),Hn=e}(Ki);var xo="FIREBASE_DATABASE_EMULATOR_HOST",So={},Io=!1;function Co(e,t,n,r,i){var o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||C("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),x("Using default host for project ",e.options.projectId),o=e.options.projectId+"-default-rtdb.firebaseio.com");var a,s=Oi(o,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[xo]),c?(a=!0,o="http://"+c+"?ns="+u.namespace,u=(s=Oi(o,i)).repoInfo):a=!s.repoInfo.secure;var l=i&&a?new K(K.OWNER):new W(e.name,e.options,t);ni("Invalid Firebase Database URL",s),Ce(s.path)||C("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n,r){var i=So[t.name];i||(i={},So[t.name]=i);var o=i[e.toURLString()];o&&C("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new hi(e,Io,n,r),i[e.toURLString()]=o,o}(u,e,l,new z(e.name,n));return new Eo(h,e)}var Eo=function(){function e(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(di(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Ki(this._repo,ye())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return null!==this._rootInternal&&(!function(e,t){var n=So[t];n&&n[e.key]===e||C("Database "+t+"("+e.repoInfo_+") has already been deleted."),Si(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&C("Cannot call "+e+" on a deleted database.")},e}();function ko(e,t,n,r){void 0===r&&(r={}),(e=(0,o.getModularInstance)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&C("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&C('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new K(K.OWNER);else if(r.mockUserToken){var s="string"===typeof r.mockUserToken?r.mockUserToken:(0,o.createMockUserToken)(r.mockUserToken,e.app.options.projectId);a=new K(s)}!function(e,t,n,r){e.repoInfo_=new X(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}(i,t,n,a)}function To(e){var t;(e=(0,o.getModularInstance)(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(ci)}var No={".sv":"timestamp"};var Ao=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function Ro(e,t,n){var r;if(e=(0,o.getModularInstance)(e),ti("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new o.Deferred,s=no(e,(function(){}));return function(e,t,n,r,i,a){Ii(e,"transaction on "+t);var s={path:t,update:n,onComplete:r,status:null,order:v(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=Ei(e,t,void 0);s.currentInputSnapshot=u;var c=s.update(u.val());if(void 0===c)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Yr("transaction failed: Data returned ",c,s.path),s.status=0;var l=Dr(e.transactionQueueTree_,t),h=Or(l)||[];h.push(s),Lr(l,h);var d=void 0;"object"===typeof c&&null!==c&&(0,o.contains)(c,".priority")?(d=(0,o.safeGet)(c,".priority"),(0,o.assert)(Gr(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(dr(e.serverSyncTree_,t)||ct.EMPTY_NODE).getPriority().val();var f=pi(e),p=dt(c,d),g=Rr(p,u,f);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=g,s.currentWriteId=mi(e);var y=ar(e.serverSyncTree_,t,g,s.currentWriteId,s.applyLocally);ai(e.eventQueue_,t,y),ki(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new Hi(r,new Ki(e._repo,e._path),rt),a.resolve(new Ao(n,i)))}),s,i),a.promise}var jo=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){(0,o.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),(0,o.validateCallback)("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.remove=function(e){(0,o.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),(0,o.validateCallback)("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.set=function(e,t){(0,o.validateArgCount)("OnDisconnect.set",1,2,arguments.length),(0,o.validateCallback)("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},e.prototype.setWithPriority=function(e,t,n){(0,o.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,o.validateCallback)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},e.prototype.update=function(e,t){if((0,o.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,E("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,o.validateCallback)("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},e}(),Po=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return(0,o.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),Do=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return(0,o.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return(0,o.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return(0,o.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return(0,o.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return(0,o.validateArgCount)("DataSnapshot.child",0,1,arguments.length),t=String(t),Zr("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return(0,o.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),Zr("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return(0,o.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return(0,o.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),(0,o.validateCallback)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))},e.prototype.hasChildren=function(){return(0,o.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return(0,o.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return(0,o.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new Lo(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Oo=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,r,i){var a,s=this;(0,o.validateArgCount)("Query.on",2,4,arguments.length),(0,o.validateCallback)("Query.on","callback",n,!1);var u=e.getCancelAndContextArgs_("Query.on",r,i),c=function(e,t){n.call(u.context,new Do(s.database,e),t)};c.userCallback=n,c.context=u.context;var l=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(t){case"value":return no(this._delegate,c,l),n;case"child_added":return ro(this._delegate,c,l),n;case"child_removed":return ao(this._delegate,c,l),n;case"child_changed":return io(this._delegate,c,l),n;case"child_moved":return oo(this._delegate,c,l),n;default:throw new Error((0,o.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if((0,o.validateArgCount)("Query.off",0,3,arguments.length),function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,o.errorPrefix)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}("Query.off",e,!0),(0,o.validateCallback)("Query.off","callback",t,!0),(0,o.validateContextObject)("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,so(this._delegate,e,r)}else so(this._delegate,e)},e.prototype.get=function(){var e=this;return Ji(this._delegate).then((function(t){return new Do(e.database,t)}))},e.prototype.once=function(t,n,r,i){var a=this;(0,o.validateArgCount)("Query.once",1,4,arguments.length),(0,o.validateCallback)("Query.once","callback",n,!0);var s=e.getCancelAndContextArgs_("Query.once",r,i),u=new o.Deferred,c=function(e,t){var r=new Do(a.database,e);n&&n.call(s.context,r,t),u.resolve(r)};c.userCallback=n,c.context=s.context;var l=function(e){s.cancel&&s.cancel.call(s.context,e),u.reject(e)};switch(t){case"value":no(this._delegate,c,l,{onlyOnce:!0});break;case"child_added":ro(this._delegate,c,l,{onlyOnce:!0});break;case"child_removed":ao(this._delegate,c,l,{onlyOnce:!0});break;case"child_changed":io(this._delegate,c,l,{onlyOnce:!0});break;case"child_moved":oo(this._delegate,c,l,{onlyOnce:!0});break;default:throw new Error((0,o.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},e.prototype.limitToFirst=function(t){return(0,o.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new e(this.database,wo(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new po(e)}(t)))},e.prototype.limitToLast=function(t){return(0,o.validateArgCount)("Query.limitToLast",1,1,arguments.length),new e(this.database,wo(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new go(e)}(t)))},e.prototype.orderByChild=function(t){return(0,o.validateArgCount)("Query.orderByChild",1,1,arguments.length),new e(this.database,wo(this._delegate,function(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Zr("orderByChild","path",e,!1),new vo(e)}(t)))},e.prototype.orderByKey=function(){return(0,o.validateArgCount)("Query.orderByKey",0,0,arguments.length),new e(this.database,wo(this._delegate,new yo))},e.prototype.orderByPriority=function(){return(0,o.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new e(this.database,wo(this._delegate,new mo))},e.prototype.orderByValue=function(){return(0,o.validateArgCount)("Query.orderByValue",0,0,arguments.length),new e(this.database,wo(this._delegate,new bo))},e.prototype.startAt=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.startAt",0,2,arguments.length),new e(this.database,wo(this._delegate,function(e,t){return void 0===e&&(e=null),Jr("startAt","key",t,!0),new ho(e,t)}(t,n)))},e.prototype.startAfter=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.startAfter",0,2,arguments.length),new e(this.database,wo(this._delegate,function(e,t){return Jr("startAfter","key",t,!0),new fo(e,t)}(t,n)))},e.prototype.endAt=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.endAt",0,2,arguments.length),new e(this.database,wo(this._delegate,function(e,t){return Jr("endAt","key",t,!0),new co(e,t)}(t,n)))},e.prototype.endBefore=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.endBefore",0,2,arguments.length),new e(this.database,wo(this._delegate,function(e,t){return Jr("endBefore","key",t,!0),new lo(e,t)}(t,n)))},e.prototype.equalTo=function(t,n){return(0,o.validateArgCount)("Query.equalTo",1,2,arguments.length),new e(this.database,wo(this._delegate,function(e,t){return Jr("equalTo","key",t,!0),new _o(e,t)}(t,n)))},e.prototype.toString=function(){return(0,o.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return(0,o.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if((0,o.validateArgCount)("Query.isEqual",1,1,arguments.length),!(t instanceof e)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,(0,o.validateCallback)(e,"cancel",r.cancel,!0),r.context=n,(0,o.validateContextObject)(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error((0,o.errorPrefix)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return new Lo(this.database,new Ki(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),Lo=function(e){function t(t,n){var r=e.call(this,t,new Vi(n._repo,n._path,new kt,!1))||this;return r.database=t,r._delegate=n,r}return(0,a.__extends)(t,e),t.prototype.getKey=function(){return(0,o.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return(0,o.validateArgCount)("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new t(this.database,Yi(this._delegate,e))},t.prototype.getParent=function(){(0,o.validateArgCount)("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return(0,o.validateArgCount)("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){(0,o.validateArgCount)("Reference.set",1,2,arguments.length),(0,o.validateCallback)("Reference.set","onComplete",t,!0);var n=$i(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.update=function(e,t){if((0,o.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,E("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ti("Reference.update",this._delegate._path),(0,o.validateCallback)("Reference.update","onComplete",t,!0);var i=Xi(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},t.prototype.setWithPriority=function(e,t,n){(0,o.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),(0,o.validateCallback)("Reference.setWithPriority","onComplete",n,!0);var r=function(e,t,n){if(ti("setWithPriority",e._path),Qr("setWithPriority",t,e._path,!1),Xr("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new o.Deferred;return bi(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},t.prototype.remove=function(e){(0,o.validateArgCount)("Reference.remove",0,1,arguments.length),(0,o.validateCallback)("Reference.remove","onComplete",e,!0);var t=function(e){return ti("remove",e._path),$i(e,null)}(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},t.prototype.transaction=function(e,t,n){var r=this;(0,o.validateArgCount)("Reference.transaction",1,3,arguments.length),(0,o.validateCallback)("Reference.transaction","transactionUpdate",e,!1),(0,o.validateCallback)("Reference.transaction","onComplete",t,!0),function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error((0,o.errorPrefix)(e,t)+"must be a boolean.")}("Reference.transaction","applyLocally",n,!0);var i=Ro(this._delegate,e,{applyLocally:n}).then((function(e){return new Po(e.committed,new Do(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i},t.prototype.setPriority=function(e,t){(0,o.validateArgCount)("Reference.setPriority",1,2,arguments.length),(0,o.validateCallback)("Reference.setPriority","onComplete",t,!0);var n=function(e,t){e=(0,o.getModularInstance)(e),ti("setPriority",e._path),Xr("setPriority",t,!1);var n=new o.Deferred;return bi(e._repo,Ie(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.push=function(e,n){var r=this;(0,o.validateArgCount)("Reference.push",0,2,arguments.length),(0,o.validateCallback)("Reference.push","onComplete",n,!0);var i=function(e,t){e=(0,o.getModularInstance)(e),ti("push",e._path),Qr("push",t,e._path,!0);var n,r=fi(e._repo),i=yt(r),a=Yi(e,i),s=Yi(e,i);return n=null!=t?$i(s,t).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}(this._delegate,e),a=i.then((function(e){return new t(r.database,e)}));n&&a.then((function(){return n(null)}),(function(e){return n(e)}));var s=new t(this.database,i);return s.then=a.then.bind(a),s.catch=a.catch.bind(a,void 0),s},t.prototype.onDisconnect=function(){return ti("Reference.onDisconnect",this._delegate._path),new jo(new qi(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(Oo),Mo=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),ko(this._delegate,e,t,n)},e.prototype.ref=function(e){if((0,o.validateArgCount)("database.ref",0,1,arguments.length),e instanceof Lo){var t=Qi(this._delegate,e.toString());return new Lo(this,t)}t=Gi(this._delegate,e);return new Lo(this,t)},e.prototype.refFromURL=function(e){(0,o.validateArgCount)("database.refFromURL",1,1,arguments.length);var t=Qi(this._delegate,e);return new Lo(this,t)},e.prototype.goOffline=function(){return(0,o.validateArgCount)("database.goOffline",0,0,arguments.length),e=this._delegate,(e=(0,o.getModularInstance)(e))._checkNotDeleted("goOffline"),void Si(e._repo);var e},e.prototype.goOnline=function(){return(0,o.validateArgCount)("database.goOnline",0,0,arguments.length),To(this._delegate)},e.ServerValue={TIMESTAMP:No,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}},e}();var Fo=Object.freeze({__proto__:null,forceLongPolling:function(){ue.forceDisallow(),oe.forceAllow()},forceWebSockets:function(){oe.forceDisallow()},isWebSocketsAvailable:function(){return ue.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!==typeof console){var n;t?(e.statsListener_||(e.statsListener_=new qt(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);O(n,(function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)}))}}(e._delegate._repo,t)},statsIncrementCounter:function(e,t){!function(e,t){var n,r;e.stats_.incrementCounter(t),n=e.statsReporter_,r=t,n.statsToReport_[r]=!0}(e._delegate._repo,t)},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e._delegate._repo,t)},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,o=e.customAuthImpl,a=e.namespace,s=e.nodeAdmin,u=void 0!==s&&s;c(r);var l=new i.Provider("auth-internal",new i.ComponentContainer("database-standalone"));return l.setComponent(new i.Component("auth-internal",(function(){return o}),"PRIVATE")),{instance:new Mo(Co(t,l,void 0,n,u),t),namespace:a}}}),Uo=Me;Me.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Me.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var qo=le,Vo=X,Bo=Object.freeze({__proto__:null,DataConnection:Uo,RealTimeConnection:qo,hijackHash:function(e){var t=Me.prototype.put;return Me.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){Me.prototype.put=t}},ConnectionTarget:Vo,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){!function(e){Io=e}(e)}}),zo=Mo.ServerValue;!function(t){c(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new i.Component("database",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new Mo(Co(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:Lo,Query:Oo,Database:Mo,DataSnapshot:Do,enableLogging:w,INTERNAL:Fo,ServerValue:zo,TEST_ACCESS:Bo}).setMultipleInstances(!0));t.registerVersion("@firebase/database","0.11.0"),(0,o.isNodeSdk)()&&(e.exports=n)}(r.default)},227:(e,t,n)=>{"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.r(t),n.d(t,{LogLevel:()=>o,Logger:()=>h,setLogLevel:()=>d,setUserLogHandler:()=>f});var o,a=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=c[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],e)),this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],e)),this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],e)),this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],e)),this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],e)),this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function d(e){a.forEach((function(t){t.setLogLevel(e)}))}function f(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=a;r<i.length;r++){n(i[r])}}},567:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CONSTANTS:()=>i,Deferred:()=>p,ErrorFactory:()=>j,FirebaseError:()=>R,MAX_VALUE_MILLIS:()=>le,RANDOM_FACTOR:()=>he,Sha1:()=>$,areCookiesEnabled:()=>N,assert:()=>o,assertionError:()=>a,async:()=>Z,base64:()=>u,base64Decode:()=>h,base64Encode:()=>c,base64urlEncodeWithoutPadding:()=>l,calculateBackoffMillis:()=>de,contains:()=>V,createMockUserToken:()=>g,createSubscribe:()=>X,decode:()=>L,deepCopy:()=>d,deepEqual:()=>K,deepExtend:()=>f,errorPrefix:()=>ne,extractQuerystring:()=>Y,getGlobal:()=>A,getModularInstance:()=>pe,getUA:()=>v,isAdmin:()=>q,isBrowser:()=>b,isBrowserExtension:()=>_,isElectron:()=>x,isEmpty:()=>z,isIE:()=>S,isIndexedDBAvailable:()=>k,isMobileCordova:()=>y,isNode:()=>m,isNodeSdk:()=>C,isReactNative:()=>w,isSafari:()=>E,isUWP:()=>I,isValidFormat:()=>U,isValidTimestamp:()=>M,issuedAtTime:()=>F,jsonEval:()=>D,map:()=>W,ordinal:()=>fe,querystring:()=>G,querystringDecode:()=>Q,safeGet:()=>B,stringLength:()=>se,stringToByteArray:()=>ae,stringify:()=>O,validateArgCount:()=>te,validateCallback:()=>ie,validateContextObject:()=>oe,validateIndexedDBOpenable:()=>T,validateNamespace:()=>re});var r=n(827),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw a(t)},a=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},s=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,d=(15&s)<<2|c>>6,f=63&c;u||(f=64,a||(d=64)),r.push(n[l],n[h],n[d],n[f])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},c=function(e){var t=s(e);return u.encodeByteArray(t,!0)},l=function(e){return c(e).replace(/\./g,"")},h=function(e){try{return u.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function d(e){return f(void 0,e)}function f(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=f(e[n],t[n]));return e}var p=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function g(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=(0,r.__assign)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[l(JSON.stringify({alg:"none",type:"JWT"})),l(JSON.stringify(a)),""].join(".")}function v(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function y(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(v())}function m(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function b(){return"object"===typeof self&&self.self===self}function _(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function w(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function x(){return v().indexOf("Electron/")>=0}function S(){var e=v();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function I(){return v().indexOf("MSAppHost/")>=0}function C(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN}function E(){return!m()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function k(){return"indexedDB"in self&&null!=indexedDB}function T(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(o){t(o)}}))}function N(){return!(!navigator||!navigator.cookieEnabled)}function A(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}var R=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,j.prototype.create),o}return(0,r.__extends)(t,e),t}(Error),j=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?function(e,t){return e.replace(P,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").";return new R(i,s,r)},e}();var P=/\{\$([^}]+)}/g;function D(e){return JSON.parse(e)}function O(e){return JSON.stringify(e)}var L=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=D(h(o[0])||""),n=D(h(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:i}},M=function(e){var t=L(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"===typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},F=function(e){var t=L(e).claims;return"object"===typeof t&&t.hasOwnProperty("iat")?t.iat:null},U=function(e){var t=L(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},q=function(e){var t=L(e).claims;return"object"===typeof t&&!0===t.admin};function V(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function B(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function z(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function W(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function K(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,o=n;i<o.length;i++){var a=o[i];if(!r.includes(a))return!1;var s=e[a],u=t[a];if(H(s)&&H(u)){if(!K(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){a=l[c];if(!n.includes(a))return!1}return!0}function H(e){return null!==e&&"object"===typeof e}function G(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}function Q(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Y(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var $=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function X(e,t){var n=new J(e,t);return n.subscribe.bind(n)}var J=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=ee),void 0===r.error&&(r.error=ee),void 0===r.complete&&(r.complete=ee);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function Z(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}}function ee(){}var te=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function ne(e,t){return e+" failed: "+t+" argument "}function re(e,t,n){if((!n||t)&&"string"!==typeof t)throw new Error(ne(e,"namespace")+"must be a valid firebase namespace.")}function ie(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(ne(e,t)+"must be a valid function.")}function oe(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(ne(e,t)+"must be a valid context object.")}var ae=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,o(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},se=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},ue=1e3,ce=2,le=144e5,he=.5;function de(e,t,n){void 0===t&&(t=ue),void 0===n&&(n=ce);var r=t*Math.pow(n,e),i=Math.round(he*r*(Math.random()-.5)*2);return Math.min(le,r+i)}function fe(e){return Number.isFinite(e)?e+function(e){e=Math.abs(e);var t=e%100;if(t>=10&&t<=20)return"th";var n=e%10;if(1===n)return"st";if(2===n)return"nd";if(3===n)return"rd";return"th"}(e):""+e}function pe(e){return e&&e._delegate?e._delegate:e}},426:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,o=new Promise((function(o,a){n(i=e[t].apply(e,r)).then(o,a)}));return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function h(e){this._store=e}function d(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function f(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new d(n)}function p(e){this._db=e}function g(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new f(o.result,e.oldVersion,o.transaction))}),i.then((function(e){return new p(e)}))}function v(e){return r(indexedDB,"deleteDatabase",[e])}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),a(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(h,"_store",IDBObjectStore,["deleteIndex"]),d.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(d,"_tx",["objectStoreNames","mode"]),s(d,"_tx",IDBTransaction,["abort"]),f.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(f,"_db",["name","version","objectStoreNames"]),s(f,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new d(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[h,c].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,h].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=g,e.deleteDb=v,Object.defineProperty(e,"__esModule",{value:!0})}(t)},345:(e,t,n)=>{"use strict";var r=n(950),i=n(340);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function m(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,m);v[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,m);v[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,m);v[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),k=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),j=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function q(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var u="\n"+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function V(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=q(e.type,!1);case 11:return e=q(e.type.render,!1);case 1:return e=q(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case C:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case j:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,he=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function me(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Se=null,Ie=null;function Ce(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(o(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ee(e){Se?Ie?Ie.push(e):Ie=[e]:Se=e}function ke(){if(Se){var e=Se,t=Ie;if(Ie=Se=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Te(e,t){return e(t)}function Ne(){}var Ae=!1;function Re(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Te(e,t,n)}finally{Ae=!1,(null!==Se||null!==Ie)&&(Ne(),ke())}}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Pe=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Pe=!1}function Oe(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Me=null,Fe=!1,Ue=null,qe={onError:function(e){Le=!0,Me=e}};function Ve(e,t,n,r,i,o,a,s,u){Le=!1,Me=null,Oe.apply(qe,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(o(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return We(i),e;if(a===r)return We(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=ht(s):0!==(o&=a)&&(r=ht(o))}else 0!==(a=n&~i)?r=ht(a):0!==o&&(r=ht(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function mt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function _t(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,St,It,Ct,Et=!1,kt=[],Tt=null,Nt=null,At=null,Rt=new Map,jt=new Map,Pt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jt.delete(t.pointerId)}}function Lt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=mi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void Ct(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_e=r,n.target.dispatchEvent(r),_e=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function qt(){Et=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==At&&Ft(At)&&(At=null),Rt.forEach(Ut),jt.forEach(Ut)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,qt)))}function Bt(e){function t(t){return Vt(t,e)}if(0<kt.length){Vt(kt[0],e);for(var n=1;n<kt.length;n++){var r=kt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Vt(Tt,e),null!==Nt&&Vt(Nt,e),null!==At&&Vt(At,e),Rt.forEach(t),jt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Pt.shift()}var zt=_.ReactCurrentBatchConfig,Wt=!0;function Kt(e,t,n,r){var i=bt,o=zt.transition;zt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,zt.transition=o}}function Ht(e,t,n,r){var i=bt,o=zt.transition;zt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,zt.transition=o}}function Gt(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Lt(Tt,e,t,n,r,i),!0;case"dragenter":return Nt=Lt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Lt(At,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Rt.set(o,Lt(Rt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,jt.set(o,Lt(jt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&wt(o),null===(o=Yt(e,t,n,r))&&Wr(e,t,r,Qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=mi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=on(cn),hn=M({},cn,{view:0,detail:0}),dn=on(hn),fn=M({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(an=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=an=0,un=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(fn),gn=on(M({},fn,{dataTransfer:0})),vn=on(M({},hn,{relatedTarget:0})),yn=on(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(mn),_n=on(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return In}var En=M({},hn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kn=on(En),Tn=on(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=on(M({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),An=on(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jn=on(Rn),Pn=[9,13,27,32],Dn=l&&"CompositionEvent"in window,On=null;l&&"documentMode"in document&&(On=document.documentMode);var Ln=l&&"TextEvent"in window&&!On,Mn=l&&(!Dn||On&&8<On&&11>=On),Fn=String.fromCharCode(32),Un=!1;function qn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ee(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Gn=null;function Qn(e){Fr(e,0)}function Yn(e){if(G(_i(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Gn=Hn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Kn(t,Gn,e,we(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function or(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=lr(n,o);var a=lr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=l&&"documentMode"in document&&11>=document.documentMode,vr=null,yr=null,mr=null,br=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==vr||vr!==Q(r)||("selectionStart"in(r=vr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&ur(mr,r)||(mr=r,0<(r=Hr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},Ir={};function Cr(e){if(Sr[e])return Sr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return Sr[e]=n[t];return e}l&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Cr("animationend"),kr=Cr("animationiteration"),Tr=Cr("animationstart"),Nr=Cr("transitionend"),Ar=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(e,t){Ar.set(e,t),u(t,[e])}for(var Pr=0;Pr<Rr.length;Pr++){var Dr=Rr[Pr];jr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}jr(Er,"onAnimationEnd"),jr(kr,"onAnimationIteration"),jr(Tr,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Ve.apply(this,arguments),Le){if(!Le)throw Error(o(198));var l=Me;Le=!1,Me=null,Fe||(Fe=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Mr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Mr(i,s,c),o=u}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function qr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Vr]){e[Vr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||qr(t,!1,e),qr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,qr("selectionchange",!1,t))}}function zr(e,t,n,r){switch($t(t)){case 1:var i=Kt;break;case 4:i=Ht;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=mi(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}Re((function(){var r=o,i=we(n),a=[];e:{var s=Ar.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=kn;break;case"focusin":c="focus",u=vn;break;case"focusout":c="blur",u=vn;break;case"beforeblur":case"afterblur":u=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case Er:case kr:case Tr:u=yn;break;case Nr:u=An;break;case"scroll":u=dn;break;case"wheel":u=jn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Tn}var l=0!==(4&t),h=!l&&"scroll"===e,d=l?null!==s?s+"Capture":null:s;l=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==d&&(null!=(g=je(p,d))&&l.push(Kr(p,g,f)))),h)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===_e||!(c=n.relatedTarget||n.fromElement)||!mi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?mi(c):null)&&(c!==(h=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Tn,g="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==u?s:_i(u),f=null==c?s:_i(c),(s=new l(g,p+"leave",u,n,i)).target=h,s.relatedTarget=f,g=null,mi(i)===r&&((l=new l(d,p+"enter",c,n,i)).target=f,l.relatedTarget=h,g=l),h=g,u&&c)e:{for(d=c,p=0,f=l=u;f;f=Gr(f))p++;for(f=0,g=d;g;g=Gr(g))f++;for(;0<p-f;)l=Gr(l),p--;for(;0<f-p;)d=Gr(d),f--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=Gr(l),d=Gr(d)}l=null}else l=null;null!==u&&Qr(a,s,u,l,!1),null!==c&&null!==h&&Qr(a,h,c,l,!0)}if("select"===(u=(s=r?_i(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=$n;else if(Wn(s))if(Xn)v=ar;else{v=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=or);switch(v&&(v=v(e,r))?Kn(a,v,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?_i(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(vr=y,yr=r,mr=null);break;case"focusout":mr=yr=vr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,_r(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":_r(a,n,i)}var m;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?qn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(m=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(y=Hr(r,b)).length&&(b=new _n(b,e,null,n,i),a.push({event:b,listeners:y}),m?b.data=m:null!==(m=Vn(n))&&(b.data=m))),(m=Ln?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&qn(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=m))}Fr(a,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=je(e,n))&&r.unshift(Kr(e,o,i)),null!=(o=je(e,t))&&r.push(Kr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=je(n,o))&&a.unshift(Kr(n,u,s)):i||null!=(u=je(n,o))&&a.push(Kr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,gi="__reactEvents$"+hi,vi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function mi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[di])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function _i(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wi(e){return e[fi]||null}var xi=[],Si=-1;function Ii(e){return{current:e}}function Ci(e){0>Si||(e.current=xi[Si],xi[Si]=null,Si--)}function Ei(e,t){Si++,xi[Si]=e.current,e.current=t}var ki={},Ti=Ii(ki),Ni=Ii(!1),Ai=ki;function Ri(e,t){var n=e.type.contextTypes;if(!n)return ki;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function ji(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ci(Ni),Ci(Ti)}function Di(e,t,n){if(Ti.current!==ki)throw Error(o(168));Ei(Ti,t),Ei(Ni,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,z(e)||"Unknown",i));return M({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ki,Ai=Ti.current,Ei(Ti,e),Ei(Ni,Ni.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Oi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ci(Ni),Ci(Ti),Ei(Ti,e)):Ci(Ni),Ei(Ni,n)}var Fi=null,Ui=!1,qi=!1;function Vi(e){null===Fi?Fi=[e]:Fi.push(e)}function Bi(){if(!qi&&null!==Fi){qi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,Bi),i}finally{bt=t,qi=!1}}return null}var zi=[],Wi=0,Ki=null,Hi=0,Gi=[],Qi=0,Yi=null,$i=1,Xi="";function Ji(e,t){zi[Wi++]=Hi,zi[Wi++]=Ki,Ki=e,Hi=t}function Zi(e,t,n){Gi[Qi++]=$i,Gi[Qi++]=Xi,Gi[Qi++]=Yi,Yi=e;var r=$i;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,$i=1<<32-at(t)+i|n<<i|r,Xi=o+e}else $i=1<<o|n<<i|r,Xi=e}function eo(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function to(e){for(;e===Ki;)Ki=zi[--Wi],zi[Wi]=null,Hi=zi[--Wi],zi[Wi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=jc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=jc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function uo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(uo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(uo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function lo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return lo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(uo(e))throw fo(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(lo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function go(e){null===oo?oo=[e]:oo.push(e)}var vo=_.ReactCurrentBatchConfig;function yo(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var mo=Ii(null),bo=null,_o=null,wo=null;function xo(){wo=_o=bo=null}function So(e){var t=mo.current;Ci(mo),e._currentValue=t}function Io(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Co(e,t){bo=e,wo=_o=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_s=!0),e.firstContext=null)}function Eo(e){var t=e._currentValue;if(wo!==e)if(e={context:e,memoizedValue:t,next:null},null===_o){if(null===bo)throw Error(o(308));_o=e,bo.dependencies={lanes:0,firstContext:e}}else _o=_o.next=e;return t}var ko=null;function To(e){null===ko?ko=[e]:ko.push(e)}function No(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,To(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ao(e,r)}function Ao(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ro=!1;function jo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Po(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Do(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ao(e,n)}return null===(i=r.interleaved)?(t.next=t,To(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ao(e,n)}function Lo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,mt(e,n)}}function Mo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fo(e,t,n,r){var i=e.updateQueue;Ro=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===a?o=c:a.next=c,a=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==o){var h=i.baseState;for(a=0,l=c=u=null,s=o;;){var d=s.lane,f=s.eventTime;if((r&d)===d){null!==l&&(l=l.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,g=s;switch(d=t,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=g.payload)?p.call(f,h,d):p)||void 0===d)break e;h=M({},h,d);break e;case 2:Ro=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else f={eventTime:f,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=f,u=h):l=l.next=f,a|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===l&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Mu|=a,e.lanes=a,e.memoizedState=h}}function Uo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var qo=(new r.Component).refs;function Vo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Bo={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Do(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Oo(e,o,i))&&(rc(t,e,i,r),Lo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Do(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Oo(e,o,i))&&(rc(t,e,i,r),Lo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Do(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oo(e,i,r))&&(rc(t,e,r,n),Lo(t,e,r))}};function zo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,o))}function Wo(e,t,n){var r=!1,i=ki,o=t.contextType;return"object"===typeof o&&null!==o?o=Eo(o):(i=ji(t)?Ai:Ti.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):ki),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Bo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ko(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bo.enqueueReplaceState(t,t.state,null)}function Ho(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=qo,jo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Eo(o):(o=ji(t)?Ai:Ti.current,i.context=Ri(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Vo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Bo.enqueueReplaceState(i,i.state,null),Fo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Go(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===qo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Qo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yo(e){return(0,e._init)(e._payload)}function $o(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===S?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===j&&Yo(o)===t.type)?((r=i(t,n.props)).ref=Go(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=Go(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=Go(e,null,t),n.return=e,n;case x:return(t=Uc(t,e.mode,n)).return=e,t;case j:return d(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Qo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case j:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:h(e,t,n,r,null);Qo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case j:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return h(t,e=e.get(n)||null,r,i,null);Qo(t,r)}return null}function g(i,o,s,u){for(var c=null,l=null,h=o,g=o=0,v=null;null!==h&&g<s.length;g++){h.index>g?(v=h,h=null):v=h.sibling;var y=f(i,h,s[g],u);if(null===y){null===h&&(h=v);break}e&&h&&null===y.alternate&&t(i,h),o=a(y,o,g),null===l?c=y:l.sibling=y,l=y,h=v}if(g===s.length)return n(i,h),io&&Ji(i,g),c;if(null===h){for(;g<s.length;g++)null!==(h=d(i,s[g],u))&&(o=a(h,o,g),null===l?c=h:l.sibling=h,l=h);return io&&Ji(i,g),c}for(h=r(i,h);g<s.length;g++)null!==(v=p(h,i,g,s[g],u))&&(e&&null!==v.alternate&&h.delete(null===v.key?g:v.key),o=a(v,o,g),null===l?c=v:l.sibling=v,l=v);return e&&h.forEach((function(e){return t(i,e)})),io&&Ji(i,g),c}function v(i,s,u,c){var l=O(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var h=l=null,g=s,v=s=0,y=null,m=u.next();null!==g&&!m.done;v++,m=u.next()){g.index>v?(y=g,g=null):y=g.sibling;var b=f(i,g,m.value,c);if(null===b){null===g&&(g=y);break}e&&g&&null===b.alternate&&t(i,g),s=a(b,s,v),null===h?l=b:h.sibling=b,h=b,g=y}if(m.done)return n(i,g),io&&Ji(i,v),l;if(null===g){for(;!m.done;v++,m=u.next())null!==(m=d(i,m.value,c))&&(s=a(m,s,v),null===h?l=m:h.sibling=m,h=m);return io&&Ji(i,v),l}for(g=r(i,g);!m.done;v++,m=u.next())null!==(m=p(g,i,v,m.value,c))&&(e&&null!==m.alternate&&g.delete(null===m.key?v:m.key),s=a(m,s,v),null===h?l=m:h.sibling=m,h=m);return e&&g.forEach((function(e){return t(i,e)})),io&&Ji(i,v),l}return function e(r,o,a,u){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,l=o;null!==l;){if(l.key===c){if((c=a.type)===S){if(7===l.tag){n(r,l.sibling),(o=i(l,a.props.children)).return=r,r=o;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===j&&Yo(c)===l.type){n(r,l.sibling),(o=i(l,a.props)).ref=Go(r,l,a),o.return=r,r=o;break e}n(r,l);break}t(r,l),l=l.sibling}a.type===S?((o=Lc(a.props.children,r.mode,u,a.key)).return=r,r=o):((u=Oc(a.type,a.key,a.props,null,r.mode,u)).ref=Go(r,o,a),u.return=r,r=u)}return s(r);case x:e:{for(l=a.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Uc(a,r.mode,u)).return=r,r=o}return s(r);case j:return e(r,o,(l=a._init)(a._payload),u)}if(te(a))return g(r,o,a,u);if(O(a))return v(r,o,a,u);Qo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Fc(a,r.mode,u)).return=r,r=o),s(r)):n(r,o)}}var Xo=$o(!0),Jo=$o(!1),Zo={},ea=Ii(Zo),ta=Ii(Zo),na=Ii(Zo);function ra(e){if(e===Zo)throw Error(o(174));return e}function ia(e,t){switch(Ei(na,t),Ei(ta,e),Ei(ea,Zo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(ea),Ei(ea,t)}function oa(){Ci(ea),Ci(ta),Ci(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=ue(t,e.type);t!==n&&(Ei(ta,e),Ei(ea,n))}function sa(e){ta.current===e&&(Ci(ea),Ci(ta))}var ua=Ii(0);function ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var la=[];function ha(){for(var e=0;e<la.length;e++)la[e]._workInProgressVersionPrimary=null;la.length=0}var da=_.ReactCurrentDispatcher,fa=_.ReactCurrentBatchConfig,pa=0,ga=null,va=null,ya=null,ma=!1,ba=!1,_a=0,wa=0;function xa(){throw Error(o(321))}function Sa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Ia(e,t,n,r,i,a){if(pa=a,ga=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,da.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ba){a=0;do{if(ba=!1,_a=0,25<=a)throw Error(o(301));a+=1,ya=va=null,t.updateQueue=null,da.current=cs,e=n(r,i)}while(ba)}if(da.current=as,t=null!==va&&null!==va.next,pa=0,ya=va=ga=null,ma=!1,t)throw Error(o(300));return e}function Ca(){var e=0!==_a;return _a=0,e}function Ea(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ya?ga.memoizedState=ya=e:ya=ya.next=e,ya}function ka(){if(null===va){var e=ga.alternate;e=null!==e?e.memoizedState:null}else e=va.next;var t=null===ya?ga.memoizedState:ya.next;if(null!==t)ya=t,va=e;else{if(null===e)throw Error(o(310));e={memoizedState:(va=e).memoizedState,baseState:va.baseState,baseQueue:va.baseQueue,queue:va.queue,next:null},null===ya?ga.memoizedState=ya=e:ya=ya.next=e}return ya}function Ta(e,t){return"function"===typeof t?t(e):t}function Na(e){var t=ka(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=va,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,c=null,l=a;do{var h=l.lane;if((pa&h)===h)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:h,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=d,s=r):c=c.next=d,ga.lanes|=h,Mu|=h}l=l.next}while(null!==l&&l!==a);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(_s=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ga.lanes|=a,Mu|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Aa(e){var t=ka(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(_s=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ra(){}function ja(e,t){var n=ga,r=ka(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,_s=!0),r=r.queue,Wa(Oa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ya&&1&ya.memoizedState.tag){if(n.flags|=2048,Ua(9,Da.bind(null,n,r,i,t),void 0,null),null===Au)throw Error(o(349));0!==(30&pa)||Pa(n,t,i)}return i}function Pa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ga.updateQueue)?(t={lastEffect:null,stores:null},ga.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Da(e,t,n,r){t.value=n,t.getSnapshot=r,La(t)&&Ma(e)}function Oa(e,t,n){return n((function(){La(t)&&Ma(e)}))}function La(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Ma(e){var t=Ao(e,1);null!==t&&rc(t,e,1,-1)}function Fa(e){var t=Ea();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,ga,e),[t.memoizedState,e]}function Ua(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ga.updateQueue)?(t={lastEffect:null,stores:null},ga.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function qa(){return ka().memoizedState}function Va(e,t,n,r){var i=Ea();ga.flags|=e,i.memoizedState=Ua(1|t,n,void 0,void 0===r?null:r)}function Ba(e,t,n,r){var i=ka();r=void 0===r?null:r;var o=void 0;if(null!==va){var a=va.memoizedState;if(o=a.destroy,null!==r&&Sa(r,a.deps))return void(i.memoizedState=Ua(t,n,o,r))}ga.flags|=e,i.memoizedState=Ua(1|t,n,o,r)}function za(e,t){return Va(8390656,8,e,t)}function Wa(e,t){return Ba(2048,8,e,t)}function Ka(e,t){return Ba(4,2,e,t)}function Ha(e,t){return Ba(4,4,e,t)}function Ga(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4,4,Ga.bind(null,t,e),n)}function Ya(){}function $a(e,t){var n=ka();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Sa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xa(e,t){var n=ka();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Sa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ja(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,_s=!0),e.memoizedState=n):(sr(n,t)||(n=gt(),ga.lanes|=n,Mu|=n,e.baseState=!0),t)}function Za(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=fa.transition;fa.transition={};try{e(!1),t()}finally{bt=n,fa.transition=r}}function es(){return ka().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=No(e,t,n,r))){rc(n,e,r,tc()),os(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var u=t.interleaved;return null===u?(i.next=i,To(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=No(e,t,i,r))&&(rc(n,e,r,i=tc()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===ga||null!==t&&t===ga}function is(e,t){ba=ma=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,mt(e,n)}}var as={readContext:Eo,useCallback:xa,useContext:xa,useEffect:xa,useImperativeHandle:xa,useInsertionEffect:xa,useLayoutEffect:xa,useMemo:xa,useReducer:xa,useRef:xa,useState:xa,useDebugValue:xa,useDeferredValue:xa,useTransition:xa,useMutableSource:xa,useSyncExternalStore:xa,useId:xa,unstable_isNewReconciler:!1},ss={readContext:Eo,useCallback:function(e,t){return Ea().memoizedState=[e,void 0===t?null:t],e},useContext:Eo,useEffect:za,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Va(4194308,4,Ga.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Va(4194308,4,e,t)},useInsertionEffect:function(e,t){return Va(4,2,e,t)},useMemo:function(e,t){var n=Ea();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ea();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,ga,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ea().memoizedState=e},useState:Fa,useDebugValue:Ya,useDeferredValue:function(e){return Ea().memoizedState=e},useTransition:function(){var e=Fa(!1),t=e[0];return e=Za.bind(null,e[1]),Ea().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ga,i=Ea();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Au)throw Error(o(349));0!==(30&pa)||Pa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,za(Oa.bind(null,r,a,e),[e]),r.flags|=2048,Ua(9,Da.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ea(),t=Au.identifierPrefix;if(io){var n=Xi;t=":"+t+"R"+(n=($i&~(1<<32-at($i)-1)).toString(32)+n),0<(n=_a++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Eo,useCallback:$a,useContext:Eo,useEffect:Wa,useImperativeHandle:Qa,useInsertionEffect:Ka,useLayoutEffect:Ha,useMemo:Xa,useReducer:Na,useRef:qa,useState:function(){return Na(Ta)},useDebugValue:Ya,useDeferredValue:function(e){return Ja(ka(),va.memoizedState,e)},useTransition:function(){return[Na(Ta)[0],ka().memoizedState]},useMutableSource:Ra,useSyncExternalStore:ja,useId:es,unstable_isNewReconciler:!1},cs={readContext:Eo,useCallback:$a,useContext:Eo,useEffect:Wa,useImperativeHandle:Qa,useInsertionEffect:Ka,useLayoutEffect:Ha,useMemo:Xa,useReducer:Aa,useRef:qa,useState:function(){return Aa(Ta)},useDebugValue:Ya,useDeferredValue:function(e){var t=ka();return null===va?t.memoizedState=e:Ja(t,va.memoizedState,e)},useTransition:function(){return[Aa(Ta)[0],ka().memoizedState]},useMutableSource:Ra,useSyncExternalStore:ja,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function hs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Do(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ku||(Ku=!0,Hu=r),ds(0,t)},n}function gs(e,t,n){(n=Do(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Gu?Gu=new Set([this]):Gu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ms(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Do(-1,1)).tag=2,Oo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=_.ReactCurrentOwner,_s=!1;function ws(e,t,n,r){t.child=null===e?Jo(t,null,n,r):Xo(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var o=t.ref;return Co(t,i),r=Ia(e,t,n,r,o,i),n=Ca(),null===e||_s?(io&&n&&eo(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ks(e,t,i))}function Ss(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Pc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Is(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(a,r)&&e.ref===t.ref)return Ks(e,t,i)}return t.flags|=1,(e=Dc(o,r)).ref=t.ref,e.return=t,t.child=e}function Is(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(ur(o,r)&&e.ref===t.ref){if(_s=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ks(e,t,i);0!==(131072&e.flags)&&(_s=!0)}}return ks(e,t,n,r,i)}function Cs(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Du,Pu),Pu|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Du,Pu),Pu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ei(Du,Pu),Pu|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ei(Du,Pu),Pu|=r;return ws(e,t,i,n),t.child}function Es(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ks(e,t,n,r,i){var o=ji(n)?Ai:Ti.current;return o=Ri(t,o),Co(t,i),n=Ia(e,t,n,r,o,i),r=Ca(),null===e||_s?(io&&r&&eo(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ks(e,t,i))}function Ts(e,t,n,r,i){if(ji(n)){var o=!0;Li(t)}else o=!1;if(Co(t,i),null===t.stateNode)Ws(e,t),Wo(t,n,r),Ho(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Eo(c):c=Ri(t,c=ji(n)?Ai:Ti.current);var l=n.getDerivedStateFromProps,h="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Ko(t,a,r,c),Ro=!1;var d=t.memoizedState;a.state=d,Fo(t,r,a,i),u=t.memoizedState,s!==r||d!==u||Ni.current||Ro?("function"===typeof l&&(Vo(t,n,l,r),u=t.memoizedState),(s=Ro||zo(t,n,s,r,d,u,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Po(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:yo(t.type,s),a.props=c,h=t.pendingProps,d=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=Eo(u):u=Ri(t,u=ji(n)?Ai:Ti.current);var f=n.getDerivedStateFromProps;(l="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||d!==u)&&Ko(t,a,r,u),Ro=!1,d=t.memoizedState,a.state=d,Fo(t,r,a,i);var p=t.memoizedState;s!==h||d!==p||Ni.current||Ro?("function"===typeof f&&(Vo(t,n,f,r),p=t.memoizedState),(c=Ro||zo(t,n,c,r,d,p,u)||!1)?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ns(e,t,n,r,o,i)}function Ns(e,t,n,r,i,o){Es(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Mi(t,n,!1),Ks(e,t,o);r=t.stateNode,bs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Xo(t,e.child,null,o),t.child=Xo(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ia(e,t.containerInfo)}function Rs(e,t,n,r,i){return po(),go(i),t.flags|=256,ws(e,t,n,r),t.child}var js,Ps,Ds,Os,Ls={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,a=ua.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ei(ua,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Mc(u,i,0,null),e=Lc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=Ls,e):Us(t,u));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,qs(e,t,s,r=hs(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(a=Lc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Xo(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=Ls,a);if(0===(1&t.mode))return qs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,qs(e,t,s,r=hs(a=Error(o(419)),r,void 0))}if(u=0!==(s&e.childLanes),_s||u){if(null!==(r=Au)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ao(e,i),rc(r,e,i,-1))}return vc(),qs(e,t,s,r=hs(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[Qi++]=$i,Gi[Qi++]=Xi,Gi[Qi++]=Yi,$i=e.id,Xi=e.overflow,Yi=t),t=Us(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,a,n);if(s){s=i.fallback,u=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Dc(r,s):(s=Lc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ms(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=Dc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Us(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function qs(e,t,n,r){return null!==r&&go(r),Xo(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Io(e.return,t,n)}function Bs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function zs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=ua.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(ua,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ca(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ca(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,o);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ks(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return ji(t.type)&&Pi(),Gs(t),null;case 3:return r=t.stateNode,oa(),Ci(Ni),Ci(Ti),ha(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),Ps(e,t),Gs(t),null;case 5:sa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Gs(t),null}if(e=ra(ea.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[di]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Ur(Or[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":$(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var u in me(n,a),i=null,a)if(a.hasOwnProperty(u)){var c=a[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":H(r),Z(r,a,!0);break;case"textarea":H(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[di]=t,e[fi]=r,js(e,t,!1,!1),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Ur(Or[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in me(n,i),c=i)if(c.hasOwnProperty(a)){var l=c[a];"style"===a?ve(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&he(e,l):"children"===a?"string"===typeof l?("textarea"!==n||""!==l)&&de(e,l):"number"===typeof l&&de(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=l&&"onScroll"===a&&Ur("scroll",e):null!=l&&b(e,a,l,u))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Os(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Gs(t),null;case 13:if(Ci(ua),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[di]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),a=!1}else null!==oo&&(sc(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ua.current)?0===Ou&&(Ou=3):vc())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return oa(),Ps(e,t),null===e&&Br(t.stateNode.containerInfo),Gs(t),null;case 10:return So(t.type._context),Gs(t),null;case 19:if(Ci(ua),null===(a=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(u=a.rendering))if(r)Hs(a,!1);else{if(0!==Ou||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=ca(e))){for(t.flags|=128,Hs(a,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(ua,1&ua.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>zu&&(t.flags|=128,r=!0,Hs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ca(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!io)return Gs(t),null}else 2*Xe()-a.renderingStartTime>zu&&1073741824!==n&&(t.flags|=128,r=!0,Hs(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=a.last)?n.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=ua.current,Ei(ua,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pu)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ys(e,t){switch(to(t),t.tag){case 1:return ji(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),Ci(Ni),Ci(Ti),ha(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(Ci(ua),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(ua),null;case 4:return oa(),null;case 10:return So(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}js=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ps=function(){},Ds=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),a=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in me(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(a=a||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),a||u===c||(a=[])):(a=a||[]).push(l,c))}n&&(a=a||[]).push("style",n);var l=a;(t.updateQueue=l)&&(t.flags|=4)}},Os=function(e,t,n,r){n!==r&&(t.flags|=4)};var $s=!1,Xs=!1,Js="function"===typeof WeakSet?WeakSet:Set,Zs=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cc(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Cc(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tu(t,n,o)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ou(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[gi],delete t[vi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var hu=null,du=!1;function fu(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||eu(n,t);case 6:var r=hu,i=du;hu=null,fu(e,t,n),du=i,null!==(hu=r)&&(du?(e=hu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hu.removeChild(n.stateNode));break;case 18:null!==hu&&(du?(e=hu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Bt(e)):ui(hu,n.stateNode));break;case 4:r=hu,i=du,hu=n.stateNode.containerInfo,du=!0,fu(e,t,n),hu=r,du=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&tu(n,t,a),i=i.next}while(i!==r)}fu(e,t,n);break;case 1:if(!Xs&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Cc(n,t,s)}fu(e,t,n);break;case 21:fu(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,fu(e,t,n),Xs=r):fu(e,t,n);break;default:fu(e,t,n)}}function gu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:hu=u.stateNode,du=!1;break e;case 3:case 4:hu=u.stateNode.containerInfo,du=!0;break e}u=u.return}if(null===hu)throw Error(o(160));pu(a,s,i),hu=null,du=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Cc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yu(t,e),t=t.sibling}function yu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),mu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(v){Cc(e,e.return,v)}try{ru(5,e,e.return)}catch(v){Cc(e,e.return,v)}}break;case 1:vu(t,e),mu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(vu(t,e),mu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(v){Cc(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===a.type&&null!=a.name&&X(i,a),be(u,s);var l=be(u,a);for(s=0;s<c.length;s+=2){var h=c[s],d=c[s+1];"style"===h?ve(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):b(i,h,d,l)}switch(u){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(v){Cc(e,e.return,v)}}break;case 6:if(vu(t,e),mu(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(v){Cc(e,e.return,v)}}break;case 3:if(vu(t,e),mu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(v){Cc(e,e.return,v)}break;case 4:default:vu(t,e),mu(e);break;case 13:vu(t,e),mu(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Bu=Xe())),4&r&&gu(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(l=Xs)||h,vu(t,e),Xs=l):vu(t,e),mu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!h&&0!==(1&e.mode))for(Zs=e,h=e.child;null!==h;){for(d=Zs=h;null!==Zs;){switch(p=(f=Zs).child,f.tag){case 0:case 11:case 14:case 15:ru(4,f,f.return);break;case 1:eu(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){Cc(r,n,v)}}break;case 5:eu(f,f.return);break;case 22:if(null!==f.memoizedState){xu(d);continue}}null!==p?(p.return=f,Zs=p):xu(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,l?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=d.stateNode,s=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ge("display",s))}catch(v){Cc(e,e.return,v)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(v){Cc(e,e.return,v)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:vu(t,e),mu(e),4&r&&gu(e);case 21:}}function mu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),lu(e,uu(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cu(e,uu(e),a);break;default:throw Error(o(161))}}catch(s){Cc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bu(e,t,n){Zs=e,_u(e,t,n)}function _u(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||$s;if(!a){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Xs;s=$s;var c=Xs;if($s=a,(Xs=u)&&!c)for(Zs=i;null!==Zs;)u=(a=Zs).child,22===a.tag&&null!==a.memoizedState?Su(i):null!==u?(u.return=a,Zs=u):Su(i);for(;null!==o;)Zs=o,_u(o,t,n),o=o.sibling;Zs=i,$s=s,Xs=c}wu(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Zs=o):wu(e)}}function wu(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:yo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Uo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Uo(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var h=l.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(o(163))}Xs||512&t.flags&&ou(t)}catch(f){Cc(t,t.return,f)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function xu(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function Su(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Cc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Cc(t,i,u)}}var o=t.return;try{ou(t)}catch(u){Cc(t,o,u)}break;case 5:var a=t.return;try{ou(t)}catch(u){Cc(t,a,u)}}}catch(u){Cc(t,t.return,u)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Iu,Cu=Math.ceil,Eu=_.ReactCurrentDispatcher,ku=_.ReactCurrentOwner,Tu=_.ReactCurrentBatchConfig,Nu=0,Au=null,Ru=null,ju=0,Pu=0,Du=Ii(0),Ou=0,Lu=null,Mu=0,Fu=0,Uu=0,qu=null,Vu=null,Bu=0,zu=1/0,Wu=null,Ku=!1,Hu=null,Gu=null,Qu=!1,Yu=null,$u=0,Xu=0,Ju=null,Zu=-1,ec=0;function tc(){return 0!==(6&Nu)?Xe():-1!==Zu?Zu:Zu=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Nu)&&0!==ju?ju&-ju:null!==vo.transition?(0===ec&&(ec=gt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,n,r){if(50<Xu)throw Xu=0,Ju=null,Error(o(185));yt(e,n,r),0!==(2&Nu)&&e===Au||(e===Au&&(0===(2&Nu)&&(Fu|=n),4===Ou&&uc(e,ju)),ic(e,r),1===n&&0===Nu&&0===(1&t.mode)&&(zu=Xe()+500,Ui&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,u=i[a];-1===u?0!==(s&n)&&0===(s&r)||(i[a]=ft(s,t)):u<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=dt(e,e===Au?ju:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Vi(e)}(cc.bind(null,e)):Vi(cc.bind(null,e)),ai((function(){0===(6&Nu)&&Bi()})),n=null;else{switch(_t(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Zu=-1,ec=0,0!==(6&Nu))throw Error(o(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=dt(e,e===Au?ju:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Nu;Nu|=2;var a=gc();for(Au===e&&ju===t||(Wu=null,zu=Xe()+500,fc(e,t));;)try{bc();break}catch(u){pc(e,u)}xo(),Eu.current=a,Nu=i,null!==Ru?t=0:(Au=null,ju=0,t=Ou)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Lu,fc(e,0),uc(e,r),ic(e,Xe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(a=pt(e))&&(r=a,t=ac(e,a))),1===t))throw n=Lu,fc(e,0),uc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:xc(e,Vu,Wu);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Bu+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,Vu,Wu),t);break}xc(e,Vu,Wu);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cu(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,Vu,Wu),r);break}xc(e,Vu,Wu);break;default:throw Error(o(329))}}}return ic(e,Xe()),e.callbackNode===n?oc.bind(null,e):null}function ac(e,t){var n=qu;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Vu,Vu=n,null!==t&&sc(t)),e}function sc(e){null===Vu?Vu=e:Vu.push.apply(Vu,e)}function uc(e,t){for(t&=~Uu,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Nu))throw Error(o(327));Sc();var t=dt(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Lu,fc(e,0),uc(e,t),ic(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Vu,Wu),ic(e,Xe()),null}function lc(e,t){var n=Nu;Nu|=1;try{return e(t)}finally{0===(Nu=n)&&(zu=Xe()+500,Ui&&Bi())}}function hc(e){null!==Yu&&0===Yu.tag&&0===(6&Nu)&&Sc();var t=Nu;Nu|=1;var n=Tu.transition,r=bt;try{if(Tu.transition=null,bt=1,e)return e()}finally{bt=r,Tu.transition=n,0===(6&(Nu=t))&&Bi()}}function dc(){Pu=Du.current,Ci(Du)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ru)for(n=Ru.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:oa(),Ci(Ni),Ci(Ti),ha();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:Ci(ua);break;case 10:So(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Au=e,Ru=e=Dc(e.current,null),ju=Pu=t,Ou=0,Lu=null,Uu=Fu=Mu=0,Vu=qu=null,null!==ko){for(t=0;t<ko.length;t++)if(null!==(r=(n=ko[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}ko=null}return e}function pc(e,t){for(;;){var n=Ru;try{if(xo(),da.current=as,ma){for(var r=ga.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ma=!1}if(pa=0,ya=va=ga=null,ba=!1,_a=0,ku.current=null,null===n||null===n.return){Ou=1,Lu=t,Ru=null;break}e:{var a=e,s=n.return,u=n,c=t;if(t=ju,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,h=u,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,ms(p,s,u,0,t),1&p.mode&&vs(a,l,t),c=l;var g=(t=p).updateQueue;if(null===g){var v=new Set;v.add(c),t.updateQueue=v}else g.add(c);break e}if(0===(1&t)){vs(a,l,t),vc();break e}c=Error(o(426))}else if(io&&1&u.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ms(y,s,u,0,t),go(ls(c,u));break e}}a=c=ls(c,u),4!==Ou&&(Ou=2),null===qu?qu=[a]:qu.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Mo(a,ps(0,c,t));break e;case 1:u=c;var m=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof m.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gu||!Gu.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Mo(a,gs(a,u,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(_){t=_,Ru===n&&null!==n&&(Ru=n=n.return);continue}break}}function gc(){var e=Eu.current;return Eu.current=as,null===e?as:e}function vc(){0!==Ou&&3!==Ou&&2!==Ou||(Ou=4),null===Au||0===(268435455&Mu)&&0===(268435455&Fu)||uc(Au,ju)}function yc(e,t){var n=Nu;Nu|=2;var r=gc();for(Au===e&&ju===t||(Wu=null,fc(e,t));;)try{mc();break}catch(i){pc(e,i)}if(xo(),Nu=n,Eu.current=r,null!==Ru)throw Error(o(261));return Au=null,ju=0,Ou}function mc(){for(;null!==Ru;)_c(Ru)}function bc(){for(;null!==Ru&&!Ye();)_c(Ru)}function _c(e){var t=Iu(e.alternate,e,Pu);e.memoizedProps=e.pendingProps,null===t?wc(e):Ru=t,ku.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qs(n,t,Pu)))return void(Ru=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Ru=n);if(null===e)return Ou=6,void(Ru=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ru=t);Ru=t=e}while(null!==t);0===Ou&&(Ou=5)}function xc(e,t,n){var r=bt,i=Tu.transition;try{Tu.transition=null,bt=1,function(e,t,n,r){do{Sc()}while(null!==Yu);if(0!==(6&Nu))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Au&&(Ru=Au=null,ju=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qu||(Qu=!0,Ac(tt,(function(){return Sc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Tu.transition,Tu.transition=null;var s=bt;bt=1;var u=Nu;Nu|=4,ku.current=null,function(e,t){if(ei=Wt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(u=s+i),d!==a||0!==r&&3!==d.nodeType||(c=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++l===i&&(u=s),f===a&&++h===r&&(c=s),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var v=g.memoizedProps,y=g.memoizedState,m=t.stateNode,b=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:yo(t.type,v),y);m.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(o(163))}}catch(w){Cc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}g=nu,nu=!1}(e,n),yu(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,bu(n,e,i),$e(),Nu=u,bt=s,Tu.transition=a}else e.current=n;if(Qu&&(Qu=!1,Yu=e,$u=i),a=e.pendingLanes,0===a&&(Gu=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ku)throw Ku=!1,e=Hu,Hu=null,e;0!==(1&$u)&&0!==e.tag&&Sc(),a=e.pendingLanes,0!==(1&a)?e===Ju?Xu++:(Xu=0,Ju=e):Xu=0,Bi()}(e,t,n,r)}finally{Tu.transition=i,bt=r}return null}function Sc(){if(null!==Yu){var e=_t($u),t=Tu.transition,n=bt;try{if(Tu.transition=null,bt=16>e?16:e,null===Yu)var r=!1;else{if(e=Yu,Yu=null,$u=0,0!==(6&Nu))throw Error(o(331));var i=Nu;for(Nu|=4,Zs=e.current;null!==Zs;){var a=Zs,s=a.child;if(0!==(16&Zs.flags)){var u=a.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Zs=l;null!==Zs;){var h=Zs;switch(h.tag){case 0:case 11:case 15:ru(8,h,a)}var d=h.child;if(null!==d)d.return=h,Zs=d;else for(;null!==Zs;){var f=(h=Zs).sibling,p=h.return;if(au(h),h===l){Zs=null;break}if(null!==f){f.return=p,Zs=f;break}Zs=p}}}var g=a.alternate;if(null!==g){var v=g.child;if(null!==v){g.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(null!==v)}}Zs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(a=Zs).flags))switch(a.tag){case 0:case 11:case 15:ru(9,a,a.return)}var m=a.sibling;if(null!==m){m.return=a.return,Zs=m;break e}Zs=a.return}}var b=e.current;for(Zs=b;null!==Zs;){var _=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==_)_.return=s,Zs=_;else e:for(s=b;null!==Zs;){if(0!==(2048&(u=Zs).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(x){Cc(u,u.return,x)}if(u===s){Zs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Zs=w;break e}Zs=u.return}}if(Nu=i,Bi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Tu.transition=t}}return!1}function Ic(e,t,n){e=Oo(e,t=ps(0,t=ls(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Cc(e,t,n){if(3===e.tag)Ic(e,e,n);else for(;null!==t;){if(3===t.tag){Ic(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gu||!Gu.has(r))){t=Oo(t,e=gs(t,e=ls(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Au===e&&(ju&n)===n&&(4===Ou||3===Ou&&(130023424&ju)===ju&&500>Xe()-Bu?fc(e,0):Uu|=n),ic(e,t)}function kc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Ao(e,t))&&(yt(e,t,n),ic(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),kc(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),kc(e,n)}function Ac(e,t){return Ge(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jc(e,t,n,r){return new Rc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=jc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Pc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Lc(n.children,i,a,t);case I:s=8,i|=8;break;case C:return(e=jc(12,n,t,2|i)).elementType=C,e.lanes=a,e;case N:return(e=jc(13,n,t,i)).elementType=N,e.lanes=a,e;case A:return(e=jc(19,n,t,i)).elementType=A,e.lanes=a,e;case P:return Mc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case k:s=9;break e;case T:s=11;break e;case R:s=14;break e;case j:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=jc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Lc(e,t,n,r){return(e=jc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=jc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=jc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=jc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,o,a,s,u){return e=new qc(e,t,n,s,u),1===t?(t=1,!0===o&&(t|=8)):t=0,o=jc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},jo(o),e}function Bc(e){if(!e)return ki;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ji(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(ji(n))return Oi(e,n,t)}return t}function zc(e,t,n,r,i,o,a,s,u){return(e=Vc(n,r,!0,e,0,o,0,s,u)).context=Bc(null),n=e.current,(o=Do(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Oo(n,o,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,o=tc(),a=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Do(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oo(i,t,a))&&(rc(e,i,a,o),Lo(e,i,a)),a}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Iu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)_s=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _s=!1,function(e,t,n){switch(t.tag){case 3:As(t),po();break;case 5:aa(t);break;case 1:ji(t.type)&&Li(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(mo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(ua,1&ua.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Ei(ua,1&ua.current),null!==(e=Ks(e,t,n))?e.sibling:null);Ei(ua,1&ua.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(ua,ua.current),r)break;return null;case 22:case 23:return t.lanes=0,Cs(e,t,n)}return Ks(e,t,n)}(e,t,n);_s=0!==(131072&e.flags)}else _s=!1,io&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var i=Ri(t,Ti.current);Co(t,n),i=Ia(null,t,r,e,i,n);var a=Ca();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ji(r)?(a=!0,Li(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,jo(t),i.updater=Bo,t.stateNode=i,i._reactInternals=t,Ho(t,r,e,n),t=Ns(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===R)return 14}return 2}(r),e=yo(r,e),i){case 0:t=ks(null,t,r,e,n);break e;case 1:t=Ts(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,yo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,ks(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 3:e:{if(As(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Po(e,t),Fo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Rs(e,t,r,n,i=ls(Error(o(423)),t));break e}if(r!==i){t=Rs(e,t,r,n,i=ls(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Jo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Ks(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Es(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return Fs(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xo(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ei(mo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ni.current){t=Ks(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Do(-1,n&-n)).tag=2;var l=a.updateQueue;if(null!==l){var h=(l=l.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),l.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Io(a.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Io(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Co(t,n),r=r(i=Eo(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=yo(r=t.type,t.pendingProps),Ss(e,t,r,i=yo(r.type,i),n);case 15:return Is(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yo(r,i),Ws(e,t),t.tag=1,ji(r)?(e=!0,Li(t)):e=!1,Co(t,n),Wo(t,r,i),Ho(t,r,i,n),Ns(null,t,r,!0,e,n);case 19:return zs(e,t,n);case 22:return Cs(e,t,n)}throw Error(o(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Kc(a);s.call(e)}}Wc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Kc(a);o.call(e)}}var a=zc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=a,e[pi]=a.current,Br(8===e.nodeType?e.parentNode:e),hc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Kc(u);s.call(e)}}var u=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pi]=u.current,Br(8===e.nodeType?e.parentNode:e),hc((function(){Wc(t,u,n,r)})),u}(n,t,e,i,r);return Kc(a)}$c.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Wc(e,t,null,null)},$c.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){Wc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(mt(t,1|n),ic(t,Xe()),0===(6&Nu)&&(zu=Xe()+500,Bi()))}break;case 13:hc((function(){var t=Ao(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},xt=function(e){if(13===e.tag){var t=Ao(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},St=function(e){if(13===e.tag){var t=nc(e),n=Ao(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},It=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(o(90));G(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=lc,Ne=hc;var tl={usingClientEntryPoint:!1,Events:[bi,_i,wi,Ee,ke,lc]},nl={findFiberByHostInstance:mi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),ot=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(o(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(o(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(o(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(o(40));return!!e._reactRootContainer&&(hc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},352:(e,t,n)=>{"use strict";var r=n(119);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},119:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(345)},654:(e,t,n)=>{"use strict";var r=n(950),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},49:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function m(){}function b(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=y.prototype;var _=b.prototype=new m;_.constructor=b,g(_,y.prototype),_.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,i)&&!I.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:S.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=e),e=""===o?"."+T(u,0):o,w(a)?(i="",null!=e&&(i=e.replace(k,"$&/")+"/"),N(a,t,i,"",(function(e){return e}))):null!=a&&(E(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(k,"$&/")+"/")+e)),t.push(a)),1;if(u=0,o=""===o?".":o+":",w(e))for(var c=0;c<e.length;c++){var l=o+T(s=e[c],c);u+=N(s,t,i,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,l=o+T(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var j={current:null},P={transition:null},D={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:P,ReactCurrentOwner:S};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return j.current.useCallback(e,t)},t.useContext=function(e){return j.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return j.current.useDeferredValue(e)},t.useEffect=function(e,t){return j.current.useEffect(e,t)},t.useId=function(){return j.current.useId()},t.useImperativeHandle=function(e,t,n){return j.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return j.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return j.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return j.current.useMemo(e,t)},t.useReducer=function(e,t,n){return j.current.useReducer(e,t,n)},t.useRef=function(e){return j.current.useRef(e)},t.useState=function(e){return j.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return j.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return j.current.useTransition()},t.version="18.2.0"},950:(e,t,n)=>{"use strict";e.exports=n(49)},414:(e,t,n)=>{"use strict";e.exports=n(654)},761:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>o(u,n))c<i&&0>o(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>o(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],h=1,d=null,f=3,p=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,m="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(v=!1,_(e),!g)if(null!==r(c))g=!0,P(x);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function x(e,n){g=!1,v&&(v=!1,m(E),E=-1),p=!0;var o=f;try{for(_(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!N());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var s=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===r(c)&&i(c),_(n)}else i(c);d=r(c)}if(null!==d)var u=!0;else{var h=r(l);null!==h&&D(w,h.startTime-n),u=!1}return u}finally{d=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,I=!1,C=null,E=-1,k=5,T=-1;function N(){return!(t.unstable_now()-T<k)}function A(){if(null!==C){var e=t.unstable_now();T=e;var n=!0;try{n=C(!0,e)}finally{n?S():(I=!1,C=null)}}else I=!1}if("function"===typeof b)S=function(){b(A)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,j=R.port2;R.port1.onmessage=A,S=function(){j.postMessage(null)}}else S=function(){y(A,0)};function P(e){C=e,I||(I=!0,S())}function D(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,P(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(l,e),null===r(c)&&e===r(l)&&(v?(m(E),E=-1):v=!0,D(w,o-a))):(e.sortIndex=s,n(c,e),g||p||(g=!0,P(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},340:(e,t,n)=>{"use strict";e.exports=n(761)},827:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__addDisposableResource:()=>D,__assign:()=>o,__asyncDelegator:()=>C,__asyncGenerator:()=>I,__asyncValues:()=>E,__await:()=>S,__awaiter:()=>p,__classPrivateFieldGet:()=>R,__classPrivateFieldIn:()=>P,__classPrivateFieldSet:()=>j,__createBinding:()=>v,__decorate:()=>s,__disposeResources:()=>L,__esDecorate:()=>c,__exportStar:()=>y,__extends:()=>i,__generator:()=>g,__importDefault:()=>A,__importStar:()=>N,__makeTemplateObject:()=>k,__metadata:()=>f,__param:()=>u,__propKey:()=>h,__read:()=>b,__rest:()=>a,__runInitializers:()=>l,__setFunctionName:()=>d,__spread:()=>_,__spreadArray:()=>x,__spreadArrays:()=>w,__values:()=>m,default:()=>M});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t,n,r,i,o){function a(e){if(void 0!==e&&"function"!==typeof e)throw new TypeError("Function expected");return e}for(var s,u=r.kind,c="getter"===u?"get":"setter"===u?"set":"value",l=!t&&e?r.static?e:e.prototype:null,h=t||(l?Object.getOwnPropertyDescriptor(l,r.name):{}),d=!1,f=n.length-1;f>=0;f--){var p={};for(var g in r)p[g]="access"===g?{}:r[g];for(var g in r.access)p.access[g]=r.access[g];p.addInitializer=function(e){if(d)throw new TypeError("Cannot add initializers after decoration has completed");o.push(a(e||null))};var v=(0,n[f])("accessor"===u?{get:h.get,set:h.set}:h[c],p);if("accessor"===u){if(void 0===v)continue;if(null===v||"object"!==typeof v)throw new TypeError("Object expected");(s=a(v.get))&&(h.get=s),(s=a(v.set))&&(h.set=s),(s=a(v.init))&&i.unshift(s)}else(s=a(v))&&("field"===u?i.unshift(s):h[c]=s)}l&&Object.defineProperty(l,r.name,h),d=!0}function l(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function h(e){return"symbol"===typeof e?e:"".concat(e)}function d(e,t,n){return"symbol"===typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function f(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function p(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function g(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(u){s=[6,u],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}var v=Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function y(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||v(t,e,n)}function m(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function _(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(b(arguments[t]));return e}function w(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function x(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function S(e){return this instanceof S?(this.v=e,this):new S(e)}function I(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof S?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function C(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:S(e[r](t)),done:!1}:i?i(t):t}:i}}function E(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=m(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function k(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var T=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function N(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&v(t,e,n);return T(t,e),t}function A(e){return e&&e.__esModule?e:{default:e}}function R(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function j(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}function P(e,t){if(null===t||"object"!==typeof t&&"function"!==typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"===typeof e?t===e:e.has(t)}function D(e,t,n){if(null!==t&&void 0!==t){if("object"!==typeof t&&"function"!==typeof t)throw new TypeError("Object expected.");var r;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose]}if("function"!==typeof r)throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var O="function"===typeof SuppressedError?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function L(e){function t(t){e.error=e.hasError?new O(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}return function n(){for(;e.stack.length;){var r=e.stack.pop();try{var i=r.dispose&&r.dispose.call(r.value);if(r.async)return Promise.resolve(i).then(n,(function(e){return t(e),n()}))}catch(o){t(o)}}if(e.hasError)throw e.error}()}const M={__extends:i,__assign:o,__rest:a,__decorate:s,__param:u,__metadata:f,__awaiter:p,__generator:g,__createBinding:v,__exportStar:y,__values:m,__read:b,__spread:_,__spreadArrays:w,__spreadArray:x,__await:S,__asyncGenerator:I,__asyncDelegator:C,__asyncValues:E,__makeTemplateObject:k,__importStar:N,__importDefault:A,__classPrivateFieldGet:R,__classPrivateFieldSet:j,__classPrivateFieldIn:P,__addDisposableResource:D,__disposeResources:L}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(o,a),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".a9786cce.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="front:";n.l=(r,i,o,a)=>{if(e[r])e[r].push(i);else{var s,u;if(void 0!==o)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var h=c[l];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+o){s=h;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var d=(t,n)=>{s.onerror=s.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),u&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,o,a=r[0],s=r[1],u=r[2],c=0;if(a.some((t=>0!==e[t]))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkfront=self.webpackChunkfront||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>Et,hasStandardBrowserEnv:()=>Tt,hasStandardBrowserWebWorkerEnv:()=>Nt,navigator:()=>kt,origin:()=>At});var t,r=n(950),i=n.t(r,2),o=n(352),a=n(119),s=n.t(a,2);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const c="popstate";function l(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(am){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t,n,r){return void 0===n&&(n=null),u({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function v(e,n,r,i){void 0===i&&(i={});let{window:o=document.defaultView,v5Compat:a=!1}=i,s=o.history,h=t.Pop,g=null,v=y();function y(){return(s.state||{idx:null}).idx}function m(){h=t.Pop;let e=y(),n=null==e?null:e-v;v=e,g&&g({action:h,location:_.location,delta:n})}function b(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:p(e);return n=n.replace(/ $/,"%20"),l(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==v&&(v=0,s.replaceState(u({},s.state,{idx:v}),""));let _={get action(){return h},get location(){return e(o,s)},listen(e){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(c,m),g=e,()=>{o.removeEventListener(c,m),g=null}},createHref:e=>n(o,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){h=t.Push;let i=f(_.location,e,n);r&&r(i,e),v=y()+1;let u=d(i,v),c=_.createHref(i);try{s.pushState(u,"",c)}catch(l){if(l instanceof DOMException&&"DataCloneError"===l.name)throw l;o.location.assign(c)}a&&g&&g({action:h,location:_.location,delta:1})},replace:function(e,n){h=t.Replace;let i=f(_.location,e,n);r&&r(i,e),v=y();let o=d(i,v),u=_.createHref(i);s.replaceState(o,"",u),a&&g&&g({action:h,location:_.location,delta:0})},go:e=>s.go(e)};return _}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function m(e,t,n){void 0===n&&(n="/");let r=j(("string"===typeof t?g(t):t).pathname||"/",n);if(null==r)return null;let i=b(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let a=0;null==o&&a<i.length;++a){let e=R(r);o=N(i[a],e)}return o}function b(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(l(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=M([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(l(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),b(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:T(s,e.index),routesMeta:u})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of _(e.path))i(e,t,r);else i(e,t)})),t}function _(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=_(r.join("/")),s=[];return s.push(...a.map((e=>""===e?o:[o,e].join("/")))),i&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const w=/^:[\w-]+$/,x=3,S=2,I=1,C=10,E=-2,k=e=>"*"===e;function T(e,t){let n=e.split("/"),r=n.length;return n.some(k)&&(r+=E),t&&(r+=S),n.filter((e=>!k(e))).reduce(((e,t)=>e+(w.test(t)?x:""===t?I:C)),r)}function N(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let a=0;a<n.length;++a){let e=n[a],s=a===n.length-1,u="/"===i?t:t.slice(i.length)||"/",c=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:s},u);if(!c)return null;Object.assign(r,c.params);let l=e.route;o.push({params:r,pathname:M([i,c.pathname]),pathnameBase:F(M([i,c.pathnameBase])),route:l}),"/"!==c.pathnameBase&&(i=M([i,c.pathnameBase]))}return o}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const u=s[n];return e[r]=i&&!u?void 0:(u||"").replace(/%2F/g,"/"),e}),{}),pathname:o,pathnameBase:a,pattern:e}}function R(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function j(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function P(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function O(e,t){let n=D(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function L(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=g(e):(i=u({},e),l(!i.pathname||!i.pathname.includes("?"),P("?","pathname","search",i)),l(!i.pathname||!i.pathname.includes("#"),P("#","pathname","hash",i)),l(!i.search||!i.search.includes("#"),P("#","search","hash",i)));let o,a=""===e||""===i.pathname,s=a?"/":i.pathname;if(null==s)o=n;else{let e=t.length-1;if(!r&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?g(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:U(r),hash:q(i)}}(i,o),h=s&&"/"!==s&&s.endsWith("/"),d=(a||"."===s)&&n.endsWith("/");return c.pathname.endsWith("/")||!h&&!d||(c.pathname+="/"),c}const M=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",q=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function V(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const B=["post","put","patch","delete"],z=(new Set(B),["get",...B]);new Set(z),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}const K=r.createContext(null);const H=r.createContext(null);const G=r.createContext(null);const Q=r.createContext(null);const Y=r.createContext({outlet:null,matches:[],isDataRoute:!1});const $=r.createContext(null);function X(){return null!=r.useContext(Q)}function J(){return X()||l(!1),r.useContext(Q).location}function Z(e){r.useContext(G).static||r.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=r.useContext(Y);return e?function(){let{router:e}=ce(se.UseNavigateStable),t=he(ue.UseNavigateStable),n=r.useRef(!1);Z((()=>{n.current=!0}));let i=r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,W({fromRouteId:t},i)))}),[e,t]);return i}():function(){X()||l(!1);let e=r.useContext(K),{basename:t,future:n,navigator:i}=r.useContext(G),{matches:o}=r.useContext(Y),{pathname:a}=J(),s=JSON.stringify(O(o,n.v7_relativeSplatPath)),u=r.useRef(!1);Z((()=>{u.current=!0}));let c=r.useCallback((function(n,r){if(void 0===r&&(r={}),!u.current)return;if("number"===typeof n)return void i.go(n);let o=L(n,JSON.parse(s),a,"path"===r.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:M([t,o.pathname])),(r.replace?i.replace:i.push)(o,r.state,r)}),[t,i,s,a,e]);return c}()}function te(e,n,i,o){X()||l(!1);let{navigator:a}=r.useContext(G),{matches:s}=r.useContext(Y),u=s[s.length-1],c=u?u.params:{},h=(u&&u.pathname,u?u.pathnameBase:"/");u&&u.route;let d,f=J();if(n){var p;let e="string"===typeof n?g(n):n;"/"===h||(null==(p=e.pathname)?void 0:p.startsWith(h))||l(!1),d=e}else d=f;let v=d.pathname||"/",y=v;if("/"!==h){let e=h.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=m(e,{pathname:y});let _=ae(b&&b.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:M([h,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:M([h,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,i,o);return n&&_?r.createElement(Q.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:t.Pop}},_):_}function ne(){let e=function(){var e;let t=r.useContext($),n=le(ue.UseRouteError),i=he(ue.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=V(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:o},n):null,null)}const re=r.createElement(ne,null);class ie extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(Y.Provider,{value:this.props.routeContext},r.createElement($.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oe(e){let{routeContext:t,match:n,children:i}=e,o=r.useContext(K);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(Y.Provider,{value:t},i)}function ae(e,t,n,i){var o;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===i&&(i=null),null==e){var a;if(null==(a=n)||!a.errors)return null;e=n.matches}let s=e,u=null==(o=n)?void 0:o.errors;if(null!=u){let e=s.findIndex((e=>e.route.id&&(null==u?void 0:u[e.route.id])));e>=0||l(!1),s=s.slice(0,Math.min(s.length,e+1))}let c=!1,h=-1;if(n&&i&&i.v7_partialHydration)for(let r=0;r<s.length;r++){let e=s[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(h=r),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,s=h>=0?s.slice(0,h+1):[s[0]];break}}}return s.reduceRight(((e,i,o)=>{let a,l=!1,d=null,f=null;var p;n&&(a=u&&i.route.id?u[i.route.id]:void 0,d=i.route.errorElement||re,c&&(h<0&&0===o?(p="route-fallback",!1||de[p]||(de[p]=!0),l=!0,f=null):h===o&&(l=!0,f=i.route.hydrateFallbackElement||null)));let g=t.concat(s.slice(0,o+1)),v=()=>{let t;return t=a?d:l?f:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(oe,{match:i,routeContext:{outlet:e,matches:g,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===o)?r.createElement(ie,{location:n.location,revalidation:n.revalidation,component:d,error:a,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()}),null)}var se=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(se||{}),ue=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ue||{});function ce(e){let t=r.useContext(K);return t||l(!1),t}function le(e){let t=r.useContext(H);return t||l(!1),t}function he(e){let t=function(e){let t=r.useContext(Y);return t||l(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||l(!1),n.route.id}const de={};i.startTransition;function fe(e){l(!1)}function pe(e){let{basename:n="/",children:i=null,location:o,navigationType:a=t.Pop,navigator:s,static:u=!1,future:c}=e;X()&&l(!1);let h=n.replace(/^\/*/,"/"),d=r.useMemo((()=>({basename:h,navigator:s,static:u,future:W({v7_relativeSplatPath:!1},c)})),[h,c,s,u]);"string"===typeof o&&(o=g(o));let{pathname:f="/",search:p="",hash:v="",state:y=null,key:m="default"}=o,b=r.useMemo((()=>{let e=j(f,h);return null==e?null:{location:{pathname:e,search:p,hash:v,state:y,key:m},navigationType:a}}),[h,f,p,v,y,m,a]);return null==b?null:r.createElement(G.Provider,{value:d},r.createElement(Q.Provider,{children:i,value:b}))}function ge(e){let{children:t,location:n}=e;return te(ve(t),n)}new Promise((()=>{}));r.Component;function ve(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,((e,i)=>{if(!r.isValidElement(e))return;let o=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,ve(e.props.children,o));e.type!==fe&&l(!1),e.props.index&&e.props.children&&l(!1);let a={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=ve(e.props.children,o)),n.push(a)})),n}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(am){}new Map;const ye=i.startTransition;s.flushSync,i.useId;function me(e){let{basename:t,children:n,future:i,window:o}=e,a=r.useRef();var s;null==a.current&&(a.current=(void 0===(s={window:o,v5Compat:!0})&&(s={}),v((function(e,t){let{pathname:n="/",search:r="",hash:i=""}=g(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),f("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:p(t))}),(function(e,t){h("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),s)));let u=a.current,[c,l]=r.useState({action:u.action,location:u.location}),{v7_startTransition:d}=i||{},y=r.useCallback((e=>{d&&ye?ye((()=>l(e))):l(e)}),[l,d]);return r.useLayoutEffect((()=>u.listen(y)),[u,y]),r.createElement(pe,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:u,future:i})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var be,_e;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(be||(be={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(_e||(_e={}));function we(e,t){return function(){return e.apply(t,arguments)}}const{toString:xe}=Object.prototype,{getPrototypeOf:Se}=Object,Ie=(Ce=Object.create(null),e=>{const t=xe.call(e);return Ce[t]||(Ce[t]=t.slice(8,-1).toLowerCase())});var Ce;const Ee=e=>(e=e.toLowerCase(),t=>Ie(t)===e),ke=e=>t=>typeof t===e,{isArray:Te}=Array,Ne=ke("undefined");const Ae=Ee("ArrayBuffer");const Re=ke("string"),je=ke("function"),Pe=ke("number"),De=e=>null!==e&&"object"===typeof e,Oe=e=>{if("object"!==Ie(e))return!1;const t=Se(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Le=Ee("Date"),Me=Ee("File"),Fe=Ee("Blob"),Ue=Ee("FileList"),qe=Ee("URLSearchParams"),[Ve,Be,ze,We]=["ReadableStream","Request","Response","Headers"].map(Ee);function Ke(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Te(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let a;for(n=0;n<o;n++)a=r[n],t.call(null,e[a],a,e)}}function He(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const Ge="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Qe=e=>!Ne(e)&&e!==Ge;const Ye=($e="undefined"!==typeof Uint8Array&&Se(Uint8Array),e=>$e&&e instanceof $e);var $e;const Xe=Ee("HTMLFormElement"),Je=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Ze=Ee("RegExp"),et=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Ke(n,((n,i)=>{let o;!1!==(o=t(n,i,e))&&(r[i]=o||n)})),Object.defineProperties(e,r)},tt="abcdefghijklmnopqrstuvwxyz",nt="0123456789",rt={DIGIT:nt,ALPHA:tt,ALPHA_DIGIT:tt+tt.toUpperCase()+nt};const it=Ee("AsyncFunction"),ot=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],Ge.addEventListener("message",(e=>{let{source:t,data:i}=e;t===Ge&&i===n&&r.length&&r.shift()()}),!1),e=>{r.push(e),Ge.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,je(Ge.postMessage)),at="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Ge):"undefined"!==typeof process&&process.nextTick||ot,st={isArray:Te,isArrayBuffer:Ae,isBuffer:function(e){return null!==e&&!Ne(e)&&null!==e.constructor&&!Ne(e.constructor)&&je(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||je(e.append)&&("formdata"===(t=Ie(e))||"object"===t&&je(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Ae(e.buffer),t},isString:Re,isNumber:Pe,isBoolean:e=>!0===e||!1===e,isObject:De,isPlainObject:Oe,isReadableStream:Ve,isRequest:Be,isResponse:ze,isHeaders:We,isUndefined:Ne,isDate:Le,isFile:Me,isBlob:Fe,isRegExp:Ze,isFunction:je,isStream:e=>De(e)&&je(e.pipe),isURLSearchParams:qe,isTypedArray:Ye,isFileList:Ue,forEach:Ke,merge:function e(){const{caseless:t}=Qe(this)&&this||{},n={},r=(r,i)=>{const o=t&&He(n,i)||i;Oe(n[o])&&Oe(r)?n[o]=e(n[o],r):Oe(r)?n[o]=e({},r):Te(r)?n[o]=r.slice():n[o]=r};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&Ke(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Ke(t,((t,r)=>{n&&je(t)?e[r]=we(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,o,a;const s={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)a=i[o],r&&!r(a,e,t)||s[a]||(t[a]=e[a],s[a]=!0);e=!1!==n&&Se(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Ie,kindOfTest:Ee,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Te(e))return e;let t=e.length;if(!Pe(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Xe,hasOwnProperty:Je,hasOwnProp:Je,reduceDescriptors:et,freezeMethods:e=>{et(e,((t,n)=>{if(je(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];je(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return Te(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:He,global:Ge,isContextDefined:Qe,ALPHABET:rt,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rt.ALPHA_DIGIT,n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&je(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(De(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=Te(e)?[]:{};return Ke(e,((e,t)=>{const o=n(e,r+1);!Ne(o)&&(i[t]=o)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:it,isThenable:e=>e&&(De(e)||je(e))&&je(e.then)&&je(e.catch),setImmediate:ot,asap:at};function ut(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}st.inherits(ut,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:st.toJSONObject(this.config),code:this.code,status:this.status}}});const ct=ut.prototype,lt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{lt[e]={value:e}})),Object.defineProperties(ut,lt),Object.defineProperty(ct,"isAxiosError",{value:!0}),ut.from=(e,t,n,r,i,o)=>{const a=Object.create(ct);return st.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),ut.call(a,e.message,t,n,r,i),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};const ht=ut;function dt(e){return st.isPlainObject(e)||st.isArray(e)}function ft(e){return st.endsWith(e,"[]")?e.slice(0,-2):e}function pt(e,t,n){return e?e.concat(t).map((function(e,t){return e=ft(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const gt=st.toFlatObject(st,{},null,(function(e){return/^is[A-Z]/.test(e)}));const vt=function(e,t,n){if(!st.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=st.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!st.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,o=n.dots,a=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&st.isSpecCompliantForm(t);if(!st.isFunction(i))throw new TypeError("visitor must be a function");function u(e){if(null===e)return"";if(st.isDate(e))return e.toISOString();if(!s&&st.isBlob(e))throw new ht("Blob is not supported. Use a Buffer instead.");return st.isArrayBuffer(e)||st.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let s=e;if(e&&!i&&"object"===typeof e)if(st.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(st.isArray(e)&&function(e){return st.isArray(e)&&!e.some(dt)}(e)||(st.isFileList(e)||st.endsWith(n,"[]"))&&(s=st.toArray(e)))return n=ft(n),s.forEach((function(e,r){!st.isUndefined(e)&&null!==e&&t.append(!0===a?pt([n],r,o):null===a?n:n+"[]",u(e))})),!1;return!!dt(e)||(t.append(pt(i,n,o),u(e)),!1)}const l=[],h=Object.assign(gt,{defaultVisitor:c,convertValue:u,isVisitable:dt});if(!st.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!st.isUndefined(n)){if(-1!==l.indexOf(n))throw Error("Circular reference detected in "+r.join("."));l.push(n),st.forEach(n,(function(n,o){!0===(!(st.isUndefined(n)||null===n)&&i.call(t,n,st.isString(o)?o.trim():o,r,h))&&e(n,r?r.concat(o):[o])})),l.pop()}}(e),t};function yt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function mt(e,t){this._pairs=[],e&&vt(e,this,t)}const bt=mt.prototype;bt.append=function(e,t){this._pairs.push([e,t])},bt.toString=function(e){const t=e?function(t){return e.call(this,t,yt)}:yt;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const _t=mt;function wt(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function xt(e,t,n){if(!t)return e;const r=n&&n.encode||wt;st.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(o=i?i(t,n):st.isURLSearchParams(t)?t.toString():new _t(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const St=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){st.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},It={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ct={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:_t,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Et="undefined"!==typeof window&&"undefined"!==typeof document,kt="object"===typeof navigator&&navigator||void 0,Tt=Et&&(!kt||["ReactNative","NativeScript","NS"].indexOf(kt.product)<0),Nt="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,At=Et&&window.location.href||"http://localhost",Rt={...e,...Ct};const jt=function(e){function t(e,n,r,i){let o=e[i++];if("__proto__"===o)return!0;const a=Number.isFinite(+o),s=i>=e.length;if(o=!o&&st.isArray(r)?r.length:o,s)return st.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!a;r[o]&&st.isObject(r[o])||(r[o]=[]);return t(e,n,r[o],i)&&st.isArray(r[o])&&(r[o]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}(r[o])),!a}if(st.isFormData(e)&&st.isFunction(e.entries)){const n={};return st.forEachEntry(e,((e,r)=>{t(function(e){return st.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const Pt={transitional:It,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=st.isObject(e);i&&st.isHTMLForm(e)&&(e=new FormData(e));if(st.isFormData(e))return r?JSON.stringify(jt(e)):e;if(st.isArrayBuffer(e)||st.isBuffer(e)||st.isStream(e)||st.isFile(e)||st.isBlob(e)||st.isReadableStream(e))return e;if(st.isArrayBufferView(e))return e.buffer;if(st.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return vt(e,new Rt.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Rt.isNode&&st.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=st.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return vt(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(st.isString(e))try{return(t||JSON.parse)(e),st.trim(e)}catch(am){if("SyntaxError"!==am.name)throw am}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Pt.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(st.isResponse(e)||st.isReadableStream(e))return e;if(e&&st.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(am){if(n){if("SyntaxError"===am.name)throw ht.from(am,ht.ERR_BAD_RESPONSE,this,null,this.response);throw am}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Rt.classes.FormData,Blob:Rt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};st.forEach(["delete","get","head","post","put","patch"],(e=>{Pt.headers[e]={}}));const Dt=Pt,Ot=st.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Lt=Symbol("internals");function Mt(e){return e&&String(e).trim().toLowerCase()}function Ft(e){return!1===e||null==e?e:st.isArray(e)?e.map(Ft):String(e)}function Ut(e,t,n,r,i){return st.isFunction(r)?r.call(this,t,n):(i&&(t=n),st.isString(t)?st.isString(r)?-1!==t.indexOf(r):st.isRegExp(r)?r.test(t):void 0:void 0)}class qt{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=Mt(t);if(!i)throw new Error("header name must be a non-empty string");const o=st.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=Ft(e))}const o=(e,t)=>st.forEach(e,((e,n)=>i(e,n,t)));if(st.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(st.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&Ot[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(st.isHeaders(e))for(const[a,s]of e.entries())i(s,a,n);else null!=e&&i(t,e,n);return this}get(e,t){if(e=Mt(e)){const n=st.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(st.isFunction(t))return t.call(this,e,n);if(st.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Mt(e)){const n=st.findKey(this,e);return!(!n||void 0===this[n]||t&&!Ut(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=Mt(e)){const i=st.findKey(n,e);!i||t&&!Ut(0,n[i],i,t)||(delete n[i],r=!0)}}return st.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!Ut(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return st.forEach(this,((r,i)=>{const o=st.findKey(n,i);if(o)return t[o]=Ft(r),void delete t[i];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();a!==i&&delete t[i],t[a]=Ft(r),n[a]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return st.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&st.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[Lt]=this[Lt]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Mt(e);t[r]||(!function(e,t){const n=st.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return st.isArray(e)?e.forEach(r):r(e),this}}qt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),st.reduceDescriptors(qt.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),st.freezeMethods(qt);const Vt=qt;function Bt(e,t){const n=this||Dt,r=t||n,i=Vt.from(r.headers);let o=r.data;return st.forEach(e,(function(e){o=e.call(n,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function zt(e){return!(!e||!e.__CANCEL__)}function Wt(e,t,n){ht.call(this,null==e?"canceled":e,ht.ERR_CANCELED,t,n),this.name="CanceledError"}st.inherits(Wt,ht,{__CANCEL__:!0});const Kt=Wt;function Ht(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new ht("Request failed with status code "+n.status,[ht.ERR_BAD_REQUEST,ht.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Gt=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,o=0,a=0;return t=void 0!==t?t:1e3,function(s){const u=Date.now(),c=r[a];i||(i=u),n[o]=s,r[o]=u;let l=a,h=0;for(;l!==o;)h+=n[l++],l%=e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),u-i<t)return;const d=c&&u-c;return d?Math.round(1e3*h/d):void 0}};const Qt=function(e,t){let n,r,i=0,o=1e3/t;const a=function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=o,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-i;for(var s=arguments.length,u=new Array(s),c=0;c<s;c++)u[c]=arguments[c];t>=o?a(u,e):(n=u,r||(r=setTimeout((()=>{r=null,a(n)}),o-t)))},()=>n&&a(n)]},Yt=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const i=Gt(50,250);return Qt((n=>{const o=n.loaded,a=n.lengthComputable?n.total:void 0,s=o-r,u=i(s);r=o;e({loaded:o,total:a,progress:a?o/a:void 0,bytes:s,rate:u||void 0,estimated:u&&a&&o<=a?(a-o)/u:void 0,event:n,lengthComputable:null!=a,[t?"download":"upload"]:!0})}),n)},$t=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Xt=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return st.asap((()=>e(...n)))},Jt=Rt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Rt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Rt.origin),Rt.navigator&&/(msie|trident)/i.test(Rt.navigator.userAgent)):()=>!0,Zt=Rt.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const a=[e+"="+encodeURIComponent(t)];st.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),st.isString(r)&&a.push("path="+r),st.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function en(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const tn=e=>e instanceof Vt?{...e}:e;function nn(e,t){t=t||{};const n={};function r(e,t,n,r){return st.isPlainObject(e)&&st.isPlainObject(t)?st.merge.call({caseless:r},e,t):st.isPlainObject(t)?st.merge({},t):st.isArray(t)?t.slice():t}function i(e,t,n,i){return st.isUndefined(t)?st.isUndefined(e)?void 0:r(void 0,e,0,i):r(e,t,0,i)}function o(e,t){if(!st.isUndefined(t))return r(void 0,t)}function a(e,t){return st.isUndefined(t)?st.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,o){return o in t?r(n,i):o in e?r(void 0,n):void 0}const u={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,t,n)=>i(tn(e),tn(t),0,!0)};return st.forEach(Object.keys(Object.assign({},e,t)),(function(r){const o=u[r]||i,a=o(e[r],t[r],r);st.isUndefined(a)&&o!==s||(n[r]=a)})),n}const rn=e=>{const t=nn({},e);let n,{data:r,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:a,headers:s,auth:u}=t;if(t.headers=s=Vt.from(s),t.url=xt(en(t.baseURL,t.url),e.params,e.paramsSerializer),u&&s.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),st.isFormData(r))if(Rt.hasStandardBrowserEnv||Rt.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(n=s.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...t].join("; "))}if(Rt.hasStandardBrowserEnv&&(i&&st.isFunction(i)&&(i=i(t)),i||!1!==i&&Jt(t.url))){const e=o&&a&&Zt.read(a);e&&s.set(o,e)}return t},on="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=rn(e);let i=r.data;const o=Vt.from(r.headers).normalize();let a,s,u,c,l,{responseType:h,onUploadProgress:d,onDownloadProgress:f}=r;function p(){c&&c(),l&&l(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let g=new XMLHttpRequest;function v(){if(!g)return;const r=Vt.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders());Ht((function(e){t(e),p()}),(function(e){n(e),p()}),{data:h&&"text"!==h&&"json"!==h?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:r,config:e,request:g}),g=null}g.open(r.method.toUpperCase(),r.url,!0),g.timeout=r.timeout,"onloadend"in g?g.onloadend=v:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(v)},g.onabort=function(){g&&(n(new ht("Request aborted",ht.ECONNABORTED,e,g)),g=null)},g.onerror=function(){n(new ht("Network Error",ht.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const i=r.transitional||It;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new ht(t,i.clarifyTimeoutError?ht.ETIMEDOUT:ht.ECONNABORTED,e,g)),g=null},void 0===i&&o.setContentType(null),"setRequestHeader"in g&&st.forEach(o.toJSON(),(function(e,t){g.setRequestHeader(t,e)})),st.isUndefined(r.withCredentials)||(g.withCredentials=!!r.withCredentials),h&&"json"!==h&&(g.responseType=r.responseType),f&&([u,l]=Yt(f,!0),g.addEventListener("progress",u)),d&&g.upload&&([s,c]=Yt(d),g.upload.addEventListener("progress",s),g.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(a=t=>{g&&(n(!t||t.type?new Kt(null,e,g):t),g.abort(),g=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);y&&-1===Rt.protocols.indexOf(y)?n(new ht("Unsupported protocol "+y+":",ht.ERR_BAD_REQUEST,e)):g.send(i||null)}))},an=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const i=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof ht?t:new Kt(t instanceof Error?t.message:t))}};let o=t&&setTimeout((()=>{o=null,i(new ht("timeout ".concat(t," of ms exceeded"),ht.ETIMEDOUT))}),t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)})),e=null)};e.forEach((e=>e.addEventListener("abort",i)));const{signal:s}=r;return s.unsubscribe=()=>st.asap(a),s}},sn=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},un=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},cn=(e,t,n,r)=>{const i=async function*(e,t){for await(const n of un(e))yield*sn(n,t)}(e,t);let o,a=0,s=e=>{o||(o=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await i.next();if(t)return s(),void e.close();let o=r.byteLength;if(n){let e=a+=o;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw s(t),t}},cancel:e=>(s(e),i.return())},{highWaterMark:2})},ln="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,hn=ln&&"function"===typeof ReadableStream,dn=ln&&("function"===typeof TextEncoder?(fn=new TextEncoder,e=>fn.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var fn;const pn=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(am){return!1}},gn=hn&&pn((()=>{let e=!1;const t=new Request(Rt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),vn=hn&&pn((()=>st.isReadableStream(new Response("").body))),yn={stream:vn&&(e=>e.body)};var mn;ln&&(mn=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!yn[e]&&(yn[e]=st.isFunction(mn[e])?t=>t[e]():(t,n)=>{throw new ht("Response type '".concat(e,"' is not supported"),ht.ERR_NOT_SUPPORT,n)})})));const bn=async(e,t)=>{const n=st.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(st.isBlob(e))return e.size;if(st.isSpecCompliantForm(e)){const t=new Request(Rt.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return st.isArrayBufferView(e)||st.isArrayBuffer(e)?e.byteLength:(st.isURLSearchParams(e)&&(e+=""),st.isString(e)?(await dn(e)).byteLength:void 0)})(t):n},_n={http:null,xhr:on,fetch:ln&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:o,timeout:a,onDownloadProgress:s,onUploadProgress:u,responseType:c,headers:l,withCredentials:h="same-origin",fetchOptions:d}=rn(e);c=c?(c+"").toLowerCase():"text";let f,p=an([i,o&&o.toAbortSignal()],a);const g=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let v;try{if(u&&gn&&"get"!==n&&"head"!==n&&0!==(v=await bn(l,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(st.isFormData(r)&&(e=n.headers.get("content-type"))&&l.setContentType(e),n.body){const[e,t]=$t(v,Yt(Xt(u)));r=cn(n.body,65536,e,t)}}st.isString(h)||(h=h?"include":"omit");const i="credentials"in Request.prototype;f=new Request(t,{...d,signal:p,method:n.toUpperCase(),headers:l.normalize().toJSON(),body:r,duplex:"half",credentials:i?h:void 0});let o=await fetch(f);const a=vn&&("stream"===c||"response"===c);if(vn&&(s||a&&g)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=o[t]}));const t=st.toFiniteNumber(o.headers.get("content-length")),[n,r]=s&&$t(t,Yt(Xt(s),!0))||[];o=new Response(cn(o.body,65536,n,(()=>{r&&r(),g&&g()})),e)}c=c||"text";let y=await yn[st.findKey(yn,c)||"text"](o,e);return!a&&g&&g(),await new Promise(((t,n)=>{Ht(t,n,{data:y,headers:Vt.from(o.headers),status:o.status,statusText:o.statusText,config:e,request:f})}))}catch(y){if(g&&g(),y&&"TypeError"===y.name&&/fetch/i.test(y.message))throw Object.assign(new ht("Network Error",ht.ERR_NETWORK,e,f),{cause:y.cause||y});throw ht.from(y,y&&y.code,e,f)}})};st.forEach(_n,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(am){}Object.defineProperty(e,"adapterName",{value:t})}}));const wn=e=>"- ".concat(e),xn=e=>st.isFunction(e)||null===e||!1===e,Sn=e=>{e=st.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){let t;if(n=e[o],r=n,!xn(n)&&(r=_n[(t=String(n)).toLowerCase()],void 0===r))throw new ht("Unknown adapter '".concat(t,"'"));if(r)break;i[t||"#"+o]=r}if(!r){const e=Object.entries(i).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(wn).join("\n"):" "+wn(e[0]):"as no adapter specified";throw new ht("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function In(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Kt(null,e)}function Cn(e){In(e),e.headers=Vt.from(e.headers),e.data=Bt.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Sn(e.adapter||Dt.adapter)(e).then((function(t){return In(e),t.data=Bt.call(e,e.transformResponse,t),t.headers=Vt.from(t.headers),t}),(function(t){return zt(t)||(In(e),t&&t.response&&(t.response.data=Bt.call(e,e.transformResponse,t.response),t.response.headers=Vt.from(t.response.headers))),Promise.reject(t)}))}const En="1.7.9",kn={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{kn[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const Tn={};kn.transitional=function(e,t,n){function r(e,t){return"[Axios v1.7.9] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,o)=>{if(!1===e)throw new ht(r(i," has been removed"+(t?" in "+t:"")),ht.ERR_DEPRECATED);return t&&!Tn[i]&&(Tn[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}},kn.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const Nn={assertOptions:function(e,t,n){if("object"!==typeof e)throw new ht("options must be an object",ht.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],a=t[o];if(a){const t=e[o],n=void 0===t||a(t,o,e);if(!0!==n)throw new ht("option "+o+" must be "+n,ht.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new ht("Unknown option "+o,ht.ERR_BAD_OPTION)}},validators:kn},An=Nn.validators;class Rn{constructor(e){this.defaults=e,this.interceptors={request:new St,response:new St}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(am){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=nn(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&Nn.assertOptions(n,{silentJSONParsing:An.transitional(An.boolean),forcedJSONParsing:An.transitional(An.boolean),clarifyTimeoutError:An.transitional(An.boolean)},!1),null!=r&&(st.isFunction(r)?t.paramsSerializer={serialize:r}:Nn.assertOptions(r,{encode:An.function,serialize:An.function},!0)),Nn.assertOptions(t,{baseUrl:An.spelling("baseURL"),withXsrfToken:An.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&st.merge(i.common,i[t.method]);i&&st.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=Vt.concat(o,i);const a=[];let s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const u=[];let c;this.interceptors.response.forEach((function(e){u.push(e.fulfilled,e.rejected)}));let l,h=0;if(!s){const e=[Cn.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,u),l=e.length,c=Promise.resolve(t);h<l;)c=c.then(e[h++],e[h++]);return c}l=a.length;let d=t;for(h=0;h<l;){const e=a[h++],t=a[h++];try{d=e(d)}catch(f){t.call(this,f);break}}try{c=Cn.call(this,d)}catch(f){return Promise.reject(f)}for(h=0,l=u.length;h<l;)c=c.then(u[h++],u[h++]);return c}getUri(e){return xt(en((e=nn(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}st.forEach(["delete","get","head","options"],(function(e){Rn.prototype[e]=function(t,n){return this.request(nn(n||{},{method:e,url:t,data:(n||{}).data}))}})),st.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(nn(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Rn.prototype[e]=t(),Rn.prototype[e+"Form"]=t(!0)}));const jn=Rn;class Pn{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new Kt(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Pn((function(t){e=t})),cancel:e}}}const Dn=Pn;const On={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(On).forEach((e=>{let[t,n]=e;On[n]=t}));const Ln=On;const Mn=function e(t){const n=new jn(t),r=we(jn.prototype.request,n);return st.extend(r,jn.prototype,n,{allOwnKeys:!0}),st.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(nn(t,n))},r}(Dt);Mn.Axios=jn,Mn.CanceledError=Kt,Mn.CancelToken=Dn,Mn.isCancel=zt,Mn.VERSION=En,Mn.toFormData=vt,Mn.AxiosError=ht,Mn.Cancel=Mn.CanceledError,Mn.all=function(e){return Promise.all(e)},Mn.spread=function(e){return function(t){return e.apply(null,t)}},Mn.isAxiosError=function(e){return st.isObject(e)&&!0===e.isAxiosError},Mn.mergeConfig=nn,Mn.AxiosHeaders=Vt,Mn.formToJSON=e=>jt(st.isHTMLForm(e)?new FormData(e):e),Mn.getAdapter=Sn,Mn.HttpStatusCode=Ln,Mn.default=Mn;const Fn=Mn,Un="http://localhost:5001/api/";function qn(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=qn(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}const Vn=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=qn(e))&&(r&&(r+=" "),r+=t);return r},Bn=e=>"number"==typeof e&&!isNaN(e),zn=e=>"string"==typeof e,Wn=e=>"function"==typeof e,Kn=e=>zn(e)||Wn(e)?e:null,Hn=e=>(0,r.isValidElement)(e)||zn(e)||Wn(e)||Bn(e);function Gn(e){let{enter:t,exit:n,appendPosition:i=!1,collapse:o=!0,collapseDuration:a=300}=e;return function(e){let{children:s,position:u,preventExitTransition:c,done:l,nodeRef:h,isIn:d}=e;const f=i?"".concat(t,"--").concat(u):t,p=i?"".concat(n,"--").concat(u):n,g=(0,r.useRef)(0);return(0,r.useLayoutEffect)((()=>{const e=h.current,t=f.split(" "),n=r=>{r.target===h.current&&(e.dispatchEvent(new Event("d")),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===g.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)}),[]),(0,r.useEffect)((()=>{const e=h.current,t=()=>{e.removeEventListener("animationend",t),o?function(e,t,n){void 0===n&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame((()=>{i.minHeight="initial",i.height=r+"px",i.transition="all ".concat(n,"ms"),requestAnimationFrame((()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,l,a):l()};d||(c?t():(g.current=1,e.className+=" ".concat(p),e.addEventListener("animationend",t)))}),[d]),r.createElement(r.Fragment,null,s)}}function Qn(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const Yn={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter((e=>e!==t));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach((t=>{const n=setTimeout((()=>{t(...[].slice.call(arguments,1))}),0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)}))}},$n=e=>{let{theme:t,type:n,...i}=e;return r.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":"var(--toastify-icon-color-".concat(n,")"),...i})},Xn={info:function(e){return r.createElement($n,{...e},r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return r.createElement($n,{...e},r.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return r.createElement($n,{...e},r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return r.createElement($n,{...e},r.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return r.createElement("div",{className:"Toastify__spinner"})}};function Jn(e){const[,t]=(0,r.useReducer)((e=>e+1),0),[n,i]=(0,r.useState)([]),o=(0,r.useRef)(null),a=(0,r.useRef)(new Map).current,s=e=>-1!==n.indexOf(e),u=(0,r.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:s,getToast:e=>a.get(e)}).current;function c(e){let{containerId:t}=e;const{limit:n}=u.props;!n||t&&u.containerId!==t||(u.count-=u.queue.length,u.queue=[])}function l(e){i((t=>null==e?[]:t.filter((t=>t!==e))))}function h(){const{toastContent:e,toastProps:t,staleId:n}=u.queue.shift();f(e,t,n)}function d(e,n){let{delay:i,staleId:s,...c}=n;if(!Hn(e)||function(e){return!o.current||u.props.enableMultiContainer&&e.containerId!==u.props.containerId||a.has(e.toastId)&&null==e.updateId}(c))return;const{toastId:d,updateId:p,data:g}=c,{props:v}=u,y=()=>l(d),m=null==p;m&&u.count++;const b={...v,style:v.toastStyle,key:u.toastKey++,...Object.fromEntries(Object.entries(c).filter((e=>{let[t,n]=e;return null!=n}))),toastId:d,updateId:p,data:g,closeToast:y,isIn:!1,className:Kn(c.className||v.toastClassName),bodyClassName:Kn(c.bodyClassName||v.bodyClassName),progressClassName:Kn(c.progressClassName||v.progressClassName),autoClose:!c.isLoading&&(_=c.autoClose,w=v.autoClose,!1===_||Bn(_)&&_>0?_:w),deleteToast(){const e=Qn(a.get(d),"removed");a.delete(d),Yn.emit(4,e);const n=u.queue.length;if(u.count=null==d?u.count-u.displayedToast:u.count-1,u.count<0&&(u.count=0),n>0){const e=null==d?u.props.limit:1;if(1===n||1===e)u.displayedToast++,h();else{const t=e>n?n:e;u.displayedToast=t;for(let e=0;e<t;e++)h()}}else t()}};var _,w;b.iconOut=function(e){let{theme:t,type:n,isLoading:i,icon:o}=e,a=null;const s={theme:t,type:n};return!1===o||(Wn(o)?a=o(s):(0,r.isValidElement)(o)?a=(0,r.cloneElement)(o,s):zn(o)||Bn(o)?a=o:i?a=Xn.spinner():(e=>e in Xn)(n)&&(a=Xn[n](s))),a}(b),Wn(c.onOpen)&&(b.onOpen=c.onOpen),Wn(c.onClose)&&(b.onClose=c.onClose),b.closeButton=v.closeButton,!1===c.closeButton||Hn(c.closeButton)?b.closeButton=c.closeButton:!0===c.closeButton&&(b.closeButton=!Hn(v.closeButton)||v.closeButton);let x=e;(0,r.isValidElement)(e)&&!zn(e.type)?x=(0,r.cloneElement)(e,{closeToast:y,toastProps:b,data:g}):Wn(e)&&(x=e({closeToast:y,toastProps:b,data:g})),v.limit&&v.limit>0&&u.count>v.limit&&m?u.queue.push({toastContent:x,toastProps:b,staleId:s}):Bn(i)?setTimeout((()=>{f(x,b,s)}),i):f(x,b,s)}function f(e,t,n){const{toastId:r}=t;n&&a.delete(n);const o={content:e,props:t};a.set(r,o),i((e=>[...e,r].filter((e=>e!==n)))),Yn.emit(4,Qn(o,null==o.props.updateId?"added":"updated"))}return(0,r.useEffect)((()=>(u.containerId=e.containerId,Yn.cancelEmit(3).on(0,d).on(1,(e=>o.current&&l(e))).on(5,c).emit(2,u),()=>{a.clear(),Yn.emit(3,u)})),[]),(0,r.useEffect)((()=>{u.props=e,u.isToastActive=s,u.displayedToast=n.length})),{getToastToRender:function(t){const n=new Map,r=Array.from(a.values());return e.newestOnTop&&r.reverse(),r.forEach((e=>{const{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(e=>t(e[0],e[1])))},containerRef:o,isToastActive:s}}function Zn(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function er(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function tr(e){const[t,n]=(0,r.useState)(!1),[i,o]=(0,r.useState)(!1),a=(0,r.useRef)(null),s=(0,r.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,u=(0,r.useRef)(e),{autoClose:c,pauseOnHover:l,closeToast:h,onClick:d,closeOnClick:f}=e;function p(t){if(e.draggable){"touchstart"===t.nativeEvent.type&&t.nativeEvent.preventDefault(),s.didMove=!1,document.addEventListener("mousemove",m),document.addEventListener("mouseup",b),document.addEventListener("touchmove",m),document.addEventListener("touchend",b);const n=a.current;s.canCloseOnClick=!0,s.canDrag=!0,s.boundingRect=n.getBoundingClientRect(),n.style.transition="",s.x=Zn(t.nativeEvent),s.y=er(t.nativeEvent),"x"===e.draggableDirection?(s.start=s.x,s.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(s.start=s.y,s.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function g(t){if(s.boundingRect){const{top:n,bottom:r,left:i,right:o}=s.boundingRect;"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&s.x>=i&&s.x<=o&&s.y>=n&&s.y<=r?y():v()}}function v(){n(!0)}function y(){n(!1)}function m(n){const r=a.current;s.canDrag&&r&&(s.didMove=!0,t&&y(),s.x=Zn(n),s.y=er(n),s.delta="x"===e.draggableDirection?s.x-s.start:s.y-s.start,s.start!==s.x&&(s.canCloseOnClick=!1),r.style.transform="translate".concat(e.draggableDirection,"(").concat(s.delta,"px)"),r.style.opacity=""+(1-Math.abs(s.delta/s.removalDistance)))}function b(){document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",b),document.removeEventListener("touchmove",m),document.removeEventListener("touchend",b);const t=a.current;if(s.canDrag&&s.didMove&&t){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance)return o(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform="translate".concat(e.draggableDirection,"(0)"),t.style.opacity="1"}}(0,r.useEffect)((()=>{u.current=e})),(0,r.useEffect)((()=>(a.current&&a.current.addEventListener("d",v,{once:!0}),Wn(e.onOpen)&&e.onOpen((0,r.isValidElement)(e.children)&&e.children.props),()=>{const e=u.current;Wn(e.onClose)&&e.onClose((0,r.isValidElement)(e.children)&&e.children.props)})),[]),(0,r.useEffect)((()=>(e.pauseOnFocusLoss&&(document.hasFocus()||y(),window.addEventListener("focus",v),window.addEventListener("blur",y)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",v),window.removeEventListener("blur",y))})),[e.pauseOnFocusLoss]);const _={onMouseDown:p,onTouchStart:p,onMouseUp:g,onTouchEnd:g};return c&&l&&(_.onMouseEnter=y,_.onMouseLeave=v),f&&(_.onClick=e=>{d&&d(e),s.canCloseOnClick&&h()}),{playToast:v,pauseToast:y,isRunning:t,preventExitTransition:i,toastRef:a,eventHandlers:_}}function nr(e){let{closeToast:t,theme:n,ariaLabel:i="close"}=e;return r.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(n),type:"button",onClick:e=>{e.stopPropagation(),t(e)},"aria-label":i},r.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},r.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function rr(e){let{delay:t,isRunning:n,closeToast:i,type:o="default",hide:a,className:s,style:u,controlledProgress:c,progress:l,rtl:h,isIn:d,theme:f}=e;const p=a||c&&0===l,g={...u,animationDuration:"".concat(t,"ms"),animationPlayState:n?"running":"paused",opacity:p?0:1};c&&(g.transform="scaleX(".concat(l,")"));const v=Vn("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(f),"Toastify__progress-bar--".concat(o),{"Toastify__progress-bar--rtl":h}),y=Wn(s)?s({rtl:h,type:o,defaultClassName:v}):Vn(v,s);return r.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:y,style:g,[c&&l>=1?"onTransitionEnd":"onAnimationEnd"]:c&&l<1?null:()=>{d&&i()}})}const ir=e=>{const{isRunning:t,preventExitTransition:n,toastRef:i,eventHandlers:o}=tr(e),{closeButton:a,children:s,autoClose:u,onClick:c,type:l,hideProgressBar:h,closeToast:d,transition:f,position:p,className:g,style:v,bodyClassName:y,bodyStyle:m,progressClassName:b,progressStyle:_,updateId:w,role:x,progress:S,rtl:I,toastId:C,deleteToast:E,isIn:k,isLoading:T,iconOut:N,closeOnClick:A,theme:R}=e,j=Vn("Toastify__toast","Toastify__toast-theme--".concat(R),"Toastify__toast--".concat(l),{"Toastify__toast--rtl":I},{"Toastify__toast--close-on-click":A}),P=Wn(g)?g({rtl:I,position:p,type:l,defaultClassName:j}):Vn(j,g),D=!!S||!u,O={closeToast:d,type:l,theme:R};let L=null;return!1===a||(L=Wn(a)?a(O):(0,r.isValidElement)(a)?(0,r.cloneElement)(a,O):nr(O)),r.createElement(f,{isIn:k,done:E,position:p,preventExitTransition:n,nodeRef:i},r.createElement("div",{id:C,onClick:c,className:P,...o,style:v,ref:i},r.createElement("div",{...k&&{role:x},className:Wn(y)?y({type:l}):Vn("Toastify__toast-body",y),style:m},null!=N&&r.createElement("div",{className:Vn("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!T})},N),r.createElement("div",null,s)),L,r.createElement(rr,{...w&&!D?{key:"pb-".concat(w)}:{},rtl:I,theme:R,delay:u,isRunning:t,isIn:k,closeToast:d,hide:h,type:l,style:_,className:b,controlledProgress:D,progress:S||0})))},or=function(e,t){return void 0===t&&(t=!1),{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},ar=Gn(or("bounce",!0)),sr=(Gn(or("slide",!0)),Gn(or("zoom")),Gn(or("flip")),(0,r.forwardRef)(((e,t)=>{const{getToastToRender:n,containerRef:i,isToastActive:o}=Jn(e),{className:a,style:s,rtl:u,containerId:c}=e;function l(e){const t=Vn("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":u});return Wn(a)?a({position:e,rtl:u,defaultClassName:t}):Vn(t,Kn(a))}return(0,r.useEffect)((()=>{t&&(t.current=i.current)}),[]),r.createElement("div",{ref:i,className:"Toastify",id:c},n(((e,t)=>{const n=t.length?{...s}:{...s,pointerEvents:"none"};return r.createElement("div",{className:l(e),style:n,key:"container-".concat(e)},t.map(((e,n)=>{let{content:i,props:a}=e;return r.createElement(ir,{...a,isIn:o(a.toastId),style:{...a.style,"--nth":n+1,"--len":t.length},key:"toast-".concat(a.key)},i)})))})))})));sr.displayName="ToastContainer",sr.defaultProps={position:"top-right",transition:ar,autoClose:5e3,closeButton:nr,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let ur,cr=new Map,lr=[],hr=1;function dr(){return""+hr++}function fr(e){return e&&(zn(e.toastId)||Bn(e.toastId))?e.toastId:dr()}function pr(e,t){return cr.size>0?Yn.emit(0,e,t):lr.push({content:e,options:t}),t.toastId}function gr(e,t){return{...t,type:t&&t.type||e,toastId:fr(t)}}function vr(e){return(t,n)=>pr(t,gr(e,n))}function yr(e,t){return pr(e,gr("default",t))}yr.loading=(e,t)=>pr(e,gr("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),yr.promise=function(e,t,n){let r,{pending:i,error:o,success:a}=t;i&&(r=zn(i)?yr.loading(i,n):yr.loading(i.render,{...n,...i}));const s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(e,t,i)=>{if(null==t)return void yr.dismiss(r);const o={type:e,...s,...n,data:i},a=zn(t)?{render:t}:t;return r?yr.update(r,{...o,...a}):yr(a.render,{...o,...a}),i},c=Wn(e)?e():e;return c.then((e=>u("success",a,e))).catch((e=>u("error",o,e))),c},yr.success=vr("success"),yr.info=vr("info"),yr.error=vr("error"),yr.warning=vr("warning"),yr.warn=yr.warning,yr.dark=(e,t)=>pr(e,gr("default",{theme:"dark",...t})),yr.dismiss=e=>{cr.size>0?Yn.emit(1,e):lr=lr.filter((t=>null!=e&&t.options.toastId!==e))},yr.clearWaitingQueue=function(e){return void 0===e&&(e={}),Yn.emit(5,e)},yr.isActive=e=>{let t=!1;return cr.forEach((n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},yr.update=function(e,t){void 0===t&&(t={}),setTimeout((()=>{const n=function(e,t){let{containerId:n}=t;const r=cr.get(n||ur);return r&&r.getToast(e)}(e,t);if(n){const{props:r,content:i}=n,o={delay:100,...r,...t,toastId:t.toastId||e,updateId:dr()};o.toastId!==e&&(o.staleId=e);const a=o.render||i;delete o.render,pr(a,o)}}),0)},yr.done=e=>{yr.update(e,{progress:1})},yr.onChange=e=>(Yn.on(4,e),()=>{Yn.off(4,e)}),yr.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},yr.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Yn.on(2,(e=>{ur=e.containerId||e,cr.set(ur,e),lr.forEach((e=>{Yn.emit(0,e.content,e.options)})),lr=[]})).on(3,(e=>{cr.delete(e.containerId||e),0===cr.size&&Yn.off(0).off(1).off(5)}));var mr=n(414);const br=function(){const e=ee(),[t,n]=(0,r.useState)(""),[i,o]=(0,r.useState)(""),[a,s]=(0,r.useState)(!1);return(0,mr.jsxs)("div",{children:[(0,mr.jsx)(sr,{autoClose:2e3}),(0,mr.jsxs)("div",{style:{width:"100%",minHeight:"100vh",display:"flex",flexWrap:"wrap"},children:[(0,mr.jsx)("div",{className:"lgnd1",style:{height:"100vh",width:"50%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsxs)("div",{className:"lgnd1",style:{height:"auto",width:"75%",backgroundColor:"transparent",textAlign:"center",borderRadius:"50px"},children:[(0,mr.jsx)("h1",{children:"Login"}),(0,mr.jsx)("br",{}),(0,mr.jsx)("br",{}),(0,mr.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",marginLeft:"5%",height:"70px",justifyContent:"space-evenly"},children:[(0,mr.jsx)("label",{children:"Email Address"}),(0,mr.jsx)("input",{onChange:e=>n(e.target.value),style:{width:"90%",height:35,border:!0===a&""===t?"1px solid red":"1px solid lightgrey"}}),(0,mr.jsx)("label",{style:{fontSize:12,color:"red",display:(!t.includes("@")||!t.includes(".com"))&a?"block":"none"},children:"*Invalid Email"})]}),(0,mr.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",marginLeft:"5%",height:"70px",justifyContent:"space-evenly"},children:[(0,mr.jsx)("label",{children:"Password"}),(0,mr.jsx)("input",{type:"Password",onChange:e=>o(e.target.value),style:{width:"90%",height:35,border:!0===a&""===i?"1px solid red":"1px solid lightgrey"}})]}),(0,mr.jsx)("br",{})," ",(0,mr.jsx)("br",{}),(0,mr.jsx)("div",{style:{display:"flex",justifyContent:"start",paddingLeft:"5%"},children:(0,mr.jsx)("button",{onClick:()=>(()=>{if(""!==t&""!==i&t.includes("@")&t.includes(".com")){const n={email:t,password:i};Fn.post(Un+"addstudents/login",n).then((t=>{if("Ok"===t.data.msg){localStorage.setItem("check","okk");const n=t.data.data.name,r=t.data.data.email,i=t.data.data.password,o=t.data.data.type,a=t.data.data._id,s=t.data.data.timing;localStorage.setItem("username",n),localStorage.setItem("useremail",r),localStorage.setItem("userpassword",i),localStorage.setItem("type",o),localStorage.setItem("userId",a),localStorage.setItem("userpic",t.data.data.profilePhoto?t.data.data.profilePhoto:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTTbH_P7t59HyCjbVqVBSblusPdVCz7Phn1sjA236kzMg&usqp=CAU&ec=48600112"),localStorage.setItem("timing",JSON.stringify(s)),"student"===o?localStorage.setItem("stdSkills",JSON.stringify(t.data.data.skills)):"teacher"===o&&(localStorage.setItem("teacherSpec",t.data.data.specialization),localStorage.setItem("teacherTime",JSON.stringify(t.data.data.timing))),yr.success("Login successful!"),e("/Addcts")}else alert(t.data.msg)}))}else s(!0)})(),style:{height:"40px",width:"150px",backgroundColor:"black",borderRadius:10,border:"none",color:"white"},children:"Sign In"})}),(0,mr.jsx)("br",{}),(0,mr.jsx)("br",{}),(0,mr.jsx)("br",{}),(0,mr.jsx)("br",{}),(0,mr.jsx)("a",{onClick:()=>e("/Signupteacher"),style:{color:"black",textDecoration:"underline",cursor:"pointer"},children:"Sign up as a teacher"}),(0,mr.jsx)("br",{}),(0,mr.jsx)("a",{onClick:()=>e("/Signupstudent"),style:{color:"black",textDecoration:"underline",cursor:"pointer"},children:"Sign up as a student"}),(0,mr.jsx)("br",{})]})}),(0,mr.jsx)("div",{className:"lgnd1",style:{width:"50%",height:"100vh",backgroundColor:"black",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:"white"},children:(0,mr.jsxs)("h2",{style:{fontFamily:"Tilt Prism",textShadow:"5px 5px 10px orange"},children:[(0,mr.jsx)("label",{style:{fontSize:67},children:"KNOWLEDGE LAND "})," ",(0,mr.jsx)("br",{})," ","VIRTUAL LEARNING PLATFORM"]})})]})]})};const _r=function(){const e=ee();(0,r.useEffect)((()=>{"okk"!==localStorage.getItem("check")&&e("/")}));const t=localStorage.getItem("type");return(0,mr.jsx)("div",{children:(0,mr.jsxs)("div",{className:"sideblack",style:{height:"96vh",width:"50%",backgroundColor:"black",borderRadius:"20px",display:"flex",flexDirection:"column",color:"white",alignItems:"center",justifyContent:"space-evenly",marginLeft:"25%",marginTop:"2vh"},children:[(0,mr.jsx)("h1",{onClick:()=>e("admin"===t?"/Newsandannc":"/Addcts"),style:{letterSpacing:"1px",position:"absolute",top:20},children:"KL"}),(0,mr.jsx)("br",{}),(0,mr.jsx)("i",{onClick:()=>e("/Addcts"),style:{fontSize:"23px"},className:"fa fa-home"}),(0,mr.jsx)("i",{onClick:()=>e("/Allcourses"),style:{fontSize:"23px"},class:"fa fa-graduation-cap"}),(0,mr.jsx)("i",{onClick:()=>e("/Setting"),style:{fontSize:"23px"},class:"fa fa-cog"}),(0,mr.jsx)("i",{onClick:()=>{localStorage.removeItem("check"),e("/")},style:{fontSize:"23px"},class:"fa fa-sign-out"})]})})};const wr=function(){const e=ee();(0,r.useEffect)((()=>{T()}),[]);const[t,n]=(0,r.useState)(""),[i,o]=(0,r.useState)(""),[a,s]=(0,r.useState)(""),[u,c]=(0,r.useState)(""),[l,h]=(0,r.useState)(""),[d,f]=(0,r.useState)(""),[p,g]=(0,r.useState)([]),[v,y]=(0,r.useState)(""),[m,b]=(0,r.useState)(""),[_,w]=(0,r.useState)(""),[x,S]=(0,r.useState)(""),[I,C]=(0,r.useState)(!1),[E,k]=(0,r.useState)([]),T=()=>{Fn.get(Un+"addcourse").then((e=>k(e.data.data)))};return(0,mr.jsx)("div",{children:(0,mr.jsxs)("div",{style:{height:"100vh",width:"100%",display:"flex",flexWrap:"wrap"},children:[(0,mr.jsx)("div",{className:"lgnd1",style:{height:"100vh",width:"50%",backgroundColor:"white",display:"flex",justifyContent:"start",alignItems:"center",paddingLeft:"5%"},children:(0,mr.jsxs)("div",{className:"lgnd1",style:{height:"95vh",width:"70%"},children:[(0,mr.jsx)("label",{style:{fontSize:30,fontWeight:"bolder",letterSpacing:"1px"},children:"Signup as a Teacher"}),(0,mr.jsx)("br",{}),(0,mr.jsx)("br",{}),(0,mr.jsx)("br",{}),(0,mr.jsx)("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"60px",justifyContent:"space-evenly"},children:(0,mr.jsx)("input",{onChange:e=>n(e.target.value),placeholder:"Full Name",style:{width:"100%",height:40,border:!0===I&""===t?"1px solid red":"1px solid grey"}})}),(0,mr.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"60px",justifyContent:"space-evenly"},children:[(0,mr.jsx)("input",{onChange:e=>o(e.target.value),placeholder:"Email Address",style:{width:"100%",height:40,border:!0===I&""===i?"1px solid red":"1px solid grey"}}),(0,mr.jsx)("label",{style:{fontSize:12,color:"red",display:(!i.includes("@")||!i.includes(".com"))&I?"block":"none"},children:"*Invalid Email"})]}),(0,mr.jsx)("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"60px",justifyContent:"space-evenly"},children:(0,mr.jsx)("input",{type:"password",onChange:e=>s(e.target.value),placeholder:"Password",style:{width:"100%",height:40,border:!0===I&""===a?"1px solid red":"1px solid grey"}})}),(0,mr.jsx)("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"60px",justifyContent:"space-evenly"},children:(0,mr.jsxs)("select",{onChange:e=>h(e.target.value),style:{width:"100%",height:40,border:!0===I&""===l?"1px solid red":"1px solid grey"},children:[(0,mr.jsx)("option",{selected:!0,disabled:!0,children:"Specialization"}),(0,mr.jsx)("option",{children:"Web Development"}),(0,mr.jsx)("option",{children:"Frontend"}),(0,mr.jsx)("option",{children:"Backend"}),(0,mr.jsx)("option",{children:"DevOps"})]})}),(0,mr.jsx)("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"60px",justifyContent:"space-evenly"},children:(0,mr.jsxs)("select",{onChange:e=>c(e.target.value),style:{width:"100%",height:40,border:!0===I&""===u?"1px solid red":"1px solid grey"},children:[(0,mr.jsx)("option",{selected:!0,disabled:!0,children:"Qualification"}),(0,mr.jsx)("option",{children:"Master's Degree"}),(0,mr.jsx)("option",{children:"PhD or Doctorate"}),(0,mr.jsx)("option",{children:"Teaching Certification"}),(0,mr.jsx)("option",{children:"Other"})]})}),(0,mr.jsx)("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"60px",justifyContent:"space-evenly"},children:(0,mr.jsxs)("select",{onChange:e=>f(e.target.value),style:{width:"100%",height:40,border:!0===I&""===d?"1px solid red":"1px solid grey"},children:[(0,mr.jsx)("option",{selected:!0,disabled:!0,children:"Teaching Experince"}),(0,mr.jsx)("option",{value:1,children:"More than 1 year"}),(0,mr.jsx)("option",{value:2.5,children:"1-3 years"}),(0,mr.jsx)("option",{value:4.5,children:"3-5 years"}),(0,mr.jsx)("option",{value:7.5,children:"5-10 years"}),(0,mr.jsx)("option",{value:10,children:"More Than 10 years"})]})}),(0,mr.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"row",alignItems:"flex-start",height:"60px",justifyContent:"space-between"},children:[(0,mr.jsxs)("select",{onChange:e=>y(e.target.value),style:{width:"25%",height:40,border:!0===I&""===v?"1px solid red":"1px solid grey"},children:[(0,mr.jsx)("option",{selected:!0,disabled:!0,children:"Day"}),(0,mr.jsx)("option",{children:"Monday"}),(0,mr.jsx)("option",{children:"Tuesday"}),(0,mr.jsx)("option",{children:"Wednesday"}),(0,mr.jsx)("option",{children:"Thursday"}),(0,mr.jsx)("option",{children:"Friday"}),(0,mr.jsx)("option",{children:"Saturday"}),(0,mr.jsx)("option",{children:"Sunday"})]}),(0,mr.jsx)("input",{onChange:e=>b(e.target.value),style:{width:"25%",height:40,border:!0===I&""===m?"1px solid red":"1px solid grey"},type:"time"}),(0,mr.jsx)("input",{onChange:e=>w(e.target.value),style:{width:"25%",height:40,border:!0===I&""===_?"1px solid red":"1px solid grey"},type:"time"}),(0,mr.jsx)("button",{style:{width:"10%"},className:"btn btn-outline-primary",onClick:()=>(()=>{if(""!==v&""!==m&""!==_){const e={day:v,from:m,to:_};g([...p,e]),y(""),b(""),w("")}})(),children:"+"})]}),p.length>0?(0,mr.jsxs)("table",{className:"table",children:[(0,mr.jsxs)("thead",{children:[(0,mr.jsx)("th",{children:"Sr No."}),(0,mr.jsx)("th",{children:"Day"}),(0,mr.jsx)("th",{children:"From"}),(0,mr.jsx)("th",{children:"To"})]}),(0,mr.jsx)("tbody",{children:p.map(((e,t)=>(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("td",{children:t+1}),(0,mr.jsx)("td",{children:e.day}),(0,mr.jsx)("td",{children:e.from}),(0,mr.jsx)("td",{children:e.to})]})))})]}):null,(0,mr.jsx)("br",{}),(0,mr.jsx)("button",{onClick:()=>{(()=>{if(""!==t&""!==i&""!==a&""!==u&""!==l&""!==d&i.includes("@")&i.includes(".com")){const n={name:t,email:i,password:a,qualification:u,specialization:l,teachingExp:d,timing:p,type:"teacher",videoLink:"",profilePhoto:""};Fn.post(Un+"addstudents",n).then((()=>e("/")))}else C(!0)})()},style:{width:"100%",height:40,borderRadius:5,color:"white",backgroundColor:"black",border:"none"},children:"Create Account"}),(0,mr.jsx)("br",{}),(0,mr.jsx)("br",{}),(0,mr.jsxs)("label",{children:["Already have an account?"," ",(0,mr.jsx)("span",{onClick:()=>e("/"),style:{color:"#8b5fb3"},children:"Login"})]})]})}),(0,mr.jsx)("div",{className:"lgnd1",style:{height:"100vh",width:"50%"},children:(0,mr.jsx)("div",{style:{height:"100vh",width:"100%",backgroundColor:"black",display:"flex",justifyContent:"center",textAlign:"center",alignItems:"center",color:"white"},children:(0,mr.jsxs)("h2",{style:{fontFamily:"Tilt Prism",textShadow:"5px 5px 10px orange"},children:[(0,mr.jsx)("label",{style:{fontSize:67},children:"KNOWLEDGE LAND "})," ",(0,mr.jsx)("br",{})," ","VIRTUAL LEARNING PLATFORM"]})})})]})})},xr=n.p+"static/media/handup.2fd54032a5d286024bdd.png";var Sr=n(560);(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)};var r=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,e];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}return globalThis}(this);function i(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function o(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:i(e)}}!function(e,n){if(n){var i=r;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in i||(i[a]={}),i=i[a]}(n=n(o=i[e=e[e.length-1]]))!=o&&null!=n&&t(i,e,{configurable:!0,writable:!0,value:n})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(Kn){t.reject(Kn)}}function n(){this.a=null}function i(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var a=r.setTimeout;n.prototype.c=function(e){a(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(Wn){this.f(Wn)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(Kn){return void this.g(Kn)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.s=function(e){var t=this.f();e.Ra(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(Wn){n.reject(Wn)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(ns){o(ns)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Ra(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ra=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=i,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=o(e),a=r.next();!a.done;a=r.next())i(a.value).Ra(t,n)}))},t.all=function(e){var n=o(e),r=n.next();return r.done?i([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).Ra(o(a.length-1),t),r=n.next()}while(!r.done)}))},t}));var a=a||{},s=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function l(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&u.test(e)?e:""}function h(){}function d(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function f(e){var t=d(e);return"array"==t||"object"==t&&"number"==typeof e.length}function p(e){return"function"==d(e)}function g(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function v(e){return Object.prototype.hasOwnProperty.call(e,y)&&e[y]||(e[y]=++m)}var y="closure_uid_"+(1e9*Math.random()>>>0),m=0;function b(e,t,n){return e.call.apply(e.bind,arguments)}function _(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function w(e,t,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:_).apply(null,arguments)}function x(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var S=Date.now;function I(e,t){function n(){}n.prototype=t.prototype,e.bb=t.prototype,e.prototype=new n,e.prototype.constructor=e}function C(e){return e}function E(e,t,n){this.code=N+e,this.message=t||A[e]||"",this.a=n||null}function k(e){var t=e&&e.code;return t?new E(t.substring(N.length),e.message,e.serverResponse):null}I(E,Error),E.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},E.prototype.toJSON=function(){return this.w()};var T,N="auth/",A={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},R={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function j(e){for(var t in R)if(R[t].id===e)return{firebaseEndpoint:(e=R[t]).Ua,secureTokenEndpoint:e.$a,identityPlatformEndpoint:e.Xa};return null}function P(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(Zn){return!1}}function D(e){if(Error.captureStackTrace)Error.captureStackTrace(this,D);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function O(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");D.call(this,n+e[r])}function L(e,t){throw new O("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function M(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function F(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function U(){this.b=this.a=null}T=j("__EID__")?"__EID__":void 0,I(D,Error),D.prototype.name="CustomError",I(O,D),O.prototype.name="AssertionError",M.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var q=new M((function(){return new B}),(function(e){e.reset()}));function V(){var e=bt,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function B(){this.next=this.b=this.a=null}U.prototype.add=function(e,t){var n=q.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},B.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},B.prototype.reset=function(){this.next=this.b=this.a=null};var z=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},W=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};var K=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"===typeof e?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(r[i++]=s)}return r},H=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"===typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},G=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function Q(e,t){return 0<=z(e,t)}function Y(e,t){var n;return(n=0<=(t=z(e,t)))&&Array.prototype.splice.call(e,t,1),n}function $(e,t){!function(e,t){for(var n="string"===typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&1==Array.prototype.splice.call(e,r,1).length&&0}))}function X(e){return Array.prototype.concat.apply([],arguments)}function J(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var Z,ee=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},te=/&/g,ne=/</g,re=/>/g,ie=/"/g,oe=/'/g,ae=/\x00/g,se=/[\x00&<>"']/;function ue(e,t){return-1!=e.indexOf(t)}function ce(e,t){return e<t?-1:e>t?1:0}e:{var le=s.navigator;if(le){var he=le.userAgent;if(he){Z=he;break e}}Z=""}function de(e){return ue(Z,e)}function fe(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function pe(e){for(var t in e)return!1;return!0}function ge(e){var t,n={};for(t in e)n[t]=e[t];return n}var ve="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<ve.length;o++)n=ve[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function me(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break e}}catch(a){}i=null}if(i&&"undefined"!=typeof i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(g(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(a){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;L("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function be(e,t){this.a=e===Se&&t||"",this.b=xe}function _e(e){return e instanceof be&&e.constructor===be&&e.b===xe?e.a:(L("expected object of type Const, got '"+e+"'"),"type_error:Const")}be.prototype.ta=!0,be.prototype.sa=function(){return this.a},be.prototype.toString=function(){return"Const{"+this.a+"}"};var we,xe={},Se={};function Ie(){if(void 0===we){var e=null,t=s.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:C,createScript:C,createScriptURL:C})}catch(n){s.console&&s.console.error(n.message)}we=e}else we=e}return we}function Ce(e,t){this.a=t===Ae?e:""}function Ee(e){return e instanceof Ce&&e.constructor===Ce?e.a:(L("expected object of type TrustedResourceUrl, got '"+e+"' of type "+d(e)),"type_error:TrustedResourceUrl")}function ke(e,t){var n=_e(e);if(!Ne.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return e=n.replace(Te,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof be?_e(e):encodeURIComponent(String(e))})),function(e){var t=Ie();return e=t?t.createScriptURL(e):e,new Ce(e,Ae)}(e)}Ce.prototype.ta=!0,Ce.prototype.sa=function(){return this.a.toString()},Ce.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Te=/%{(\w+)}/g,Ne=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ae={};function Re(e,t){this.a=t===Fe?e:""}function je(e){return e instanceof Re&&e.constructor===Re?e.a:(L("expected object of type SafeUrl, got '"+e+"' of type "+d(e)),"type_error:SafeUrl")}Re.prototype.ta=!0,Re.prototype.sa=function(){return this.a.toString()},Re.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Pe=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,De=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Oe=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Le(e){if(e instanceof Re)return e;if(e="object"==typeof e&&e.ta?e.sa():String(e),Oe.test(e))e=new Re(e,Fe);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(De);e=t&&Pe.test(t[1])?new Re(e,Fe):null}return e}function Me(e){return e instanceof Re?e:(e="object"==typeof e&&e.ta?e.sa():String(e),Oe.test(e)||(e="about:invalid#zClosurez"),new Re(e,Fe))}var Fe={},Ue=new Re("about:invalid#zClosurez",Fe);function qe(e,t,n){this.a=n===Ve?e:""}qe.prototype.ta=!0,qe.prototype.sa=function(){return this.a.toString()},qe.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ve={};function Be(e,t,n,r){return e=e instanceof Re?e:Me(e),t=t||s,n=n instanceof be?_e(n):n||"",t.open(je(e),n,r,void 0)}function ze(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function We(e){return se.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(te,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(ne,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(re,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(ie,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(oe,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(ae,"&#0;"))),e}function Ke(e){return Ke[" "](e),e}Ke[" "]=h;var He,Ge=de("Opera"),Qe=de("Trident")||de("MSIE"),Ye=de("Edge"),$e=Ye||Qe,Xe=de("Gecko")&&!(ue(Z.toLowerCase(),"webkit")&&!de("Edge"))&&!(de("Trident")||de("MSIE"))&&!de("Edge"),Je=ue(Z.toLowerCase(),"webkit")&&!de("Edge");function Ze(){var e=s.document;return e?e.documentMode:void 0}e:{var et="",tt=function(){var e=Z;return Xe?/rv:([^\);]+)(\)|;)/.exec(e):Ye?/Edge\/([\d\.]+)/.exec(e):Qe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Je?/WebKit\/(\S+)/.exec(e):Ge?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(tt&&(et=tt?tt[1]:""),Qe){var nt=Ze();if(null!=nt&&nt>parseFloat(et)){He=String(nt);break e}}He=et}var rt,it={};function ot(e){return function(e,t){var n=it;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=ee(String(He)).split("."),r=ee(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=ce(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ce(0==a[2].length,0==s[2].length)||ce(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}if(s.document&&Qe){var at=Ze();rt=at||(parseInt(He,10)||void 0)}else rt=void 0;var st=rt;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(ma){}var ut=!Qe||9<=Number(st);function ct(e){var t=document;return"string"===typeof e?t.getElementById(e):e}function lt(e,t){fe(t,(function(t,n){t&&"object"==typeof t&&t.ta&&(t=t.sa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:ft.hasOwnProperty(n)?e.setAttribute(ft[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var ht,dt,ft={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function pt(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ut&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',We(a.name),'"'),a.type){o.push(' type="',We(a.type),'"');var s={};ye(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=gt(i,o),a&&("string"===typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):lt(o,a)),2<r.length&&function(e,t,n){function r(n){n&&t.appendChild("string"===typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||g(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(g(o)){var a="function"==typeof o.item||"string"==typeof o.item;break e}if(p(o)){a="function"==typeof o.item;break e}}a=!1}W(a?J(o):o,r)}}}(i,o,r),o}function gt(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function vt(e){s.setTimeout((function(){throw e}),0)}function yt(e,t){dt||function(){if(s.Promise&&s.Promise.resolve){var e=s.Promise.resolve(void 0);dt=function(){e.then(_t)}}else dt=function(){var e=_t;!p(s.setImmediate)||s.Window&&s.Window.prototype&&!de("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(ht||(ht=function(){var e=s.MessageChannel;if("undefined"===typeof e&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!de("Presto")&&(e=function(){var e=gt(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=w((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),"undefined"!==typeof e&&!de("Trident")&&!de("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Hb;n.Hb=null,e()}},function(e){r.next={Hb:e},r=r.next,t.port2.postMessage(0)}}return function(e){s.setTimeout(e,0)}}()),ht(e)):s.setImmediate(e)}}(),mt||(dt(),mt=!0),bt.add(e,t)}var mt=!1,bt=new U;function _t(){for(var e;e=V();){try{e.a.call(e.b)}catch(Zn){vt(Zn)}F(q,e)}mt=!1}function wt(e,t){if(this.a=xt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=h)try{var n=this;e.call(t,(function(e){Ot(n,St,e)}),(function(e){if(!(e instanceof Bt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(am){}Ot(n,It,e)}))}catch(zn){Ot(this,It,zn)}}var xt=0,St=2,It=3;function Ct(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ct.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Et=new M((function(){return new Ct}),(function(e){e.reset()}));function kt(e,t,n){var r=Et.get();return r.g=e,r.b=t,r.f=n,r}function Tt(e){if(e instanceof wt)return e;var t=new wt(h);return Ot(t,St,e),t}function Nt(e){return new wt((function(t,n){n(e)}))}function At(e,t,n){Lt(e,t,n,null)||yt(x(t,e))}function Rt(e){return new wt((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)At(e[o],x(i,o,!0),x(i,o,!1));else t(r)}))}function jt(e,t){if(e.a==xt)if(e.c){var n=e.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==xt&&1==r?jt(n,t):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Ft(n),Ut(n,i,It,t)))}e.c=null}else Ot(e,It,t)}function Pt(e,t){e.b||e.a!=St&&e.a!=It||Mt(e),e.f?e.f.next=t:e.b=t,e.f=t}function Dt(e,t,n,r){var i=kt(null,null,null);return i.a=new wt((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(Wn){o(Wn)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof Bt?o(t):e(i)}catch(Wn){o(Wn)}}:o})),i.a.c=e,Pt(e,i),i.a}function Ot(e,t,n){e.a==xt&&(e===n&&(t=It,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Lt(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,Mt(e),t!=It||n instanceof Bt||function(e,t){e.g=!0,yt((function(){e.g&&Vt.call(null,t)}))}(e,n)))}function Lt(e,t,n,r){if(e instanceof wt)return Pt(e,kt(t||h,n||null,r)),!0;if(P(e))return e.then(t,n,r),!0;if(g(e))try{var i=e.then;if(p(i))return function(e,t,n,r,i){function o(e){s||(s=!0,r.call(i,e))}function a(e){s||(s=!0,n.call(i,e))}var s=!1;try{t.call(e,a,o)}catch(Kn){o(Kn)}}(e,i,t,n,r),!0}catch(Hn){return n.call(r,Hn),!0}return!1}function Mt(e){e.h||(e.h=!0,yt(e.gc,e))}function Ft(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function Ut(e,t,n,r){if(n==It&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,qt(t,n,r);else try{t.c?t.g.call(t.f):qt(t,n,r)}catch(am){Vt.call(null,am)}F(Et,t)}function qt(e,t,n){t==St?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}wt.prototype.then=function(e,t,n){return Dt(this,p(e)?e:null,p(t)?t:null,n)},wt.prototype.$goog_Thenable=!0,(e=wt.prototype).oa=function(e,t){return(e=kt(e,e,t)).c=!0,Pt(this,e),this},e.o=function(e,t){return Dt(this,null,e,t)},e.cancel=function(e){if(this.a==xt){var t=new Bt(e);yt((function(){jt(this,t)}),this)}},e.$c=function(e){this.a=xt,Ot(this,St,e)},e.ad=function(e){this.a=xt,Ot(this,It,e)},e.gc=function(){for(var e;e=Ft(this);)Ut(this,e,this.a,this.i);this.h=!1};var Vt=vt;function Bt(e){D.call(this,e)}function zt(){0!=Wt&&(Kt[v(this)]=this),this.ya=this.ya,this.pa=this.pa}I(Bt,D),Bt.prototype.name="cancel";var Wt=0,Kt={};function Ht(e){if(!e.ya&&(e.ya=!0,e.Da(),0!=Wt)){var t=v(e);if(0!=Wt&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Kt[t]}}zt.prototype.ya=!1,zt.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Gt=Object.freeze||function(e){return e},Qt=!Qe||9<=Number(st),Yt=Qe&&!ot("9"),$t=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{s.addEventListener("test",h,t),s.removeEventListener("test",h,t)}catch(n){}return e}();function Xt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function Jt(e,t){if(Xt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Xe){e:{try{Ke(t.nodeName);var i=!0;break e}catch(Hn){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Zt[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Xt.prototype.preventDefault=function(){this.defaultPrevented=!0},I(Jt,Xt);var Zt=Gt({2:"touch",3:"pen",4:"mouse"});Jt.prototype.preventDefault=function(){Jt.bb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Yt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(Zn){}},Jt.prototype.g=function(){return this.a};var en="closure_listenable_"+(1e6*Math.random()|0),tn=0;function nn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Wa=i,this.key=++tn,this.wa=this.Qa=!1}function rn(e){e.wa=!0,e.listener=null,e.proxy=null,e.src=null,e.Wa=null}function on(e){this.src=e,this.a={},this.b=0}function an(e,t){var n=t.type;n in e.a&&Y(e.a[n],t)&&(rn(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function sn(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.wa&&o.listener==t&&o.capture==!!n&&o.Wa==r)return i}return-1}on.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=sn(e,t,r,i);return-1<a?(t=e[a],n||(t.Qa=!1)):((t=new nn(t,this.src,o,!!r,i)).Qa=n,e.push(t)),t};var un="closure_lm_"+(1e6*Math.random()|0),cn={};function ln(e,t,n,r,i){if(r&&r.once)dn(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)ln(e,t[o],n,r,i);else n=wn(n),e&&e[en]?Sn(e,t,n,g(r)?!!r.capture:!!r,i):hn(e,t,n,!1,r,i)}function hn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=g(i)?!!i.capture:!!i,s=bn(e);if(s||(e[un]=s=new on(e)),!(n=s.add(t,n,r,a,o)).proxy){if(r=function(){var e=mn,t=Qt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)$t||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(gn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}0}}function dn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)dn(e,t[o],n,r,i);else n=wn(n),e&&e[en]?In(e,t,n,g(r)?!!r.capture:!!r,i):hn(e,t,n,!0,r,i)}function fn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)fn(e,t[o],n,r,i);else r=g(r)?!!r.capture:!!r,n=wn(n),e&&e[en]?(e=e.v,(t=String(t).toString())in e.a&&(-1<(n=sn(o=e.a[t],n,r,i))&&(rn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=bn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=sn(t,n,r,i)),(n=-1<e?t[e]:null)&&pn(n))}function pn(e){if("number"!==typeof e&&e&&!e.wa){var t=e.src;if(t&&t[en])an(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(gn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=bn(t))?(an(n,e),0==n.b&&(n.src=null,t[un]=null)):rn(e)}}}function gn(e){return e in cn?cn[e]:cn[e]="on"+e}function vn(e,t,n,r){var i=!0;if((e=bn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.wa&&(o=yn(o,r),i=i&&!1!==o)}return i}function yn(e,t){var n=e.listener,r=e.Wa||e.src;return e.Qa&&pn(e),n.call(r,t)}function mn(e,t){if(e.wa)return!0;if(!Qt){if(!t)e:{t=["window","event"];for(var n=s,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Jt(r=t,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(a){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=vn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=vn(r[i],e,!1,t),n=n&&o}return n}return yn(e,new Jt(t,this))}function bn(e){return(e=e[un])instanceof on?e:null}var _n="__closure_events_fn_"+(1e9*Math.random()>>>0);function wn(e){return p(e)?e:(e[_n]||(e[_n]=function(t){return e.handleEvent(t)}),e[_n])}function xn(){zt.call(this),this.v=new on(this),this.bc=this,this.hb=null}function Sn(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function In(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function Cn(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.wa&&a.capture==n){var s=a.listener,u=a.Wa||a.src;a.Qa&&an(e.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function En(e,t,n){if(p(e))n&&(e=w(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=w(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function kn(e){var t=null;return new wt((function(n,r){-1==(t=En((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).o((function(e){throw s.clearTimeout(t),e}))}function Tn(e){if(e.X&&"function"==typeof e.X)return e.X();if("string"===typeof e)return e.split("");if(f(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function Nn(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.X||"function"!=typeof e.X){if(f(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function An(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof An)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Rn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];jn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)jn(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function jn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}I(xn,zt),xn.prototype[en]=!0,xn.prototype.addEventListener=function(e,t,n,r){ln(this,e,t,n,r)},xn.prototype.removeEventListener=function(e,t,n,r){fn(this,e,t,n,r)},xn.prototype.dispatchEvent=function(e){var t,n=this.hb;if(n)for(t=[];n;n=n.hb)t.push(n);n=this.bc;var r=e.type||e;if("string"===typeof e)e=new Xt(e,n);else if(e instanceof Xt)e.target=e.target||n;else{var i=e;ye(e=new Xt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=Cn(a,r,!0,e)&&i}if(i=Cn(a=e.b=n,r,!0,e)&&i,i=Cn(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Cn(a=e.b=t[o],r,!1,e)&&i;return i},xn.prototype.Da=function(){if(xn.bb.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)rn(n[r]);delete t.a[e],t.b--}}this.hb=null},(e=An.prototype).X=function(){Rn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.Y=function(){return Rn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return jn(this.b,e)?this.b[e]:t},e.set=function(e,t){jn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Pn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Dn(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof Dn?(this.i=void 0!==t?t:e.i,On(this,e.c),this.l=e.l,this.a=e.a,Ln(this,e.g),this.f=e.f,Mn(this,ur(e.b)),this.h=e.h):e&&(n=String(e).match(Pn))?(this.i=!!t,On(this,n[1]||"",!0),this.l=Bn(n[2]||""),this.a=Bn(n[3]||"",!0),Ln(this,n[4]),this.f=Bn(n[5]||"",!0),Mn(this,n[6]||"",!0),this.h=Bn(n[7]||"")):(this.i=!!t,this.b=new nr(null,this.i))}function On(e,t,n){e.c=n?Bn(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Ln(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function Mn(e,t,n){t instanceof nr?(e.b=t,function(e,t){t&&!e.f&&(rr(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(or(this,t),sr(this,n,e))}),e)),e.f=t}(e.b,e.i)):(n||(t=Qn(t,er)),e.b=new nr(t,e.i))}function Fn(e,t,n){e.b.set(t,n)}function Un(e,t){return e.b.get(t)}function qn(e){return e instanceof Dn?new Dn(e):new Dn(e,void 0)}function Vn(e,t,n,r){var i=new Dn(null,void 0);return e&&On(i,e),t&&(i.a=t),n&&Ln(i,n),r&&(i.f=r),i}function Bn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Qn(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Yn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Yn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Dn.prototype.toString=function(){var e=[],t=this.c;t&&e.push(Qn(t,$n,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(Qn(t,$n,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(Qn(n,"/"==n.charAt(0)?Jn:Xn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",Qn(n,tr)),e.join("")},Dn.prototype.resolve=function(e){var t=new Dn(this),n=!!e.c;n?On(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)Ln(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=t.f.lastIndexOf("/");-1!=i&&(r=t.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ue(i,"./")||ue(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.f=r:n=""!==e.b.toString(),n?Mn(t,ur(e.b)):n=!!e.h,n&&(t.h=e.h),t};var $n=/[#\/\?@]/g,Xn=/[#\?:]/g,Jn=/[#\?]/g,er=/[#\?@]/g,tr=/#/g;function nr(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function rr(e){e.a||(e.a=new An,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ir(e){var t=Nn(e);if("undefined"==typeof t)throw Error("Keys are undefined");var n=new nr(null,void 0);e=Tn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?sr(n,i,o):n.add(i,o)}return n}function or(e,t){rr(e),t=cr(e,t),jn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,jn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Rn(e)))}function ar(e,t){return rr(e),t=cr(e,t),jn(e.a.b,t)}function sr(e,t,n){or(e,t),0<n.length&&(e.c=null,e.a.set(cr(e,t),J(n)),e.b+=n.length)}function ur(e){var t=new nr;return t.c=e.c,e.a&&(t.a=new An(e.a),t.b=e.b),t}function cr(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function lr(e){var t=[];return dr(new hr,e,t),t.join("")}function hr(){}function dr(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(Array.isArray(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),dr(e,r[o],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(r in n.push("{"),i="",t)Object.prototype.hasOwnProperty.call(t,r)&&("function"!=typeof(o=t[r])&&(n.push(i),gr(r,n),n.push(":"),dr(e,o,n),i=","));return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":gr(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}(e=nr.prototype).add=function(e,t){rr(this),this.c=null,e=cr(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){rr(this),this.a.forEach((function(n,r){W(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.Y=function(){rr(this);for(var e=this.a.X(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.X=function(e){rr(this);var t=[];if("string"===typeof e)ar(this,e)&&(t=X(t,this.a.get(cr(this,e))));else{e=this.a.X();for(var n=0;n<e.length;n++)t=X(t,e[n])}return t},e.set=function(e,t){return rr(this),this.c=null,ar(this,e=cr(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.X(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var fr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},pr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function gr(e,t){t.push('"',e.replace(pr,(function(e){var t=fr[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),fr[e]=t),t})),'"')}function vr(){var e=Mr();return Qe&&!!st&&11==st||/Edge\/\d+/.test(e)}function yr(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function mr(e,t){t=t||s.window;var n="about:blank";e&&(n=je(Le(e)||Ue)),t.location.href=n}function br(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<br(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r}function _r(e){return!!((e=(e||Mr()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function wr(e){e=e||s.window;try{e.close()}catch(Zn){}}function xr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Mr().toLowerCase(),r&&(t.target=r,ue(n,"crios/")&&(t.target="_blank")),Dr(Mr())==jr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Re?n:Le("undefined"!=typeof n.href?n.href:String(n))||Ue,n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((de("iPhone")&&!de("iPod")&&!de("iPad")||de("iPad")||de("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(me(a=gt(document,"A"),"HTMLAnchorElement"),t=t instanceof Re?t:Me(t),a.href=je(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=Be("",r,n,a),e=je(t),a&&($e&&ue(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+We(e)+'">',e=new qe(e=(r=Ie())?r.createHTML(e):e,null,Ve),r=a.document)&&(r.write(function(e){return e instanceof qe&&e.constructor===qe?e.a:(L("expected object of type SafeHtml, got '"+e+"' of type "+d(e)),"type_error:SafeHtml")}(e)),r.close())):(a=Be(t,r,n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(Gn){}return a}var Ir=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Cr=/^[^@]+@[^@]+$/;function Er(){var e=null;return new wt((function(t){"complete"==s.document.readyState?t():(e=function(){t()},dn(window,"load",e))})).o((function(t){throw fn(window,"load",e),t}))}function kr(e){return e=e||Mr(),!("file:"!==Br()&&"ionic:"!==Br()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Tr(){var e=s.window;try{return!(!e||e==e.top)}catch(Zn){return!1}}function Nr(){return"undefined"!==typeof s.WorkerGlobalScope&&"function"===typeof s.importScripts}function Ar(){return Sr.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Sr.default.INTERNAL.hasOwnProperty("node")?"Node":Nr()?"Worker":"Browser"}function Rr(){var e=Ar();return"ReactNative"===e||"Node"===e}var jr="Firefox",Pr="Chrome";function Dr(e){var t=e.toLowerCase();return ue(t,"opera/")||ue(t,"opr/")||ue(t,"opios/")?"Opera":ue(t,"iemobile")?"IEMobile":ue(t,"msie")||ue(t,"trident/")?"IE":ue(t,"edge/")?"Edge":ue(t,"firefox/")?jr:ue(t,"silk/")?"Silk":ue(t,"blackberry")?"Blackberry":ue(t,"webos")?"Webos":!ue(t,"safari/")||ue(t,"chrome/")||ue(t,"crios/")||ue(t,"android")?!ue(t,"chrome/")&&!ue(t,"crios/")||ue(t,"edge/")?ue(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":Pr:"Safari"}var Or={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Lr(e,t){t=t||[];var n,r=[],i={};for(n in Or)i[Or[n]]=!0;for(n=0;n<t.length;n++)"undefined"!==typeof i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=Ar())?r=Dr(i=Mr()):"Worker"===r&&(r=Dr(i=Mr())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function Mr(){return s.navigator&&s.navigator.userAgent||""}function Fr(e,t){e=e.split("."),t=t||s;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Ur(){try{var e=s.localStorage,t=Gr();if(e)return e.setItem(t,"1"),e.removeItem(t),!vr()||!!s.indexedDB}catch(n){return Nr()&&!!s.indexedDB}return!1}function qr(){return(Vr()||"chrome-extension:"===Br()||kr())&&!Rr()&&Ur()&&!Nr()}function Vr(){return"http:"===Br()||"https:"===Br()}function Br(){return s.location&&s.location.protocol||null}function zr(e){return!_r(e=e||Mr())&&Dr(e)!=jr}function Wr(e){return"undefined"===typeof e?null:lr(e)}function Kr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function Hr(e){if(null!==e)return JSON.parse(e)}function Gr(e){return e||Math.floor(1e9*Math.random()).toString()}function Qr(e){return"Safari"!=Dr(e=e||Mr())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Yr(){var e=s.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function $r(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=Mr(),t=Ar(),this.b=_r(e)||"ReactNative"===t}function Xr(){var e=s.document;return!e||"undefined"===typeof e.visibilityState||"visible"==e.visibilityState}function Jr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(n){}return null}function Zr(){return!(!Fr("fireauth.oauthhelper",s)&&!Fr("fireauth.iframe",s))}$r.prototype.get=function(){var e=s.navigator;return!e||"boolean"!==typeof e.onLine||!Vr()&&"chrome-extension:"!==Br()&&"undefined"===typeof e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var ei,ti={};function ni(e){ti[e]||(ti[e]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(e))}try{var ri={};Object.defineProperty(ri,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(ri,"abcd",{configurable:!0,enumerable:!0,value:2}),ei=2==ri.abcd}catch(ma){ei=!1}function ii(e,t,n){ei?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function oi(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&ii(e,n,t[n])}function ai(e){var t={};return oi(t,e),t}function si(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)ii(t,n,si(e[n]));return t}function ui(e){var t=e&&(e[fi]?"phone":null);if(!(t&&e&&e[di]))throw new E("internal-error","Internal assert: invalid MultiFactorInfo object");ii(this,"uid",e[di]),ii(this,"displayName",e[li]||null);var n=null;e[hi]&&(n=new Date(e[hi]).toUTCString()),ii(this,"enrollmentTime",n),ii(this,"factorId",t)}function ci(e){try{var t=new pi(e)}catch(n){t=null}return t}ui.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var li="displayName",hi="enrolledAt",di="mfaEnrollmentId",fi="phoneInfo";function pi(e){ui.call(this,e),ii(this,"phoneNumber",e[fi])}function gi(e){var t={},n=e[bi],r=e[wi],i=e[xi];if(e=ci(e[_i]),!i||i!=yi&&i!=mi&&!n||i==mi&&!r||i==vi&&!e)throw Error("Invalid checkActionCode response!");i==mi?(t[Ii]=n||null,t[Ei]=n||null,t[Si]=r):(t[Ii]=r||null,t[Ei]=r||null,t[Si]=n||null),t[Ci]=e||null,ii(this,Ti,i),ii(this,ki,si(t))}I(pi,ui),pi.prototype.w=function(){var e=pi.bb.w.call(this);return e.phoneNumber=this.phoneNumber,e};var vi="REVERT_SECOND_FACTOR_ADDITION",yi="EMAIL_SIGNIN",mi="VERIFY_AND_CHANGE_EMAIL",bi="email",_i="mfaInfo",wi="newEmail",xi="requestType",Si="email",Ii="fromEmail",Ci="multiFactorInfo",Ei="previousEmail",ki="data",Ti="operation";function Ni(e){var t=Un(e=qn(e),Ai)||null,n=Un(e,Ri)||null,r=Un(e,Di)||null;if(r=r&&Li[r]||null,!t||!n||!r)throw new E("argument-error",Ai+", "+Ri+"and "+Di+" are required in a valid action code URL.");oi(this,{apiKey:t,operation:r,code:n,continueUrl:Un(e,ji)||null,languageCode:Un(e,Pi)||null,tenantId:Un(e,Oi)||null})}var Ai="apiKey",Ri="oobCode",ji="continueUrl",Pi="languageCode",Di="mode",Oi="tenantId",Li={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:vi,signIn:yi,verifyAndChangeEmail:mi,verifyEmail:"VERIFY_EMAIL"};function Mi(e){try{return new Ni(e)}catch(Zn){return null}}function Fi(e){var t=e[zi];if("undefined"===typeof t)throw new E("missing-continue-uri");if("string"!==typeof t||"string"===typeof t&&!t.length)throw new E("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Ui];if(n&&"object"===typeof n){t=n[Hi];var r=n[Wi];if(n=n[Ki],"string"===typeof t&&t.length){if(this.a=t,"undefined"!==typeof r&&"boolean"!==typeof r)throw new E("argument-error",Wi+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new E("argument-error",Ki+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof t)throw new E("argument-error",Hi+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new E("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new E("argument-error",Ui+" property must be a non null object when specified.");if(this.f=null,(t=e[Bi])&&"object"===typeof t){if("string"===typeof(t=t[Gi])&&t.length)this.f=t;else if("undefined"!==typeof t)throw new E("argument-error",Gi+" property must be a non empty string when specified.")}else if("undefined"!==typeof t)throw new E("argument-error",Bi+" property must be a non null object when specified.");if("undefined"!==typeof(t=e[Vi])&&"boolean"!==typeof t)throw new E("argument-error",Vi+" property must be a boolean when specified.");if(this.c=!!t,"undefined"!==typeof(e=e[qi])&&("string"!==typeof e||"string"===typeof e&&!e.length))throw new E("argument-error",qi+" property must be a non empty string when specified.");this.i=e||null}var Ui="android",qi="dynamicLinkDomain",Vi="handleCodeInApp",Bi="iOS",zi="url",Wi="installApp",Ki="minimumVersion",Hi="packageName",Gi="bundleId";function Qi(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Yi=null;function $i(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Yi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Yi){Yi={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Yi[o]&&(Yi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t.push(e)})),t}function Xi(e){var t=Zi(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function Ji(e){try{return new Xi(e)}catch(Zn){return null}}function Zi(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=$i(e);for(e=[],n=t=0;t<r.length;){var i=r[t++];if(128>i)e[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[t++];e[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[t++];var a=r[t++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[t++])-65536;e[n++]=String.fromCharCode(55296+(s>>10)),e[n++]=String.fromCharCode(56320+(1023&s))}else o=r[t++],a=r[t++],e[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(e.join(""))}catch(Wn){}return null}Xi.prototype.T=function(){return this.f},Xi.prototype.l=function(){return this.c},Xi.prototype.toString=function(){return this.h};var eo="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),to=["client_id","response_type","scope","redirect_uri","state"],no={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:to},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:to},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:to},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:eo},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function ro(e){for(var t in no)if(no[t].fa==e)return no[t];return null}function io(e){var t={};t["facebook.com"]=co,t["google.com"]=ho,t["github.com"]=lo,t["twitter.com"]=fo;var n=e&&e[ao];try{if(n)return t[n]?new t[n](e):new uo(e);if("undefined"!==typeof e[oo])return new so(e)}catch(zn){}return null}var oo="idToken",ao="providerId";function so(e){var t=e[ao];if(!t&&e[oo]){var n=Ji(e[oo]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,"undefined"!==typeof e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),ii(this,"providerId",t),ii(this,"isNewUser",n)}function uo(e){so.call(this,e),ii(this,"profile",si((e=Hr(e.rawUserInfo||"{}"))||{}))}function co(e){if(uo.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function lo(e){if(uo.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");ii(this,"username",this.profile&&this.profile.login||null)}function ho(e){if(uo.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function fo(e){if(uo.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");ii(this,"username",e.screenName||null)}function po(e){var t=qn(e),n=Un(t,"link"),r=Un(qn(n),"link");return t=Un(t,"deep_link_id"),Un(qn(t),"link")||t||r||n||e}function go(e,t){if(!e&&!t)throw new E("internal-error","Internal assert: no raw session string available");if(e&&t)throw new E("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?vo:yo}I(uo,so),I(co,uo),I(lo,uo),I(ho,uo),I(fo,uo);var vo="enroll",yo="signin";function mo(){}function bo(e,t){return e.then((function(e){if(e[cs]){var n=Ji(e[cs]);if(!n||t!=n.i)throw new E("user-mismatch");return e}throw new E("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==N+"user-not-found"?new E("user-mismatch"):e}))}function _o(e,t){if(!t)throw new E("internal-error","failed to construct a credential");this.a=t,ii(this,"providerId",e),ii(this,"signInMethod",e)}function wo(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function xo(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new _o(e.providerId,e.pendingToken)}catch(Zn){}return null}function So(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&ii(this,"idToken",t.idToken),t.accessToken&&ii(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&ii(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new E("internal-error","failed to construct a credential");ii(this,"accessToken",t.oauthToken),ii(this,"secret",t.oauthTokenSecret)}ii(this,"providerId",e),ii(this,"signInMethod",n)}function Io(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:ir(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function Co(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new So(e.providerId,t,e.signInMethod)}catch(n){}}return null}function Eo(e,t){this.Qc=t||[],oi(this,{providerId:e,isOAuthProvider:!0}),this.Jb={},this.qb=(ro(e)||{}).Ja||null,this.pb=null}function ko(e){if("string"!==typeof e||0!=e.indexOf("saml."))throw new E("argument-error",'SAML provider IDs must be prefixed with "saml."');Eo.call(this,e,[])}function To(e){Eo.call(this,e,to),this.a=[]}function No(){To.call(this,"facebook.com")}function Ao(e){if(!e)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return g(e)&&(t=e.accessToken),(new No).credential({accessToken:t})}function Ro(){To.call(this,"github.com")}function jo(e){if(!e)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return g(e)&&(t=e.accessToken),(new Ro).credential({accessToken:t})}function Po(){To.call(this,"google.com"),this.Ca("profile")}function Do(e,t){var n=e;return g(e)&&(n=e.idToken,t=e.accessToken),(new Po).credential({idToken:n,accessToken:t})}function Oo(){Eo.call(this,"twitter.com",eo)}function Lo(e,t){var n=e;if(g(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new E("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new So("twitter.com",n,"twitter.com")}function Mo(e,t,n){this.a=e,this.f=t,ii(this,"providerId","password"),ii(this,"signInMethod",n===Uo.EMAIL_LINK_SIGN_IN_METHOD?Uo.EMAIL_LINK_SIGN_IN_METHOD:Uo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Fo(e){return e&&e.email&&e.password?new Mo(e.email,e.password,e.signInMethod):null}function Uo(){oi(this,{providerId:"password",isOAuthProvider:!1})}function qo(e,t){if(!(t=Vo(t)))throw new E("argument-error","Invalid email link!");return new Mo(e,t.code,Uo.EMAIL_LINK_SIGN_IN_METHOD)}function Vo(e){return(e=Mi(e=po(e)))&&e.operation===yi?e:null}function Bo(e){if(!(e.fb&&e.eb||e.La&&e.ea))throw new E("internal-error");this.a=e,ii(this,"providerId","phone"),this.fa="phone",ii(this,"signInMethod","phone")}function zo(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return W(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new Bo(t)}return null}function Wo(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.fb,code:e.a.eb}}function Ko(e){try{this.a=e||Sr.default.auth()}catch(Zn){throw new E("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}oi(this,{providerId:"phone",isOAuthProvider:!1})}function Ho(e,t){if(!e)throw new E("missing-verification-id");if(!t)throw new E("missing-verification-code");return new Bo({fb:e,eb:t})}function Go(e){if(e.temporaryProof&&e.phoneNumber)return new Bo({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return Do(o,n);case"facebook.com":return Ao(n);case"github.com":return jo(n);case"twitter.com":return Lo(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new _o(t,a):new So(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new To(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(Gn){return null}}function Qo(e){if(!e.isOAuthProvider)throw new E("invalid-oauth-provider")}function Yo(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new E("invalid-auth-event");if(this.g&&this.a)throw new E("invalid-auth-event");if(this.g&&!this.f)throw new E("invalid-auth-event")}function $o(e){return(e=e||{}).type?new Yo(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&k(e.error),e.postBody,e.tenantId):null}function Xo(){this.b=null,this.a=[]}go.prototype.Ha=function(){return this.a?Tt(this.a):Tt(this.b)},go.prototype.w=function(){return this.type==vo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},mo.prototype.ka=function(){},mo.prototype.b=function(){},mo.prototype.c=function(){},mo.prototype.w=function(){},_o.prototype.ka=function(e){return Rs(e,wo(this))},_o.prototype.b=function(e,t){var n=wo(this);return n.idToken=t,js(e,n)},_o.prototype.c=function(e,t){return bo(Ps(e,wo(this)),t)},_o.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},So.prototype.ka=function(e){return Rs(e,Io(this))},So.prototype.b=function(e,t){var n=Io(this);return n.idToken=t,js(e,n)},So.prototype.c=function(e,t){return bo(Ps(e,Io(this)),t)},So.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},Eo.prototype.Ka=function(e){return this.Jb=ge(e),this},I(ko,Eo),I(To,Eo),To.prototype.Ca=function(e){return Q(this.a,e)||this.a.push(e),this},To.prototype.Rb=function(){return J(this.a)},To.prototype.credential=function(e,t){var n;if(!(n=g(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new E("argument-error","credential failed: must provide the ID token and/or the access token.");return new So(this.providerId,n,this.providerId)},I(No,To),ii(No,"PROVIDER_ID","facebook.com"),ii(No,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),I(Ro,To),ii(Ro,"PROVIDER_ID","github.com"),ii(Ro,"GITHUB_SIGN_IN_METHOD","github.com"),I(Po,To),ii(Po,"PROVIDER_ID","google.com"),ii(Po,"GOOGLE_SIGN_IN_METHOD","google.com"),I(Oo,Eo),ii(Oo,"PROVIDER_ID","twitter.com"),ii(Oo,"TWITTER_SIGN_IN_METHOD","twitter.com"),Mo.prototype.ka=function(e){return this.signInMethod==Uo.EMAIL_LINK_SIGN_IN_METHOD?pu(e,Vs,{email:this.a,oobCode:this.f}):pu(e,cu,{email:this.a,password:this.f})},Mo.prototype.b=function(e,t){return this.signInMethod==Uo.EMAIL_LINK_SIGN_IN_METHOD?pu(e,Bs,{idToken:t,email:this.a,oobCode:this.f}):pu(e,tu,{idToken:t,email:this.a,password:this.f})},Mo.prototype.c=function(e,t){return bo(this.ka(e),t)},Mo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},oi(Uo,{PROVIDER_ID:"password"}),oi(Uo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),oi(Uo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Bo.prototype.ka=function(e){return e.gb(Wo(this))},Bo.prototype.b=function(e,t){var n=Wo(this);return n.idToken=t,pu(e,hu,n)},Bo.prototype.c=function(e,t){var n=Wo(this);return n.operation="REAUTH",bo(e=pu(e,du,n),t)},Bo.prototype.w=function(){var e={providerId:"phone"};return this.a.fb&&(e.verificationId=this.a.fb),this.a.eb&&(e.verificationCode=this.a.eb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},Ko.prototype.gb=function(e,t){var n=this.a.a;return Tt(t.verify()).then((function(r){if("string"!==typeof r)throw new E("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===t.type){var i,o=g(e)?e.session:null,a=g(e)?e.phoneNumber:e;return i=o&&o.type==vo?o.Ha().then((function(e){return function(e,t){return pu(e,ru,t).then((function(e){return e.phoneSessionInfo.sessionInfo}))}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r}})})):o&&o.type==yo?o.Ha().then((function(t){return function(e,t){return pu(e,iu,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(e,t){return pu(e,Zs,t)}(n,{phoneNumber:a,recaptchaToken:r}),i.then((function(e){return"function"===typeof t.reset&&t.reset(),e}),(function(e){throw"function"===typeof t.reset&&t.reset(),e}))}throw new E("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}))},oi(Ko,{PROVIDER_ID:"phone"}),oi(Ko,{PHONE_SIGN_IN_METHOD:"phone"}),Yo.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Yo.prototype.T=function(){return this.h},Yo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Jo,Zo=null;function ea(e){var t="unauthorized-domain",n=void 0,r=qn(e);e=r.a,"chrome-extension"==(r=r.c)?n=ze("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=ze("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",E.call(this,t,n)}function ta(e,t,n){E.call(this,e,n),(e=t||{}).Kb&&ii(this,"email",e.Kb),e.ea&&ii(this,"phoneNumber",e.ea),e.credential&&ii(this,"credential",e.credential),e.$b&&ii(this,"tenantId",e.$b)}function na(e){if(e.code){var t=e.code||"";0==t.indexOf(N)&&(t=t.substring(N.length));var n={credential:Go(e),$b:e.tenantId};if(e.email)n.Kb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new E(t,e.message||void 0);return new ta(t,n,e.message)}return null}function ra(){}function ia(e){return e.c||(e.c=e.b())}function oa(){}function aa(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(am){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function sa(){}function ua(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=w(this.qc,this),this.a.onerror=w(this.Tb,this),this.a.onprogress=w(this.rc,this),this.a.ontimeout=w(this.vc,this)}function ca(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function la(e,t,n){this.reset(e,t,n,void 0,void 0)}I(ea,E),I(ta,E),ta.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&ye(e,t),e},ta.prototype.toJSON=function(){return this.w()},ra.prototype.c=null,I(oa,ra),oa.prototype.a=function(){var e=aa(this);return e?new ActiveXObject(e):new XMLHttpRequest},oa.prototype.b=function(){var e={};return aa(this)&&(e[0]=!0,e[1]=!0),e},Jo=new oa,I(sa,ra),sa.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new ua;throw Error("Unsupported browser")},sa.prototype.b=function(){return{}},(e=ua.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ca(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",ca(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,ca(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},la.prototype.a=null;function ha(e){this.f=e,this.b=this.c=this.a=null}function da(e,t){this.name=e,this.value=t}la.prototype.reset=function(e,t,n,r,i){"number"==typeof i||0,r||S(),delete this.a},da.prototype.toString=function(){return this.name};var fa=new da("SEVERE",1e3),pa=new da("WARNING",900),ga=new da("CONFIG",700),va=new da("FINE",500);function ya(e){return e.c?e.c:e.a?ya(e.a):(L("Root logger has no level set."),null)}ha.prototype.log=function(e,t,n){if(e.value>=ya(this).value)for(p(t)&&(t=t()),e=new la(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var ma,ba={},_a=null;function wa(e){var t;if(_a||(_a=new ha(""),ba[""]=_a,_a.c=ga),!(t=ba[e])){t=new ha(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=wa(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,ba[e]=t}return t}function xa(e,t){e&&e.log(va,t,void 0)}function Sa(e){this.f=e}function Ia(e){xn.call(this),this.u=e,this.h=void 0,this.readyState=Ca,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=wa("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}I(Sa,ra),Sa.prototype.a=function(){return new Ia(this.f)},Sa.prototype.b=(ma={},function(){return ma}),I(Ia,xn);var Ca=0;function Ea(e){e.c.read().then(e.pc.bind(e)).catch(e.Va.bind(e))}function ka(e){e.readyState=4,e.g=null,e.c=null,e.m=null,Ta(e)}function Ta(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Na(e){xn.call(this),this.headers=new An,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Aa,this.u=this.S=!1}(e=Ia.prototype).open=function(e,t){if(this.readyState!=Ca)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,Ta(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ka(this)),this.readyState=Ca},e.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,Ta(this)),this.a&&(this.readyState=3,Ta(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):"undefined"!==typeof s.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,Ea(this)):e.text().then(this.tc.bind(this),this.Va.bind(this)))))},e.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?ka(this):Ta(this),3==this.readyState&&Ea(this)}},e.tc=function(e){this.a&&(this.response=this.responseText=e,ka(this))},e.sc=function(e){this.a&&(this.response=e,ka(this))},e.Va=function(e){var t=this.i;t&&t.log(pa,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&ka(this)},e.setRequestHeader=function(e,t){this.l.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(pa,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(pa,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ia.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),I(Na,xn);var Aa="";Na.prototype.b=wa("goog.net.XhrIo");var Ra=/^https?$/i,ja=["POST","PUT"];function Pa(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.P=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():Jo.a(),e.C=e.D?ia(e.D):ia(Jo),e.a.onreadystatechange=w(e.Wb,e);try{xa(e.b,Ba(e,"Opening Xhr")),e.N=!0,e.a.open(n,String(t),!0),e.N=!1}catch(a){return xa(e.b,Ba(e,"Error opening Xhr: "+a.message)),void Oa(e,a)}t=r||"";var o=new An(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(f(e)||"string"===typeof e)W(e,t,void 0);else for(var n=Nn(e),r=Tn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){o.set(t,e)})),i=function(e){e:{for(var t=Da,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(o.Y()),r=s.FormData&&t instanceof s.FormData,!Q(ja,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{Ua(e),0<e.g&&(e.u=function(e){return Qe&&ot(9)&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(e.a),xa(e.b,Ba(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=w(e.Ma,e)):e.s=En(e.Ma,e.g,e)),xa(e.b,Ba(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(a){xa(e.b,Ba(e,"Send error: "+a.message)),Oa(e,a)}}function Da(e){return"content-type"==e.toLowerCase()}function Oa(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,La(e),Fa(e)}function La(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Ma(e){if(e.c&&"undefined"!=typeof a)if(e.C[1]&&4==qa(e)&&2==Va(e))xa(e.b,Ba(e,"Local request error detected and ignored"));else if(e.i&&4==qa(e))En(e.Wb,0,e);else if(e.dispatchEvent("readystatechange"),4==qa(e)){xa(e.b,Ba(e,"Request complete")),e.c=!1;try{var t,n=Va(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.l).match(Pn)[1]||null;if(!o&&s.self&&s.self.location){var u=s.self.location.protocol;o=u.substr(0,u.length-1)}i=!Ra.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<qa(e)?e.a.statusText:""}catch(Kn){xa(e.b,"Can not get status: "+Kn.message),c=""}e.h=c+" ["+Va(e)+"]",La(e)}}finally{Fa(e)}}}function Fa(e,t){if(e.a){Ua(e);var n=e.a,r=e.C[0]?h:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(am){(e=e.b)&&e.log(fa,"Problem encountered resetting onreadystatechange: "+am.message,void 0)}}}function Ua(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(s.clearTimeout(e.s),e.s=null)}function qa(e){return e.a?e.a.readyState:0}function Va(e){try{return 2<qa(e)?e.a.status:-1}catch(Zn){return-1}}function Ba(e,t){return t+" ["+e.P+" "+e.l+" "+Va(e)+"]"}function za(e){var t=es;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Wa(e,t,n){e.a=!0,e.c=n,e.f=!t,Qa(e)}function Ka(e){if(e.a){if(!e.v)throw new Ya(e);e.v=!1}}function Ha(e,t,n,r){e.g.push([t,n,r]),e.a&&Qa(e)}function Ga(e){return G(e.g,(function(e){return p(e[1])}))}function Qa(e){if(e.h&&e.a&&Ga(e)){var t=e.h,n=Ja[t];n&&(s.clearTimeout(n.a),delete Ja[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var u=o.call(i||e.s,t);void 0!==u&&(e.f=e.f&&(u==t||u instanceof Error),e.c=t=u),(P(t)||"function"===typeof s.Promise&&t instanceof s.Promise)&&(r=!0,e.i=!0)}catch(Kn){t=Kn,e.f=!0,Ga(e)||(n=!0)}}e.c=t,r&&(u=w(e.m,e,!0),r=w(e.m,e,!1),t instanceof za?(Ha(t,u,r),t.C=!0):t.then(u,r)),n&&(t=new Xa(t),Ja[t.a]=t,e.h=t.a)}function Ya(){D.call(this)}function $a(){D.call(this)}function Xa(e){this.a=s.setTimeout(w(this.c,this),0),this.b=e}(e=Na.prototype).Ma=function(){"undefined"!=typeof a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",xa(this.b,Ba(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(xa(this.b,Ba(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Fa(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Fa(this,!0)),Na.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?Ma(this):this.Jc())},e.Jc=function(){Ma(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Aa:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(fa,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(Zn){return xa(this.b,"Can not get response: "+Zn.message),null}},za.prototype.cancel=function(e){if(this.a)this.c instanceof za&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new $a(this),Ka(this),Wa(this,!1,e))}},za.prototype.m=function(e,t){this.i=!1,Wa(this,e,t)},za.prototype.then=function(e,t,n){var r,i,o=new wt((function(e,t){r=e,i=t}));return Ha(this,r,(function(e){e instanceof $a?o.cancel():i(e)})),o.then(e,t,n)},za.prototype.$goog_Thenable=!0,I(Ya,D),Ya.prototype.message="Deferred has already fired",Ya.prototype.name="AlreadyCalledError",I($a,D),$a.prototype.message="Deferred was canceled",$a.prototype.name="CanceledError",Xa.prototype.c=function(){throw delete Ja[this.a],this.b};var Ja={};function Za(e){var t={},n=t.document||document,r=Ee(e).toString(),i=gt(document,"SCRIPT"),o={Xb:i,Ma:void 0},a=new za(o),u=null,h=null!=t.timeout?t.timeout:5e3;return 0<h&&(u=window.setTimeout((function(){ts(i,!0);var e=new os(is,"Timeout reached for loading script "+r);Ka(a),Wa(a,!1,e)}),h),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(ts(i,t.xd||!1,u),Ka(a),Wa(a,!0,null))},i.onerror=function(){ts(i,!0,u);var e=new os(rs,"Error while loading script "+r);Ka(a),Wa(a,!1,e)},ye(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),lt(i,o),function(e,t){me(e,"HTMLScriptElement"),e.src=Ee(t),(t=e.ownerDocument&&e.ownerDocument.defaultView)&&t!=s?t=l(t.document):(null===c&&(c=l(s.document)),t=c),t&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function es(){if(this&&this.Xb){var e=this.Xb;e&&"SCRIPT"==e.tagName&&ts(e,!0,this.Ma)}}function ts(e,t,n){null!=n&&s.clearTimeout(n),e.onload=h,e.onerror=h,e.onreadystatechange=h,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var rs=0,is=1;function os(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),D.call(this,n),this.code=e}function as(e){this.f=e}function ss(e,t,n){if(this.c=e,e=t||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||ls,this.g=ge(e.secureTokenHeaders||hs),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||ds,this.a=ge(e.firebaseHeaders||fs),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Ar(),!(n=s.XMLHttpRequest||n&&Sr.default.INTERNAL.node&&Sr.default.INTERNAL.node.XMLHttpRequest)&&!Nr())throw new E("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Nr()?this.f=new Sa(self):Rr()?this.f=new as(n):this.f=new sa,this.b=null}I(os,D),I(as,ra),as.prototype.a=function(){return new this.f},as.prototype.b=function(){return{}};var us,cs="idToken",ls=new $r(3e4,6e4),hs={"Content-Type":"application/x-www-form-urlencoded"},ds=new $r(3e4,6e4),fs={"Content-Type":"application/json"};function ps(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function gs(e,t){t&&(e.l=vs("https://securetoken.googleapis.com/v1/token",t),e.h=vs("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=vs("https://identitytoolkit.googleapis.com/v2/",t))}function vs(e,t){return e=qn(e),t=qn(t.url),e.f=e.a+e.f,On(e,t.c),e.a=t.a,Ln(e,t.g),e.toString()}function ys(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function ms(e,t,n,r,i,o,a){(function(){var e=Mr();return!((e=Dr(e)!=Pr?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e)&&(!Qe||!st||9<st)})()||Nr()?e=w(e.u,e):(us||(us=new wt((function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{s[_s]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){Ha(e,null,t,void 0)}(Za(ke(bs,{onload:_s})),(function(){t(Error("CORS_UNSUPPORTED"))}))}}(e,t)}))),e=w(e.s,e)),e(t,n,r,i,o,a)}ss.prototype.T=function(){return this.b},ss.prototype.u=function(e,t,n,r,i,o){if(Nr()&&("undefined"===typeof s.fetch||"undefined"===typeof s.Headers||"undefined"===typeof s.Request))throw new E("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new Na(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}Sn(a,"complete",(function(){u&&clearTimeout(u);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return xa(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(Wn){e=null}t&&t(e)})),In(a,"ready",(function(){u&&clearTimeout(u),Ht(this)})),In(a,"timeout",(function(){u&&clearTimeout(u),Ht(this),t&&t(null)})),Pa(a,e,n,r,i)};var bs=new be(Se,"https://apis.google.com/js/client.js?onload=%{onload}"),_s="__fcb"+Math.floor(1e6*Math.random()).toString();function ws(e,t,n,r,i,o,a){var s=qn(t+n);Fn(s,"key",e.c),a&&Fn(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Fn(s,c,i[c]);return new wt((function(t,n){ms(e,s.toString(),(function(e){e?e.error?n(vu(e,o||{})):t(e):n(new E("network-request-failed"))}),r,u?void 0:lr(Kr(i)),e.a,e.v.get())}))}function xs(e){if("string"!==typeof(e=e.email)||!Cr.test(e))throw new E("invalid-email")}function Ss(e){"email"in e&&xs(e)}function Is(e){if(!e[cs]){if(e.mfaPendingCredential)throw new E("multi-factor-auth-required",null,ge(e));throw new E("internal-error")}}function Cs(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new E("internal-error")}else{if(!e.sessionInfo)throw new E("missing-verification-id");if(!e.code)throw new E("missing-verification-code")}}ss.prototype.s=function(e,t,n,r,i){var o=this;us.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},ss.prototype.Ab=function(){return pu(this,nu,{})},ss.prototype.Cb=function(e,t){return pu(this,eu,{idToken:e,email:t})},ss.prototype.Db=function(e,t){return pu(this,tu,{idToken:e,password:t})};var Es={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ks(e){if(!e.phoneVerificationInfo)throw new E("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new E("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new E("missing-verification-code")}function Ts(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new E("internal-error")}function Ns(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(ar(e=new nr(e.postBody),"nonce")&&(t.nonce=e.get("nonce")))),t}function As(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=na(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=na(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=na(e)):e.errorMessage&&(t=gu(e.errorMessage)),t)throw t;Is(e)}function Rs(e,t){return t.returnIdpCredential=!0,pu(e,ou,t)}function js(e,t){return t.returnIdpCredential=!0,pu(e,su,t)}function Ps(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,pu(e,au,t)}function Ds(e){if(!e.oobCode)throw new E("invalid-action-code")}(e=ss.prototype).Eb=function(e,t){var n={idToken:e},r=[];return fe(Es,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),pu(this,eu,n)},e.wb=function(e,t){return ye(e={requestType:"PASSWORD_RESET",email:e},t),pu(this,Ys,e)},e.xb=function(e,t){return ye(e={requestType:"EMAIL_SIGNIN",email:e},t),pu(this,Hs,e)},e.vb=function(e,t){return ye(e={requestType:"VERIFY_EMAIL",idToken:e},t),pu(this,Gs,e)},e.Fb=function(e,t,n){return ye(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),pu(this,Qs,e)},e.gb=function(e){return pu(this,lu,e)},e.ob=function(e,t){return pu(this,Js,{oobCode:e,newPassword:t})},e.Sa=function(e){return pu(this,Ls,{oobCode:e})},e.kb=function(e){return pu(this,Os,{oobCode:e})};var Os={endpoint:"setAccountInfo",A:Ds,Z:"email",B:!0},Ls={endpoint:"resetPassword",A:Ds,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new E("internal-error")},B:!0},Ms={endpoint:"signupNewUser",A:function(e){if(xs(e),!e.password)throw new E("weak-password")},G:Is,V:!0,B:!0},Fs={endpoint:"createAuthUri",B:!0},Us={endpoint:"deleteAccount",O:["idToken"]},qs={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new E("internal-error")}},Vs={endpoint:"emailLinkSignin",O:["email","oobCode"],A:xs,G:Is,V:!0,B:!0},Bs={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:xs,G:Is,V:!0},zs={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:ks,G:Is,B:!0,Na:!0},Ws={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:ks,G:Is,B:!0,Na:!0},Ks={endpoint:"getAccountInfo"},Hs={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new E("internal-error");xs(e)},Z:"email",B:!0},Gs={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new E("internal-error")},Z:"email",B:!0},Qs={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new E("internal-error")},Z:"email",B:!0},Ys={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new E("internal-error");xs(e)},Z:"email",B:!0},$s={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Xs={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new E("internal-error")}},Js={endpoint:"resetPassword",A:Ds,Z:"email",B:!0},Zs={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},eu={endpoint:"setAccountInfo",O:["idToken"],A:Ss,V:!0},tu={endpoint:"setAccountInfo",O:["idToken"],A:function(e){if(Ss(e),!e.password)throw new E("weak-password")},G:Is,V:!0},nu={endpoint:"signupNewUser",G:Is,V:!0,B:!0},ru={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new E("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new E("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new E("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new E("internal-error")},B:!0,Na:!0},iu={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new E("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new E("internal-error")},B:!0,Na:!0},ou={endpoint:"verifyAssertion",A:Ts,Za:Ns,G:As,V:!0,B:!0},au={endpoint:"verifyAssertion",A:Ts,Za:Ns,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new E("user-not-found");if(e.errorMessage)throw gu(e.errorMessage);Is(e)},V:!0,B:!0},su={endpoint:"verifyAssertion",A:function(e){if(Ts(e),!e.idToken)throw new E("internal-error")},Za:Ns,G:As,V:!0},uu={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new E("invalid-custom-token")},G:Is,V:!0,B:!0},cu={endpoint:"verifyPassword",A:function(e){if(xs(e),!e.password)throw new E("wrong-password")},G:Is,V:!0,B:!0},lu={endpoint:"verifyPhoneNumber",A:Cs,G:Is,B:!0},hu={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new E("internal-error");Cs(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",na(e);Is(e)}},du={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Cs,G:Is,B:!0},fu={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[cs]^!!e.refreshToken)throw new E("internal-error")},B:!0,Na:!0};function pu(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,t.O))return Nt(new E("internal-error"));var r,i=!!t.Na,o=t.Vb||"POST";return Tt(n).then(t.A).then((function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&"undefined"===typeof n.tenantId&&(n.tenantId=e.b),ws(e,i?e.i:e.h,t.endpoint,o,n,t.Ib,t.mb||!1)})).then((function(e){return r=e,t.Za?t.Za(n,r):r})).then(t.G).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new E("internal-error");return r[t.Z]}))}function gu(e){return vu({error:{errors:[{message:e}],code:400,message:e}})}function vu(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new E(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",ye(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new E(r[i],t);return!t&&e&&(t=Wr(e)),new E("internal-error",t)}function yu(e){this.b=e,this.a=null,this.sb=function(e){return(wu||(wu=new wt((function(e,t){function n(){Yr(),Fr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Yr(),t(Error("Network Error"))},timeout:bu.get()})}if(Fr("gapi.iframes.Iframe"))e();else if(Fr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Fr("gapi.load")?n():t(Error("Network Error"))},Tt(Za(r=ke(mu,{onload:r}))).o((function(){t(Error("Network Error"))}))}})).o((function(e){throw wu=null,e})))).then((function(){return new wt((function(t,n){Fr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Fr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),_u.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var mu=new be(Se,"https://apis.google.com/js/api.js?onload=%{onload}"),bu=new $r(3e4,6e4),_u=new $r(5e3,15e3),wu=null;function xu(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,this.g?e=Vn((e=qn(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):e=Vn("https",this.l,null,"/__/auth/iframe"),this.a=e,Fn(this.a,"apiKey",this.h),Fn(this.a,"appName",this.i),this.b=null,this.c=[]}function Su(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function Iu(e){try{return Sr.default.app(e).auth().Ga()}catch(Zn){return[]}}function Cu(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function Eu(e){var t=yr();return function(e){return pu(e,$s,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=qn(t),r=n.c;n=n.a;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=qn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:Ir.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new ea(yr())}))}function ku(e){return e.m||(e.m=Er().then((function(){if(!e.u){var t=e.c,n=e.i,r=Iu(e.b),i=new xu(e.s,e.g,e.b,e.f);i.f=t,i.b=n,i.c=J(r||[]),e.u=i.toString()}e.v=new yu(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.sb.then((function(){e.a.register("authEvent",t,Fr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.v,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=$o(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",Tt(n)}return n.status="ERROR",Tt(n)}))}(e)}))),e.m}function Tu(e){return e.l||(e.C=e.c?Lr(e.c,Iu(e.b)):null,e.l=new ss(e.g,j(e.i),e.C),e.f&&gs(e.l,e.f)),e.l}function Nu(e,t,n,r,i,o,a,s,u,c,l,h){return(e=new Su(e,t,n,r,i,h)).l=o,e.g=a,e.i=s,e.b=ge(u||null),e.f=c,e.zb(l).toString()}function Au(e){if(this.a=e||Sr.default.INTERNAL.reactNative&&Sr.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new E("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Ru(e){this.b=e,this.a={},this.f=w(this.c,this)}xu.prototype.toString=function(){return this.f?Fn(this.a,"v",this.f):or(this.a.b,"v"),this.b?Fn(this.a,"eid",this.b):or(this.a.b,"eid"),this.c.length?Fn(this.a,"fw",this.c.join(",")):or(this.a.b,"fw"),this.a.toString()},Su.prototype.zb=function(e){return this.h=e,this},Su.prototype.toString=function(){if(this.v){var e=qn(this.v.url);e=Vn(e.c,e.a,e.g,"/emulator/auth/handler")}else e=Vn("https",this.u,null,"/__/auth/handler");if(Fn(e,"apiKey",this.s),Fn(e,"appName",this.c),Fn(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=Sr.default.app(this.c).auth().la()}catch(Gn){n=null}for(var r in t.pb=n,Fn(e,"providerId",this.a.providerId),t=Kr((n=this.a).Jb))t[r]=t[r].toString();r=n.Qc,t=ge(t);for(var i=0;i<r.length;i++){var o=r[i];o in t&&delete t[o]}n.qb&&n.pb&&!t[n.qb]&&(t[n.qb]=n.pb),pe(t)||Fn(e,"customParameters",Wr(t))}if("function"===typeof this.a.Rb&&((n=this.a.Rb()).length&&Fn(e,"scopes",n.join(","))),this.l?Fn(e,"redirectUrl",this.l):or(e.b,"redirectUrl"),this.g?Fn(e,"eventId",this.g):or(e.b,"eventId"),this.i?Fn(e,"v",this.i):or(e.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Un(e,a)&&Fn(e,a,this.b[a]);return this.h?Fn(e,"tid",this.h):or(e.b,"tid"),this.f?Fn(e,"eid",this.f):or(e.b,"eid"),(a=Iu(this.c)).length&&Fn(e,"fw",a.join(",")),e.toString()},(e=Cu.prototype).Pb=function(e,t,n){var r=new E("popup-closed-by-user"),i=new E("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(e){var t={type:"webStorageSupport"};return ku(e).then((function(){return function(e,t){return e.sb.then((function(){return new wt((function(n){e.a.send(t.type,t,n,Fr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.v,t)})).then((function(e){if(e&&e.length&&"undefined"!==typeof e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&wr(e),t(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(e){return new wt((function(t){return function n(){kn(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return kn(n).then((function(){t(r)}))}))},e.Yb=function(){var e=Mr();return!zr(e)&&!Qr(e)},e.Ub=function(){return!1},e.Nb=function(e,t,n,r,i,o,a,s){if(!e)return Nt(new E("popup-blocked"));if(a&&!zr())return this.ma().o((function(t){wr(e),i(t)})),r(),Tt();this.a||(this.a=Eu(Tu(this)));var u=this;return this.a.then((function(){var t=u.ma().o((function(t){throw wr(e),i(t),t}));return r(),t})).then((function(){(Qo(n),a)||mr(Nu(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.i,s,u.f),e)})).o((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},e.Ob=function(e,t,n,r){this.a||(this.a=Eu(Tu(this)));var i=this;return this.a.then((function(){Qo(t),mr(Nu(i.s,i.g,i.b,e,t,yr(),n,i.c,void 0,i.i,r,i.f))})).o((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},e.ma=function(){var e=this;return ku(this).then((function(){return e.v.sb})).o((function(){throw e.a=null,new E("network-request-failed")}))},e.ac=function(){return!0},e.Ea=function(e){this.h.push(e)},e.Ta=function(e){$(this.h,(function(t){return t==e}))},(e=Au.prototype).get=function(e){return Tt(this.a.getItem(e)).then((function(e){return e&&Hr(e)}))},e.set=function(e,t){return Tt(this.a.setItem(e,Wr(t)))},e.U=function(e){return Tt(this.a.removeItem(e))},e.ca=function(){},e.ia=function(){};var ju,Pu=[];function Du(e,t,n){pe(e.a)&&e.b.addEventListener("message",e.f),"undefined"===typeof e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Ou(e){this.a=e}function Lu(e){this.c=e,this.b=!1,this.a=[]}function Mu(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return Nt(Error("connection_unavailable"));var l=r?800:50,h="undefined"!==typeof MessageChannel?new MessageChannel:null;return new wt((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),"undefined"!==typeof e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))},c={messageChannel:h,onMessage:o},e.a.push(c),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(t){return Fu(e,c),t})).o((function(t){throw Fu(e,c),t}))}function Fu(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),$(e.a,(function(e){return e==t}))}}function Uu(){if(!zu())throw new E("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;Nr()&&self?(this.v=function(){var e=Nr()?self:null;if(W(Pu,(function(n){n.b==e&&(t=n)})),!t){var t=new Ru(e);Pu.push(t)}return t}(),Du(this.v,"keyChanged",(function(t,n){return Qu(e).then((function(t){return 0<t.length&&W(e.a,(function(e){e(t)})),{keyProcessed:Q(t,n.key)}}))})),Du(this.v,"ping",(function(){return Tt(["keyChanged"])}))):function(){var e=s.navigator;return e&&e.serviceWorker?Tt().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):Tt(null)}().then((function(t){(e.h=t)&&(e.g=new Lu(new Ou(t)),Mu(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&Q(t[0].value,"keyChanged")&&(e.s=!0)})).o((function(){})))}))}function qu(e){return new wt((function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(Hn){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(Hn){n(Hn)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new wt((function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(e).then((function(){return qu(e)})).then((function(e){t(e)})).o((function(e){n(e)}))}}))}function Vu(e){return e.i||(e.i=qu(e)),e.i}function Bu(e,t){var n=0;return new wt((function r(i,o){Vu(e).then(t).then(i).o((function(t){if(!(3<++n))return Vu(e).then((function(t){return t.close(),e.i=void 0,r(i,o)})).o((function(e){o(e)}));o(t)}))}))}function zu(){try{return!!s.indexedDB}catch(ma){return!1}}function Wu(e){return e.objectStore("firebaseLocalStorage")}function Ku(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Hu(e){return new wt((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function Gu(e,t){return e.g&&e.h&&function(){var e=s.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?Mu(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):Tt()}function Qu(e){return Vu(e).then((function(e){var t=Wu(Ku(e,!1));return t.getAll?Hu(t.getAll()):new wt((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=br(e.c,n),e.c=n}return r}))}function Yu(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function $u(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=Tt().then((function(){if(zu()){var e=Gr(),r="__sak"+e;return ju||(ju=new Uu),(n=ju).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){W(t.a,(function(t){t(e)}))})),e}))}function Xu(){this.a={},this.type="inMemory"}function Ju(){if(!function(){var e="Node"==Ar();if(e=Zu()||e&&Sr.default.INTERNAL.node&&Sr.default.INTERNAL.node.localStorage,!e)return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(Zn){return!1}}()){if("Node"==Ar())throw new E("internal-error","The LocalStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=Zu()||Sr.default.INTERNAL.node.localStorage,this.type="localStorage"}function Zu(){try{var e=s.localStorage,t=Gr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function ec(){this.type="nullStorage"}function tc(){if(!function(){var e="Node"==Ar();if(e=nc()||e&&Sr.default.INTERNAL.node&&Sr.default.INTERNAL.node.sessionStorage,!e)return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(Zn){return!1}}()){if("Node"==Ar())throw new E("internal-error","The SessionStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=nc()||Sr.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function nc(){try{var e=s.sessionStorage,t=Gr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function rc(){var e={};e.Browser=ac,e.Node=sc,e.ReactNative=uc,e.Worker=cc,this.a=e[Ar()]}Ru.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];W(r,(function(t){i.push(Tt().then((function(){return t(e.origin,e.data.data)})))})),Rt(i).then((function(r){var i=[];W(r,(function(e){i.push({fulfilled:e.Qb,value:e.value,reason:e.reason?e.reason.message:void 0})})),W(i,(function(e){for(var t in e)"undefined"===typeof e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},Ou.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Lu.prototype.close=function(){for(;0<this.a.length;)Fu(this,this.a[0]);this.b=!0},(e=Uu.prototype).set=function(e,t){var n=this,r=!1;return Bu(this,(function(t){return Hu((t=Wu(Ku(t,!0))).get(e))})).then((function(i){return Bu(n,(function(o){if(o=Wu(Ku(o,!0)),i)return i.value=t,Hu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=e,a.value=t,Hu(o.add(a))}))})).then((function(){return n.c[e]=t,Gu(n,e)})).oa((function(){r&&n.b--}))},e.get=function(e){return Bu(this,(function(t){return Hu(Wu(Ku(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.U=function(e){var t=this,n=!1;return Bu(this,(function(r){return n=!0,t.b++,Hu(Wu(Ku(r,!0)).delete(e))})).then((function(){return delete t.c[e],Gu(t,e)})).oa((function(){n&&t.b--}))},e.ca=function(e){0==this.a.length&&function(e){function t(){e.f=setTimeout((function(){e.l=Qu(e).then((function(t){0<t.length&&W(e.a,(function(e){e(t)}))})).then((function(){t()})).o((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}Yu(e),t()}(this),this.a.push(e)},e.ia=function(e){$(this.a,(function(t){return t==e})),0==this.a.length&&Yu(this)},(e=$u.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.U=function(e){return this.b.then((function(t){return t.U(e)}))},e.ca=function(e){this.a.push(e)},e.ia=function(e){$(this.a,(function(t){return t==e}))},(e=Xu.prototype).get=function(e){return Tt(this.a[e])},e.set=function(e,t){return this.a[e]=t,Tt()},e.U=function(e){return delete this.a[e],Tt()},e.ca=function(){},e.ia=function(){},(e=Ju.prototype).get=function(e){var t=this;return Tt().then((function(){return Hr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return Tt().then((function(){var r=Wr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return Tt().then((function(){t.a.removeItem(e)}))},e.ca=function(e){s.window&&ln(s.window,"storage",e)},e.ia=function(e){s.window&&fn(s.window,"storage",e)},(e=ec.prototype).get=function(){return Tt(null)},e.set=function(){return Tt()},e.U=function(){return Tt()},e.ca=function(){},e.ia=function(){},(e=tc.prototype).get=function(e){var t=this;return Tt().then((function(){return Hr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return Tt().then((function(){var r=Wr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return Tt().then((function(){t.a.removeItem(e)}))},e.ca=function(){},e.ia=function(){};var ic,oc,ac={F:Ju,cb:tc},sc={F:Ju,cb:tc},uc={F:Au,cb:ec},cc={F:Ju,cb:ec},lc={rd:"local",NONE:"none",td:"session"};function hc(){var e=!(Qr(Mr())||!Tr()),t=zr(),n=Ur();this.m=e,this.h=t,this.l=n,this.a={},ic||(ic=new rc),e=ic;try{this.g=!vr()&&Zr()||!s.indexedDB?new e.a.F:new $u(Nr()?new Xu:new e.a.F)}catch(zn){this.g=new Xu,this.h=!0}try{this.i=new e.a.cb}catch(zn){this.i=new Xu}this.v=new Xu,this.f=w(this.Zb,this),this.b={}}function dc(){return oc||(oc=new hc),oc}function fc(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function pc(e,t){return"firebase:"+e.name+(t?":"+t:"")}function gc(e,t,n){return n=pc(t,n),"local"==t.F&&(e.b[n]=null),fc(e,t.F).U(n)}function vc(e){e.c&&(clearInterval(e.c),e.c=null)}function yc(e){this.a=e,this.b=dc()}(e=hc.prototype).get=function(e,t){return fc(this,e.F).get(pc(e,t))},e.set=function(e,t,n){var r=pc(e,n),i=this,o=fc(this,e.F);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.F&&(i.b[r]=t)}))},e.addListener=function(e,t,n){e=pc(e,t),this.l&&(this.b[e]=s.localStorage.getItem(e)),pe(this.a)&&(fc(this,"local").ca(this.f),this.h||(vr()||!Zr())&&s.indexedDB||!this.l||function(e){vc(e),e.c=setInterval((function(){for(var t in e.a){var n=s.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new Jt({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Zb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=pc(e,t),this.a[e]&&($(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),pe(this.a)&&(fc(this,"local").ia(this.f),vc(this))},e.Zb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if("undefined"!==typeof e.a.a?fc(this,"local").ia(this.f):vc(this),this.m)if(n=s.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?s.localStorage.setItem(t,r):s.localStorage.removeItem(t);else if(this.b[t]===r&&"undefined"===typeof e.a.a)return;var o=this;n=function(){"undefined"===typeof e.a.a&&o.b[t]===s.localStorage.getItem(t)||(o.b[t]=s.localStorage.getItem(t),o.nb(t))},Qe&&st&&10==st&&s.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else W(e,w(this.nb,this))},e.nb=function(e){this.a[e]&&W(this.a[e],(function(e){e()}))};var mc,bc={name:"authEvent",F:"local"};function _c(){this.a=dc()}function wc(e,t){this.b=xc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===mc&&(mc=s.Int32Array?new Int32Array(Nc):Nc),this.reset()}I(wc,(function(){this.b=-1}));for(var xc=64,Sc=xc-1,Ic=[],Cc=0;Cc<Sc;Cc++)Ic[Cc]=0;var Ec=X(128,Ic);function kc(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var d=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|mc[t])|0)+(0|n[t])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+d|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function Tc(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"===typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(kc(e),i=0);else{if(!f(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(kc(e),i=0)}}e.c=i,e.g+=n}wc.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):J(this.h)};var Nc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Ac(){wc.call(this,8,Rc)}I(Ac,wc);var Rc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function jc(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new _c,this.g=new yc(this.h),this.f=null,this.b=[],this.a=this.c=null}function Pc(e){return new E("invalid-cordova-configuration",e)}function Dc(e){var t=new Ac;Tc(t,e),e=[];var n=8*t.g;56>t.c?Tc(t,Ec,56-t.c):Tc(t,Ec,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(kc(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return H(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}function Oc(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(zn){}}function Lc(e){return e.f||(e.f=e.ma().then((function(){return new wt((function(t){e.Ea((function n(r){return t(r),e.Ta(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),Mc(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=po(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=Hr(Un(o=qn(i),"firebaseError")||null))?k(o):null)?new Yo(r.c,r.b,null,null,o,null,r.T()):new Yo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Oc(e,i)}))}var n=new Yo("unknown",null,null,null,new E("no-auth-event")),r=!1,i=kn(500).then((function(){return Mc(e).then((function(){r||Oc(e,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Fr("BuildInfo.packageName",s).toLowerCase()+"://")&&t({url:e}),"function"===typeof o)try{o(e)}catch(Gn){console.error(Gn)}},Zo||(Zo=new Xo),function(e){var t=Zo;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"===typeof(e=Fr("universalLinks.subscribe",s))&&e(null,t.b))}(t)}(e)}))}))),e.f}function Mc(e){var t=null;return function(e){return e.b.get(bc,e.a).then((function(e){return $o(e)}))}(e.g).then((function(n){return t=n,gc((n=e.g).b,bc,n.a)})).then((function(){return t}))}function Fc(e){this.a=e,this.b=dc()}(e=jc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(kr(void 0)?Er().then((function(){return new wt((function(e,t){var n=s.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):Nt(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof Fr("universalLinks.subscribe",s))throw Pc("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Fr("BuildInfo.packageName",s))throw Pc("cordova-plugin-buildinfo is not installed");if("function"!==typeof Fr("cordova.plugins.browsertab.openUrl",s))throw Pc("cordova-plugin-browsertab is not installed");if("function"!==typeof Fr("cordova.InAppBrowser.open",s))throw Pc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new E("cordova-not-ready")}))},e.Pb=function(e,t){return t(new E("operation-not-supported-in-this-environment")),Tt()},e.Nb=function(){return Nt(new E("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(e,t,n,r){if(this.c)return Nt(new E("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=Tt().then((function(){return Qo(t),Lc(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new Yo(t,r,null,o,new E("no-auth-event"),null,i),u=Fr("BuildInfo.packageName",s);if("string"!==typeof u)throw new E("invalid-cordova-configuration");var c=Fr("BuildInfo.displayName",s),l={};if(Mr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Mr().toLowerCase().match(/android/))return Nt(new E("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=Dc(o),l.sessionId=o;var h=Nu(e.v,e.i,e.l,t,n,null,r,e.m,l,e.u,i,e.s);return e.ma().then((function(){var t=e.h;return e.C.a.set(bc,a.w(),t)})).then((function(){var t=Fr("cordova.plugins.browsertab.isAvailable",s);if("function"!==typeof t)throw new E("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!==typeof(n=Fr("cordova.plugins.browsertab.openUrl",s)))throw new E("invalid-cordova-configuration");n(h)}else{if("function"!==typeof(n=Fr("cordova.InAppBrowser.open",s)))throw new E("invalid-cordova-configuration");t=Mr(),e.a=n(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new wt((function(e,t){u=function(){var t=Fr("cordova.plugins.browsertab.close",s);return e(),"function"===typeof t&&t(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){a||(a=kn(2e3).then((function(){t(new E("redirect-cancelled-by-user"))})))},l=function(){Xr()&&c()},o.addEventListener("resume",c,!1),Mr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(e){return Mc(i).then((function(){throw e}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Ta(u),i.c=null}))},e.Ea=function(e){this.b.push(e),Lc(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Yo("unknown",null,null,null,new E("no-auth-event")),e(t))}))},e.Ta=function(e){$(this.b,(function(t){return t==e}))};var Uc={name:"pendingRedirect",F:"session"};function qc(e){return gc(e.b,Uc,e.a)}function Vc(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=w(this.s,this),this.b=new nl,this.C=new sl,this.g=new Fc(el(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Bc(this.D,this.v,this.m,T,this.J)}function Bc(e,t,n,r,i){var o=Sr.default.SDK_VERSION||null;return kr()?new jc(e,t,n,o,r,i):new Cu(e,t,n,o,r,i)}function zc(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o((function(n){throw e.a==t&&e.reset(),n}))}function Wc(e){e.a.Yb()&&zc(e).o((function(t){var n=new Yo("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));$c(t)&&e.s(n)})),e.a.Ub()||rl(e.b)}function Kc(e,t){Q(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(Uc,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?qc(e.g).then((function(){zc(e).o((function(t){var n=new Yo("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));$c(t)&&e.s(n)}))})):Wc(e)})).o((function(){Wc(e)}))}function Hc(e,t){$(e.h,(function(e){return e==t}))}Vc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Bc(this.D,this.v,this.m,null,this.J),this.i={}},Vc.prototype.s=function(e){if(!e)throw new E("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),t=!0;break}}return rl(this.b),t};var Gc=new $r(2e3,1e4),Qc=new $r(3e4,6e4);function Yc(e,t,n,r,i,o,a){return e.a.Nb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),i,o,a)}function $c(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Xc(e,t,n,r,i){var o;return function(e){return e.b.set(Uc,"pending",e.a)}(e.g).then((function(){return e.a.Ob(t,n,r,i).o((function(t){if($c(t))throw new E("operation-not-supported-in-this-environment");return o=t,qc(e.g).then((function(){throw o}))})).then((function(){return e.a.ac()?new wt((function(){})):qc(e.g).then((function(){return e.ra()})).then((function(){})).o((function(){}))}))}))}function Jc(e,t,n,r,i){return e.a.Pb(r,(function(e){t.na(n,null,e,i)}),Gc.get())}Vc.prototype.ra=function(){return this.b.ra()};var Zc={};function el(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function tl(e,t,n,r){var i=el(t,n,r);return Zc[i]||(Zc[i]=new Vc(e,t,n,r)),Zc[i]}function nl(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function rl(e){e.g||(e.g=!0,al(e,!1,null,null))}function il(e){e.g&&!e.i&&al(e,!1,null,null)}function ol(e,t){if(e.b=function(){return Tt(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function al(e,t,n,r){t?r?function(e,t){if(e.b=function(){return Nt(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):ol(e,n):ol(e,{user:null}),e.f=[],e.c=[]}function sl(){}function ul(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(e){this.jb=e},enumerable:!1})}function cl(e,t){this.a=t,ii(this,"verificationId",e)}function ll(e,t,n,r){return new Ko(e).gb(t,n).then((function(e){return new cl(e,r)}))}function hl(e){var t=Zi(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new E("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");oi(this,{token:e,expirationTime:Jr(1e3*t.exp),authTime:Jr(1e3*t.auth_time),issuedAtTime:Jr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function dl(e,t,n){var r=t&&t[pl];if(!r)throw new E("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=ge(t),this.g=n,this.c=new go(null,r),this.b=[];var i=this;W(t[fl]||[],(function(e){(e=ci(e))&&i.b.push(e)})),ii(this,"auth",this.a),ii(this,"session",this.c),ii(this,"hints",this.b)}nl.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},nl.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(al(this,!0,null,e.a),Tt()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){al(e,s,t,null)})).o((function(t){al(e,s,null,t)}))}(this,e,t):Nt(new E("invalid-auth-event")):(al(this,!1,null,null),Tt())}else Nt(new E("invalid-auth-event"))},nl.prototype.ra=function(){var e=this;return new wt((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new E("timeout");e.a&&e.a.cancel(),e.a=kn(Qc.get()).then((function(){e.b||(e.g=!0,al(e,!0,null,t))}))}(e))}))},sl.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),Tt()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then((function(e){t.na(r,e,null,n)})).o((function(e){t.na(r,null,e,n)}))}(e,t):Nt(new E("invalid-auth-event"))}else Nt(new E("invalid-auth-event"))},cl.prototype.confirm=function(e){return e=Ho(this.verificationId,e),this.a(e)};var fl="mfaInfo",pl="mfaPendingCredential";function gl(e,t,n,r){E.call(this,"multi-factor-auth-required",r,t),this.b=new dl(e,t,n),ii(this,"resolver",this.b)}function vl(e,t,n){if(e&&g(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new gl(t,e.serverResponse,n,e.message)}catch(zn){}return null}function yl(){}function ml(e){ii(this,"factorId",e.fa),this.a=e}function bl(e){if(ml.call(this,e),this.a.fa!=Ko.PROVIDER_ID)throw new E("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function _l(e,t){for(var n in Xt.call(this,e),t)this[n]=t[n]}function wl(e,t){this.a=e,this.b=[],this.c=w(this.yc,this),ln(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&W(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[di]=e.uid),e.displayName&&(r[li]=e.displayName),e.enrollmentTime&&(r[hi]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[fi]=e.phoneNumber);try{t=new pi(r)}catch(i){}e=t}else e=null;e&&n.push(e)})),xl(this,n)}function xl(e,t){e.b=t,ii(e,"enrolledFactors",t)}function Sl(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Il(e,t){e.stop(),e.b=kn(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(e,t)).then((function(){return function(){var e=s.document,t=null;return Xr()||!e?Tt():new wt((function(n){t=function(){Xr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return e.h()})).then((function(){Il(e,!0)})).o((function(t){e.i(t)&&Il(e,!1)}))}function Cl(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function El(e,t){"undefined"===typeof t&&(e.b?t=(t=e.b).a-t.g:t=0),e.c=Date.now()+1e3*t}function kl(e,t){e.b=Ji(t[cs]||""),e.a=t.refreshToken,El(e,"undefined"!==typeof(t=t.expiresIn)?Number(t):void 0)}function Tl(e,t){return function(e,t){return new wt((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?ms(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(vu(e)):e.access_token&&e.refresh_token?n(e):r(new E("internal-error")):r(new E("network-request-failed"))}),"POST",ir(t).toString(),e.g,e.m.get()):r(new E("internal-error"))}))}(e.f,t).then((function(t){return e.b=Ji(t.access_token),e.a=t.refresh_token,El(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}function Nl(e,t){this.a=e||null,this.b=t||null,oi(this,{lastSignInTime:Jr(t||null),creationTime:Jr(e||null)})}function Al(e,t,n,r,i,o){oi(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function Rl(e,t,n){this.N=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var r=Sr.default.SDK_VERSION?Lr(Sr.default.SDK_VERSION):null;this.a=new ss(this.l,j(T),r),(this.u=e.emulatorConfig||null)&&gs(this.a,this.u),this.h=new Cl(this.a),ql(this,t[cs]),kl(this.h,t),ii(this,"refreshToken",this.h.a),zl(this,n||{}),xn.call(this),this.P=!1,this.s&&qr()&&(this.b=tl(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(e){return new Sl((function(){return e.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.h.c-Date.now()-3e5;return 0<t?t:0}))}(this),this.ba=w(this.ib,this);var i=this;this.za=null,this.Pa=function(e){i.xa(e.h)},this.qa=null,this.Ba=function(e){jl(i,e.c)},this.$=null,this.aa=[],this.Oa=function(e){Ol(i,e.f)},this.ja=null,this.S=new wl(this,n),ii(this,"multiFactor",this.S)}function jl(e,t){e.u=t,gs(e.a,t),e.b&&(t=e.b,e.b=tl(e.s,e.l,e.m,e.u),e.P&&(Hc(t,e),Kc(e.b,e)))}function Pl(e,t){e.qa&&fn(e.qa,"languageCodeChanged",e.Pa),(e.qa=t)&&ln(t,"languageCodeChanged",e.Pa)}function Dl(e,t){e.$&&fn(e.$,"emulatorConfigChanged",e.Ba),(e.$=t)&&ln(t,"emulatorConfigChanged",e.Ba)}function Ol(e,t){e.aa=t,ys(e.a,Sr.default.SDK_VERSION?Lr(Sr.default.SDK_VERSION,e.aa):null)}function Ll(e,t){e.ja&&fn(e.ja,"frameworkChanged",e.Oa),(e.ja=t)&&ln(t,"frameworkChanged",e.Oa)}function Ml(e){try{return Sr.default.app(e.m).auth()}catch(Zn){throw new E("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function Fl(e){e.J||e.D.b||(e.D.start(),fn(e,"tokenChanged",e.ba),ln(e,"tokenChanged",e.ba))}function Ul(e){fn(e,"tokenChanged",e.ba),e.D.stop()}function ql(e,t){e.Aa=t,ii(e,"_lat",t)}function Vl(e){for(var t=[],n=0;n<e.W.length;n++)t.push(e.W[n](e));return Rt(t).then((function(){return e}))}function Bl(e){e.b&&!e.P&&(e.P=!0,Kc(e.b,e))}function zl(e,t){oi(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new Nl(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Wl(){}function Kl(e){return Tt().then((function(){if(e.J)throw new E("app-deleted")}))}function Hl(e){return H(e.providerData,(function(e){return e.providerId}))}function Gl(e,t){t&&(Ql(e,t.providerId),e.providerData.push(t))}function Ql(e,t){$(e.providerData,(function(e){return e.providerId==t}))}function Yl(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&ii(e,t,n)}function $l(e,t){e!=t&&(oi(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?ii(e,"metadata",function(e){return new Nl(e.a,e.b)}(t.metadata)):ii(e,"metadata",new Nl),W(t.providerData,(function(t){Gl(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.h,t.h),ii(e,"refreshToken",e.h.a),xl(e.S,t.S.b))}function Xl(e){return e.I().then((function(t){var n=e.isAnonymous;return function(e,t){return pu(e.a,Ks,{idToken:t}).then(w(e.Kc,e))}(e,t).then((function(){return n||Yl(e,"isAnonymous",!1),t}))}))}function Jl(e,t){t[cs]&&e.Aa!=t[cs]&&(kl(e.h,t),e.dispatchEvent(new _l("tokenChanged")),ql(e,t[cs]),Yl(e,"refreshToken",e.h.a))}function Zl(e,t){return Xl(e).then((function(){if(Q(Hl(e),t))return Vl(e).then((function(){throw new E("provider-already-linked")}))}))}function eh(e,t,n){return ai({user:e,credential:Go(t),additionalUserInfo:t=io(t),operationType:n})}function th(e,t){return Jl(e,t),e.reload().then((function(){return e}))}function nh(e,t,n,r,i){if(!qr())return Nt(new E("operation-not-supported-in-this-environment"));if(e.i&&!i)return Nt(e.i);var o=ro(n.providerId),a=Gr(e.uid+":::"),s=null;(!zr()||Tr())&&e.s&&n.isOAuthProvider&&(s=Nu(e.s,e.l,e.m,t,n,null,a,Sr.default.SDK_VERSION||null,null,null,e.tenantId,e.u));var u=xr(s,o&&o.va,o&&o.ua);return r=r().then((function(){if(ih(e),!i)return e.I().then((function(){}))})).then((function(){return Yc(e.b,u,t,n,a,!!s,e.tenantId)})).then((function(){return new wt((function(n,r){e.na(t,null,new E("cancelled-popup-request"),e.g||null),e.f=n,e.C=r,e.g=a,e.c=Jc(e.b,e,t,u,a)}))})).then((function(e){return u&&wr(u),e?ai(e):null})).o((function(e){throw u&&wr(u),e})),oh(e,r,i)}function rh(e,t,n,r,i){if(!qr())return Nt(new E("operation-not-supported-in-this-environment"));if(e.i&&!i)return Nt(e.i);var o=null,a=Gr(e.uid+":::");return r=r().then((function(){if(ih(e),!i)return e.I().then((function(){}))})).then((function(){return e.ga=a,Vl(e)})).then((function(t){return e.ha&&(t=(t=e.ha).b.set(uh,e.w(),t.a)),t})).then((function(){return Xc(e.b,t,n,a,e.tenantId)})).o((function(t){if(o=t,e.ha)return ch(e.ha);throw o})).then((function(){if(o)throw o})),oh(e,r,i)}function ih(e){if(!e.b||!e.P){if(e.b&&!e.P)throw new E("internal-error");throw new E("auth-domain-config-required")}}function oh(e,t,n){var r=function(e,t,n){return e.i&&!n?(t.cancel(),Nt(e.i)):t.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.i||e.dispatchEvent(new _l("userInvalidated")),e.i=t),t}))}(e,t,n);return e.N.push(r),r.oa((function(){Y(e.N,r)})),r.o((function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=vl(t.w(),Ml(e),w(e.jc,e))),n||t}))}function ah(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[cs]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new Rl(t,n,e);return e.providerData&&W(e.providerData,(function(e){e&&Gl(i,ai(e))})),e.redirectEventId&&(i.ga=e.redirectEventId),i}function sh(e){this.a=e,this.b=dc()}dl.prototype.Rc=function(e){var t=this;return e.tb(this.a.a,this.c).then((function(e){var n=ge(t.f);return delete n[fl],delete n[pl],ye(n,e),t.g(n)}))},I(gl,E),yl.prototype.tb=function(e,t,n){return t.type==vo?function(e,t,n,r){return n.Ha().then((function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),ye(n,{phoneVerificationInfo:Wo(e.a)}),pu(t,zs,n)}))}(this,e,t,n):function(e,t,n){return n.Ha().then((function(n){return ye(n={mfaPendingCredential:n},{phoneVerificationInfo:Wo(e.a)}),pu(t,Ws,n)}))}(this,e,t)},I(ml,yl),I(bl,ml),I(_l,Xt),(e=wl.prototype).yc=function(e){xl(this,function(e){var t=[];return W(e.mfaInfo||[],(function(e){(e=ci(e))&&t.push(e)})),t}(e.hd))},e.Sb=function(){return this.a.I().then((function(e){return new go(e,null)}))},e.fc=function(e,t){var n=this,r=this.a.a;return this.Sb().then((function(n){return e.tb(r,n,t)})).then((function(e){return Jl(n.a,e),n.a.reload()}))},e.bd=function(e){var t=this,n="string"===typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return pu(r,fu,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=K(t.b,(function(e){return e.uid!=n}));return xl(t,r),Jl(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},e.w=function(){return{multiFactor:{enrolledFactors:H(this.b,(function(e){return e.w()}))}}},Sl.prototype.start=function(){this.a=this.c,Il(this,!0)},Sl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Cl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},Cl.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Nt(new E("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?Tl(this,{grant_type:"refresh_token",refresh_token:this.a}):Tt(null):Tt({accessToken:this.b.toString(),refreshToken:this.a})},Nl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},I(Rl,xn),Rl.prototype.xa=function(e){this.za=e,ps(this.a,e)},Rl.prototype.la=function(){return this.za},Rl.prototype.Ga=function(){return J(this.aa)},Rl.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},ii(Rl.prototype,"providerId","firebase"),(e=Rl.prototype).reload=function(){var e=this;return oh(this,Kl(this).then((function(){return Xl(e).then((function(){return Vl(e)})).then(Wl)})))},e.oc=function(e){return this.I(e).then((function(e){return new hl(e)}))},e.I=function(e){var t=this;return oh(this,Kl(this).then((function(){return t.h.getToken(e)})).then((function(e){if(!e)throw new E("internal-error");return e.accessToken!=t.Aa&&(ql(t,e.accessToken),t.dispatchEvent(new _l("tokenChanged"))),Yl(t,"refreshToken",e.refreshToken),e.accessToken})))},e.Kc=function(e){if(!(e=e.users)||!e.length)throw new E("internal-error");zl(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?H(e,(function(e){return new Al(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)Gl(this,t[n]);Yl(this,"isAnonymous",!(this.email&&e.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new _l("userReloaded",{hd:e}))},e.Lc=function(e){return ni("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(e)},e.ub=function(e){var t=this,n=null;return oh(this,e.c(this.a,this.uid).then((function(e){return Jl(t,e),n=eh(t,e,"reauthenticate"),t.i=null,t.reload()})).then((function(){return n})),!0)},e.Cc=function(e){return ni("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(e)},e.rb=function(e){var t=this,n=null;return oh(this,Zl(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=eh(t,e,"link"),th(t,e)})).then((function(){return n})))},e.Dc=function(e,t){var n=this;return oh(this,Zl(this,"phone").then((function(){return ll(Ml(n),e,t,w(n.rb,n))})))},e.Mc=function(e,t){var n=this;return oh(this,Tt().then((function(){return ll(Ml(n),e,t,w(n.ub,n))})),!0)},e.Cb=function(e){var t=this;return oh(this,this.I().then((function(n){return t.a.Cb(n,e)})).then((function(e){return Jl(t,e),t.reload()})))},e.ed=function(e){var t=this;return oh(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return Jl(t,e),t.reload()})))},e.Db=function(e){var t=this;return oh(this,this.I().then((function(n){return t.a.Db(n,e)})).then((function(e){return Jl(t,e),t.reload()})))},e.Eb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Kl(this);var t=this;return oh(this,this.I().then((function(n){return t.a.Eb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return Jl(t,e),Yl(t,"displayName",e.displayName||null),Yl(t,"photoURL",e.photoUrl||null),W(t.providerData,(function(e){"password"===e.providerId&&(ii(e,"displayName",t.displayName),ii(e,"photoURL",t.photoURL))})),Vl(t)})).then(Wl))},e.cd=function(e){var t=this;return oh(this,Xl(this).then((function(n){return Q(Hl(t),e)?function(e,t,n){return pu(e,qs,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return W(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),W(Hl(t),(function(e){n[e]||Ql(t,e)})),n[Ko.PROVIDER_ID]||ii(t,"phoneNumber",null),Vl(t)})):Vl(t).then((function(){throw new E("no-such-provider")}))})))},e.delete=function(){var e=this;return oh(this,this.I().then((function(t){return pu(e.a,Us,{idToken:t})})).then((function(){e.dispatchEvent(new _l("userDeleted"))}))).then((function(){for(var t=0;t<e.N.length;t++)e.N[t].cancel("app-deleted");Pl(e,null),Dl(e,null),Ll(e,null),e.N=[],e.J=!0,Ul(e),ii(e,"refreshToken",null),e.b&&Hc(e.b,e)}))},e.Gb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},e.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?w(this.Lb,this):"reauthViaPopup"==e&&t==(this.g||null)?w(this.Mb,this):"linkViaRedirect"==e&&(this.ga||null)==t?w(this.Lb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?w(this.Mb,this):null},e.Ec=function(e){var t=this;return nh(this,"linkViaPopup",e,(function(){return Zl(t,e.providerId).then((function(){return Vl(t)}))}),!1)},e.Nc=function(e){return nh(this,"reauthViaPopup",e,(function(){return Tt()}),!0)},e.Fc=function(e){var t=this;return rh(this,"linkViaRedirect",e,(function(){return Zl(t,e.providerId)}),!1)},e.Oc=function(e){return rh(this,"reauthViaRedirect",e,(function(){return Tt()}),!0)},e.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return n=this.I().then((function(n){return js(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=eh(i,e,"link"),th(i,e)})).then((function(){return o})),oh(this,n)},e.Mb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null,a=Tt().then((function(){return bo(Ps(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=eh(i,e,"reauthenticate"),Jl(i,e),i.i=null,i.reload()})).then((function(){return o}));return oh(this,a,!0)},e.vb=function(e){var t=this,n=null;return oh(this,this.I().then((function(t){return n=t,"undefined"===typeof e||pe(e)?{}:Qi(new Fi(e))})).then((function(e){return t.a.vb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.Fb=function(e,t){var n=this,r=null;return oh(this,this.I().then((function(e){return r=e,"undefined"===typeof t||pe(t)?{}:Qi(new Fi(t))})).then((function(t){return n.a.Fb(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},e.jc=function(e){var t=null,n=this;return e=bo(Tt(e),n.uid).then((function(e){return t=eh(n,e,"reauthenticate"),Jl(n,e),n.i=null,n.reload()})).then((function(){return t})),oh(this,e,!0)},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&ye(e,this.metadata.w()),W(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),ye(e,this.S.w()),e};var uh={name:"redirectUser",F:"session"};function ch(e){return gc(e.b,uh,e.a)}function lh(e){this.a=e,this.b=dc(),this.c=null,this.f=function(e){var t=fh("local"),n=fh("session"),r=fh("none");return function(e,t,n){var r=pc(t,n),i=fc(e,t.F);return e.get(t,n).then((function(o){var a=null;try{a=Hr(s.localStorage.getItem(r))}catch(Gn){}if(a&&!o)return s.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(dh,e.a).then((function(e){return e?fh(e):t}))}))}))})).then((function(t){return e.c=t,hh(e,t.F)})).o((function(){e.c||(e.c=t)}))}(this),this.b.addListener(fh("local"),this.a,w(this.g,this))}function hh(e,t){var n,r=[];for(n in lc)lc[n]!==t&&r.push(gc(e.b,fh(lc[n]),e.a));return r.push(gc(e.b,dh,e.a)),function(e){return new wt((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0;s<e.length;s++)At(e[s],x(o,s),a);else t(i)}))}(r)}lh.prototype.g=function(){var e=this,t=fh("local");yh(this,(function(){return Tt().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return hh(e,"local").then((function(){e.c=t}))}))}))};var dh={name:"persistence",F:"session"};function fh(e){return{name:"authUser",F:e}}function ph(e,t){return yh(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function gh(e){return yh(e,(function(){return gc(e.b,e.c,e.a)}))}function vh(e,t,n){return yh(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),ah(e||{})}))}))}function yh(e,t){return e.f=e.f.then(t,t),e.f}function mh(e){if(this.l=!1,ii(this,"settings",new ul),ii(this,"app",e),!kh(this).options||!kh(this).options.apiKey)throw new E("invalid-api-key");e=Sr.default.SDK_VERSION?Lr(Sr.default.SDK_VERSION):null,this.a=new ss(kh(this).options&&kh(this).options.apiKey,j(T),e),this.P=[],this.s=[],this.N=[],this.Pa=Sr.default.INTERNAL.createSubscribe(w(this.zc,this)),this.W=void 0,this.ib=Sr.default.INTERNAL.createSubscribe(w(this.Ac,this)),Ch(this,null),this.i=new lh(kh(this).options.apiKey+":"+kh(this).name),this.D=new sh(kh(this).options.apiKey+":"+kh(this).name),this.$=Rh(this,function(e){var t=kh(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(uh,e.a).then((function(e){return e&&t&&(e.authDomain=t),ah(e||{})}))}(e.D,kh(e).options.authDomain).then((function(t){return(e.m=t)&&(t.ha=e.D),ch(e.D)}));return Rh(e,t)}(e).then((function(){return vh(e.i,t,e.R)})).then((function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then((function(){return ph(e.i,t).then((function(){return t}))})).o((function(n){return"auth/network-request-failed"==n.code?t:gh(e.i)}))):null})).then((function(t){Ch(e,t||null)}));return Rh(e,n)}(this)),this.h=Rh(this,function(e){return e.$.then((function(){return Sh(e)})).o((function(){})).then((function(){if(!e.l)return e.ja()})).o((function(){})).then((function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener(fh("local"),t.a,e.ja)}}))}(this)),this.ba=!1,this.ja=w(this.Zc,this),this.Ba=w(this.da,this),this.qa=w(this.mc,this),this.za=w(this.wc,this),this.Aa=w(this.xc,this),this.b=null,function(e){var t=kh(e).options.authDomain,n=kh(e).options.apiKey;t&&qr()&&(e.Oa=e.$.then((function(){if(!e.l){if(e.b=tl(t,n,kh(e).name,e.R),Kc(e.b,e),Th(e)&&Bl(Th(e)),e.m){Bl(e.m);var r=e.m;r.xa(e.la()),Pl(r,e),Ol(r=e.m,e.J),Ll(r,e),jl(r=e.m,e.R),Dl(r,e),e.m=null}return e.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=w(this.delete,this),this.INTERNAL.logFramework=w(this.Gc,this),this.u=0,xn.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.xa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.zb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.R){var e=qn(this.R.url);e=ai({protocol:e.c,host:e.a,port:e.g,options:ai({disableWarnings:this.R.ec})})}else e=null;return e},enumerable:!1})}(this),this.J=[],this.R=null}function bh(e){Xt.call(this,"languageCodeChanged"),this.h=e}function _h(e){Xt.call(this,"emulatorConfigChanged"),this.c=e}function wh(e){Xt.call(this,"frameworkChanged"),this.f=e}function xh(e){return e.Oa||Nt(new E("auth-domain-config-required"))}function Sh(e){if(!qr())return Nt(new E("operation-not-supported-in-this-environment"));var t=xh(e).then((function(){return e.b.ra()})).then((function(e){return e?ai(e):null}));return Rh(e,t)}function Ih(e,t){var n={};return n.apiKey=kh(e).options.apiKey,n.authDomain=kh(e).options.authDomain,n.appName=kh(e).name,e.R&&(n.emulatorConfig=e.R),e.$.then((function(){return function(e,t,n,r){var i=new Rl(e,t);return n&&(i.ha=n),r&&Ol(i,r),i.reload().then((function(){return i}))}(n,t,e.D,e.Ga())})).then((function(t){return Th(e)&&t.uid==Th(e).uid?($l(Th(e),t),e.da(t)):(Ch(e,t),Bl(t),e.da(t))})).then((function(){Ah(e)}))}function Ch(e,t){Th(e)&&(function(e,t){$(e.W,(function(e){return e==t}))}(Th(e),e.Ba),fn(Th(e),"tokenChanged",e.qa),fn(Th(e),"userDeleted",e.za),fn(Th(e),"userInvalidated",e.Aa),Ul(Th(e))),t&&(t.W.push(e.Ba),ln(t,"tokenChanged",e.qa),ln(t,"userDeleted",e.za),ln(t,"userInvalidated",e.Aa),0<e.u&&Fl(t)),ii(e,"currentUser",t),t&&(t.xa(e.la()),Pl(t,e),Ol(t,e.J),Ll(t,e),jl(t,e.R),Dl(t,e))}function Eh(e,t){var n=null,r=null;return Rh(e,t.then((function(t){return n=Go(t),r=io(t),Ih(e,t)}),(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=vl(t.w(),e,w(e.kc,e))),n||t})).then((function(){return ai({user:Th(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function kh(e){return e.app}function Th(e){return e.currentUser}function Nh(e){return Th(e)&&Th(e)._lat||null}function Ah(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](Nh(e));if(e.W!==e.getUid()&&e.N.length)for(e.W=e.getUid(),t=0;t<e.N.length;t++)e.N[t]&&e.N[t](Nh(e))}}function Rh(e,t){return e.P.push(t),t.oa((function(){Y(e.P,t)})),t}function jh(){}function Ph(){this.a={},this.b=1e12}lh.prototype.yb=function(e){var t=null,n=this;return function(e){var t=new E("invalid-persistence-type"),n=new E("unsupported-persistence-type");e:{for(r in lc)if(lc[r]==e){var r=!0;break e}r=!1}if(!r||"string"!==typeof e)throw t;switch(Ar()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!zu()&&"none"!==e)throw n;break;default:if(!Ur()&&"none"!==e)throw n}}(e),yh(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(r){return t=r,hh(n,e)})).then((function(){if(n.c=fh(e),t)return n.b.set(n.c,t,n.a)})):Tt()}))},I(mh,xn),I(bh,Xt),I(_h,Xt),I(wh,Xt),(e=mh.prototype).yb=function(e){return Rh(this,e=this.i.yb(e))},e.xa=function(e){this.aa===e||this.l||(this.aa=e,ps(this.a,this.aa),this.dispatchEvent(new bh(this.la())))},e.la=function(){return this.aa},e.fd=function(){var e=s.navigator;this.xa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.gd=function(e,t){if(!this.R){if(!/^https?:\/\//.test(e))throw new E("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(e){"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!e&&Er().then((function(){var e=s.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#b50000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),s.document.body.appendChild(e)}))})(t=!!t&&!!t.disableWarnings),this.R={url:e,ec:t},this.settings.jb=!0,gs(this.a,this.R),this.dispatchEvent(new _h(this.R))}},e.Gc=function(e){this.J.push(e),ys(this.a,Sr.default.SDK_VERSION?Lr(Sr.default.SDK_VERSION,this.J):null),this.dispatchEvent(new wh(this.J))},e.Ga=function(){return J(this.J)},e.zb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},e.T=function(){return this.S},e.toJSON=function(){return{apiKey:kh(this).options.apiKey,authDomain:kh(this).options.authDomain,appName:kh(this).name,currentUser:Th(this)&&Th(this).w()}},e.Gb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?w(this.ic,this):null},e.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return Eh(i,Rs(i.a,o))}))},e.Xc=function(e){if(!qr())return Nt(new E("operation-not-supported-in-this-environment"));var t=this,n=ro(e.providerId),r=Gr(),i=null;(!zr()||Tr())&&kh(this).options.authDomain&&e.isOAuthProvider&&(i=Nu(kh(this).options.authDomain,kh(this).options.apiKey,kh(this).name,"signInViaPopup",e,null,r,Sr.default.SDK_VERSION||null,null,null,this.T(),this.R));var o=xr(i,n&&n.va,n&&n.ua);return n=xh(this).then((function(n){return Yc(n,o,"signInViaPopup",e,r,!!i,t.T())})).then((function(){return new wt((function(e,n){t.na("signInViaPopup",null,new E("cancelled-popup-request"),t.g),t.f=e,t.C=n,t.g=r,t.c=Jc(t.b,t,"signInViaPopup",o,r)}))})).then((function(e){return o&&wr(o),e?ai(e):null})).o((function(e){throw o&&wr(o),e})),Rh(this,n)},e.Yc=function(e){if(!qr())return Nt(new E("operation-not-supported-in-this-environment"));var t=this,n=xh(this).then((function(){return function(e){return yh(e,(function(){return e.b.set(dh,e.c.F,e.a)}))}(t.i)})).then((function(){return Xc(t.b,"signInViaRedirect",e,void 0,t.T())}));return Rh(this,n)},e.ra=function(){var e=this;return Sh(this).then((function(t){return e.b&&il(e.b.b),t})).o((function(t){throw e.b&&il(e.b.b),t}))},e.dd=function(e){if(!e)return Nt(new E("null-user"));if(this.S!=e.tenantId)return Nt(new E("tenant-id-mismatch"));var t=this,n={};n.apiKey=kh(this).options.apiKey,n.authDomain=kh(this).options.authDomain,n.appName=kh(this).name;var r=function(e,t,n,r){var i=e.h,o={};return o[cs]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new Rl(t||{apiKey:e.l,authDomain:e.s,appName:e.m},o),n&&(t.ha=n),r&&Ol(t,r),$l(t,e),t}(e,n,t.D,t.Ga());return Rh(this,this.h.then((function(){if(kh(t).options.apiKey!=e.l)return r.reload()})).then((function(){return Th(t)&&e.uid==Th(t).uid?($l(Th(t),e),t.da(e)):(Ch(t,r),Bl(r),t.da(r))})).then((function(){Ah(t)})))},e.Bb=function(){var e=this;return Rh(this,this.h.then((function(){return e.b&&il(e.b.b),Th(e)?(Ch(e,null),gh(e.i).then((function(){Ah(e)}))):Tt()})))},e.Zc=function(){var e=this;return vh(this.i,kh(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=Th(e)&&t){n=Th(e).uid;var r=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return $l(Th(e),t),Th(e).I();(Th(e)||t)&&(Ch(e,t),t&&(Bl(t),t.ha=e.D),e.b&&Kc(e.b,e),Ah(e))}}))},e.da=function(e){return ph(this.i,e)},e.mc=function(){Ah(this),this.da(Th(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()},e.kc=function(e){var t=this;return this.h.then((function(){return Eh(t,Tt(e))}))},e.zc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(Th(t))}))},e.Ac=function(e){var t=this;!function(e,t){e.N.push(t),Rh(e,e.h.then((function(){!e.l&&Q(e.N,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(Nh(e)))})))}(this,(function(){e.next(Th(t))}))},e.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"===typeof e?e(Th(r)):"function"===typeof e.next&&e.next(Th(r))})),this.Pa(e,t,n)},e.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"===typeof e?e(Th(r)):"function"===typeof e.next&&e.next(Th(r))})),this.ib(e,t,n)},e.nc=function(e){var t=this,n=this.h.then((function(){return Th(t)?Th(t).I(e).then((function(e){return{accessToken:e}})):null}));return Rh(this,n)},e.Tc=function(e){var t=this;return this.h.then((function(){return Eh(t,pu(t.a,uu,{token:e}))})).then((function(e){var n=e.user;return Yl(n,"isAnonymous",!1),t.da(n),e}))},e.Uc=function(e,t){var n=this;return this.h.then((function(){return Eh(n,pu(n.a,cu,{email:e,password:t}))}))},e.dc=function(e,t){var n=this;return this.h.then((function(){return Eh(n,pu(n.a,Ms,{email:e,password:t}))}))},e.ab=function(e){var t=this;return this.h.then((function(){return Eh(t,e.ka(t.a))}))},e.Sc=function(e){return ni("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(e)},e.Ab=function(){var e=this;return this.h.then((function(){var t=Th(e);if(t&&t.isAnonymous){var n=ai({providerId:null,isNewUser:!1});return ai({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Eh(e,e.a.Ab()).then((function(t){var n=t.user;return Yl(n,"isAnonymous",!0),e.da(n),t}))}))},e.getUid=function(){return Th(this)&&Th(this).uid||null},e.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&Th(this)&&Fl(Th(this))},e.Pc=function(e){var t=this;W(this.s,(function(n){n==e&&t.u--})),0>this.u&&(this.u=0),0==this.u&&Th(this)&&Ul(Th(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.s.push(e),Rh(this,this.h.then((function(){t.l||Q(t.s,e)&&e(Nh(t))})))},e.removeAuthTokenListener=function(e){$(this.s,(function(t){return t==e}))},e.delete=function(){this.l=!0;for(var e=0;e<this.P.length;e++)this.P[e].cancel("app-deleted");return this.P=[],this.i&&(e=this.i).b.removeListener(fh("local"),e.a,this.ja),this.b&&(Hc(this.b,this),il(this.b.b)),Promise.resolve()},e.hc=function(e){return Rh(this,function(e,t){return pu(e,Fs,{identifier:t,continueUri:Vr()?yr():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.a,e))},e.Bc=function(e){return!!Vo(e)},e.xb=function(e,t){var n=this;return Rh(this,Tt().then((function(){var e=new Fi(t);if(!e.c)throw new E("argument-error",Vi+" must be true when sending sign in link to email");return Qi(e)})).then((function(t){return n.a.xb(e,t)})).then((function(){})))},e.jd=function(e){return this.Sa(e).then((function(e){return e.data.email}))},e.ob=function(e,t){return Rh(this,this.a.ob(e,t).then((function(){})))},e.Sa=function(e){return Rh(this,this.a.Sa(e).then((function(e){return new gi(e)})))},e.kb=function(e){return Rh(this,this.a.kb(e).then((function(){})))},e.wb=function(e,t){var n=this;return Rh(this,Tt().then((function(){return"undefined"===typeof t||pe(t)?{}:Qi(new Fi(t))})).then((function(t){return n.a.wb(e,t)})).then((function(){})))},e.Wc=function(e,t){return Rh(this,ll(this,e,t,w(this.ab,this)))},e.Vc=function(e,t){var n=this;return Rh(this,Tt().then((function(){var r=t||yr(),i=qo(e,r);if(!(r=Vo(r)))throw new E("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new E("tenant-id-mismatch");return n.ab(i)})))},jh.prototype.render=function(){},jh.prototype.reset=function(){},jh.prototype.getResponse=function(){},jh.prototype.execute=function(){};var Dh=null;function Oh(e,t){return(t=Lh(t))&&e.a[t]||null}function Lh(e){return(e="undefined"===typeof e?1e12:e)?e.toString():null}function Mh(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ct(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():ln(this.f,"click",this.i)}function Fh(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Uh(){}function qh(){}Ph.prototype.render=function(e,t){return this.a[this.b.toString()]=new Mh(e,t),this.b++},Ph.prototype.reset=function(e){var t=Oh(this,e);e=Lh(e),t&&e&&(t.delete(),delete this.a[e])},Ph.prototype.getResponse=function(e){return(e=Oh(this,e))?e.getResponse():null},Ph.prototype.execute=function(e){(e=Oh(this,e))&&e.execute()},Mh.prototype.getResponse=function(){return Fh(this),this.b},Mh.prototype.execute=function(){Fh(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(zn){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(zn){}e.h&&e.execute()}),6e4)}),500))},Mh.prototype.delete=function(){Fh(this),this.g=!0,clearTimeout(this.a),this.a=null,fn(this.f,"click",this.i)},ii(Uh,"FACTOR_ID","phone"),qh.prototype.g=function(){return Dh||(Dh=new Ph),Tt(Dh)},qh.prototype.c=function(){};var Vh=null;function Bh(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var zh=new be(Se,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Wh=new $r(3e4,6e4);Bh.prototype.g=function(e){var t=this;return new wt((function(n,r){var i=setTimeout((function(){r(new E("network-request-failed"))}),Wh.get());!s.grecaptcha||e!==t.f&&!t.b?(s[t.a]=function(){if(s.grecaptcha){t.f=e;var o=s.grecaptcha.render;s.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new E("internal-error"));delete s[t.a]},Tt(Za(ke(zh,{onload:t.a,hl:e||""}))).o((function(){clearTimeout(i),r(new E("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},Bh.prototype.c=function(){this.b--};var Kh=null;function Hh(e,t,n,r,i,o,a){if(ii(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=t,this.g=null,a?(Vh||(Vh=new qh),a=Vh):(Kh||(Kh=new Bh),a=Kh),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Yh])throw new E("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[$h],!s.document)throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ct(t)||!this.i&&ct(t).hasChildNodes())throw new E("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new ss(e,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Gh];this.a[Gh]=function(e){if(Xh(u,e),"function"===typeof c)c(e);else if("string"===typeof c){var t=Fr(c,s);"function"===typeof t&&t(e)}};var l=this.a[Qh];this.a[Qh]=function(){if(Xh(u,null),"function"===typeof l)l();else if("string"===typeof l){var e=Fr(l,s);"function"===typeof e&&e()}}}var Gh="callback",Qh="expired-callback",Yh="sitekey",$h="size";function Xh(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(zn){}}function Jh(e,t){return e.h.push(t),t.oa((function(){Y(e.h,t)})),t}function Zh(e){if(e.J)throw new E("internal-error","RecaptchaVerifier instance has been destroyed.")}function ed(e,t,n){var r=!1;try{this.b=n||Sr.default.app()}catch(a){throw new E("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new E("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(a){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}o=Sr.default.SDK_VERSION?Lr(Sr.default.SDK_VERSION,o):null,Hh.call(this,n,e,t,(function(){try{var e=i.b.auth().la()}catch(Gn){e=null}return e}),o,j(T),r)}function td(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new E("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=nd.length)throw new E("internal-error","Argument validator received an unsupported number of arguments.");n=nd[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new E("argument-error",e+" failed: "+r)}(e=Hh.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=Jh(this,Tt().then((function(){if(Vr()&&!Nr())return Er();throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.u())})).then((function(t){return e.g=t,pu(e.s,Xs,{})})).then((function(t){e.a[Yh]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t})))},e.render=function(){Zh(this);var e=this;return Jh(this,this.Ia().then((function(){if(null===e.c){var t=e.v;if(!e.i){var n=ct(t);t=pt("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},e.verify=function(){Zh(this);var e=this;return Jh(this,this.render().then((function(t){return new wt((function(n){var r=e.g.getResponse(t);if(r)n(r);else{var i=function(t){t&&(function(e,t){$(e.l,(function(e){return e==t}))}(e,i),n(t))};e.l.push(i),e.i&&e.g.execute(e.c)}}))})))},e.reset=function(){Zh(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Zh(this),this.J=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=ct(this.v);for(var t;t=e.firstChild;)e.removeChild(t)}},I(ed,Hh);var nd="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function rd(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"===typeof e}}}function id(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"===typeof e}}}function od(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:g}}function ad(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"===typeof e}}}function sd(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function ud(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function cd(e,t){return g(e)&&"string"===typeof e.type&&e.type===t&&"function"===typeof e.Ha}function ld(e){return g(e)&&"string"===typeof e.uid}function hd(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function dd(e,t){for(var n in t){var r=t[n].name;e[r]=gd(r,e[n],t[n].j)}}function fd(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:x((function(e){return this[e]}),n),set:x((function(e,t,n,r){td(e,[n],[r],!0),this[t]=r}),r,n,t[n].lb),enumerable:!0})}}function pd(e,t,n,r){e[t]=gd(t,n,r)}function gd(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return td(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return e=e.split("."),e[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}dd(mh.prototype,{kb:{name:"applyActionCode",j:[rd("code")]},Sa:{name:"checkActionCode",j:[rd("code")]},ob:{name:"confirmPasswordReset",j:[rd("code"),rd("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[rd("email"),rd("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[rd("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[rd("emailLink")]},Hc:{name:"onAuthStateChanged",j:[hd(od(),ad(),"nextOrObserver"),ad("opt_error",!0),ad("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[hd(od(),ad(),"nextOrObserver"),ad("opt_error",!0),ad("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[rd("email"),hd(od("opt_actionCodeSettings",!0),sd(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[rd("email"),od("actionCodeSettings")]},yb:{name:"setPersistence",j:[rd("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[ud()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[ud()]},Tc:{name:"signInWithCustomToken",j:[rd("token")]},Uc:{name:"signInWithEmailAndPassword",j:[rd("email"),rd("password")]},Vc:{name:"signInWithEmailLink",j:[rd("email"),rd("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[rd("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[hd({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof Rl)}},sd(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[rd(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[rd("url"),od("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[rd("code")]}}),fd(mh.prototype,{lc:{name:"languageCode",lb:hd(rd(),sd(),"languageCode")},ti:{name:"tenantId",lb:hd(rd(),sd(),"tenantId")}}),mh.Persistence=lc,mh.Persistence.LOCAL="local",mh.Persistence.SESSION="session",mh.Persistence.NONE="none",dd(Rl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[id("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[id("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[ud()]},rb:{name:"linkWithCredential",j:[ud()]},Dc:{name:"linkWithPhoneNumber",j:[rd("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[ud()]},ub:{name:"reauthenticateWithCredential",j:[ud()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[rd("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[hd(od("opt_actionCodeSettings",!0),sd(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[rd(null,!0)]},cd:{name:"unlink",j:[rd("provider")]},Cb:{name:"updateEmail",j:[rd("email")]},Db:{name:"updatePassword",j:[rd("password")]},ed:{name:"updatePhoneNumber",j:[ud("phone")]},Eb:{name:"updateProfile",j:[od("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[rd("email"),hd(od("opt_actionCodeSettings",!0),sd(null,!0),"opt_actionCodeSettings",!0)]}}),dd(Ph.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),dd(jh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),dd(wt.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),fd(ul.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:id("appVerificationDisabledForTesting")}}),dd(cl.prototype,{confirm:{name:"confirm",j:[rd("verificationCode")]}}),pd(mo,"fromJSON",(function(e){e="string"===typeof e?JSON.parse(e):e;for(var t,n=[Co,Fo,zo,xo],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[hd(rd(),od(),"json")]),pd(Uo,"credential",(function(e,t){return new Mo(e,t)}),[rd("email"),rd("password")]),dd(Mo.prototype,{w:{name:"toJSON",j:[rd(null,!0)]}}),dd(No.prototype,{Ca:{name:"addScope",j:[rd("scope")]},Ka:{name:"setCustomParameters",j:[od("customOAuthParameters")]}}),pd(No,"credential",Ao,[hd(rd(),od(),"token")]),pd(Uo,"credentialWithLink",qo,[rd("email"),rd("emailLink")]),dd(Ro.prototype,{Ca:{name:"addScope",j:[rd("scope")]},Ka:{name:"setCustomParameters",j:[od("customOAuthParameters")]}}),pd(Ro,"credential",jo,[hd(rd(),od(),"token")]),dd(Po.prototype,{Ca:{name:"addScope",j:[rd("scope")]},Ka:{name:"setCustomParameters",j:[od("customOAuthParameters")]}}),pd(Po,"credential",Do,[hd(rd(),hd(od(),sd()),"idToken"),hd(rd(),sd(),"accessToken",!0)]),dd(Oo.prototype,{Ka:{name:"setCustomParameters",j:[od("customOAuthParameters")]}}),pd(Oo,"credential",Lo,[hd(rd(),od(),"token"),rd("secret",!0)]),dd(To.prototype,{Ca:{name:"addScope",j:[rd("scope")]},credential:{name:"credential",j:[hd(rd(),hd(od(),sd()),"optionsOrIdToken"),hd(rd(),sd(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[od("customOAuthParameters")]}}),dd(So.prototype,{w:{name:"toJSON",j:[rd(null,!0)]}}),dd(_o.prototype,{w:{name:"toJSON",j:[rd(null,!0)]}}),pd(Ko,"credential",Ho,[rd("verificationId"),rd("verificationCode")]),dd(Ko.prototype,{gb:{name:"verifyPhoneNumber",j:[hd(rd(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?cd(e.session,vo)&&"string"===typeof e.phoneNumber:e.session&&e.multiFactorHint?cd(e.session,yo)&&ld(e.multiFactorHint):e.session&&e.multiFactorUid?cd(e.session,yo)&&"string"===typeof e.multiFactorUid:!!e.phoneNumber&&"string"===typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]}}),dd(Bo.prototype,{w:{name:"toJSON",j:[rd(null,!0)]}}),dd(E.prototype,{toJSON:{name:"toJSON",j:[rd(null,!0)]}}),dd(ta.prototype,{toJSON:{name:"toJSON",j:[rd(null,!0)]}}),dd(ea.prototype,{toJSON:{name:"toJSON",j:[rd(null,!0)]}}),dd(gl.prototype,{toJSON:{name:"toJSON",j:[rd(null,!0)]}}),dd(dl.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}}]}}),dd(wl.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}},rd("displayName",!0)]},bd:{name:"unenroll",j:[hd({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:ld},rd(),"multiFactorInfoIdentifier")]}}),dd(ed.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),pd(Ni,"parseLink",Mi,[rd("link")]),pd(Uh,"assertion",(function(e){return new bl(e)}),[ud("phone")]),function(){if("undefined"===typeof Sr.default||!Sr.default.INTERNAL||!Sr.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:yi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:vi,VERIFY_AND_CHANGE_EMAIL:mi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:mh,AuthCredential:mo,Error:E};pd(e,"EmailAuthProvider",Uo,[]),pd(e,"FacebookAuthProvider",No,[]),pd(e,"GithubAuthProvider",Ro,[]),pd(e,"GoogleAuthProvider",Po,[]),pd(e,"TwitterAuthProvider",Oo,[]),pd(e,"OAuthProvider",To,[rd("providerId")]),pd(e,"SAMLAuthProvider",ko,[rd("providerId")]),pd(e,"PhoneAuthProvider",Ko,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof mh)}}]),pd(e,"RecaptchaVerifier",ed,[hd(rd(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),od("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof Sr.default.app.App)}}]),pd(e,"ActionCodeURL",Ni,[]),pd(e,"PhoneMultiFactorGenerator",Uh,[]),Sr.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new mh(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(e){e.getProvider("auth-internal").initialize()}}),Sr.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:w((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:w(e.nc,e),addAuthTokenListener:w(e.cc,e),removeAuthTokenListener:w(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Sr.default.registerVersion("@firebase/auth","0.16.8"),Sr.default.INTERNAL.extendNamespace({User:Rl})}()}).apply("undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});n(668);var Ir=n(827),Cr=n(567),Er=n(227),kr=function(e,t){return kr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},kr(e,t)};function Tr(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var Nr,Ar="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Rr=Rr||{},jr=Ar||self;function Pr(){}function Dr(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Or(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Lr="closure_uid_"+(1e9*Math.random()>>>0),Mr=0;function Fr(e,t,n){return e.call.apply(e.bind,arguments)}function Ur(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function qr(e,t,n){return(qr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Fr:Ur).apply(null,arguments)}function Vr(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Br(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function zr(){this.s=this.s,this.o=this.o}var Wr={};zr.prototype.s=!1,zr.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Lr)&&e[Lr]||(e[Lr]=++Mr)}(this);delete Wr[e]}},zr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Kr=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Hr=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function Gr(e){return Array.prototype.concat.apply([],arguments)}function Qr(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Yr(e){return/^[\s\xa0]*$/.test(e)}var $r,Xr=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Jr(e,t){return-1!=e.indexOf(t)}function Zr(e,t){return e<t?-1:e>t?1:0}e:{var ei=jr.navigator;if(ei){var ti=ei.userAgent;if(ti){$r=ti;break e}}$r=""}function ni(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function ri(e){var t={};for(var n in e)t[n]=e[n];return t}var ii="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oi(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<ii.length;o++)n=ii[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ai(e){return ai[" "](e),e}ai[" "]=Pr;var si,ui=Jr($r,"Opera"),ci=Jr($r,"Trident")||Jr($r,"MSIE"),li=Jr($r,"Edge"),hi=li||ci,di=Jr($r,"Gecko")&&!(Jr($r.toLowerCase(),"webkit")&&!Jr($r,"Edge"))&&!(Jr($r,"Trident")||Jr($r,"MSIE"))&&!Jr($r,"Edge"),fi=Jr($r.toLowerCase(),"webkit")&&!Jr($r,"Edge");function pi(){var e=jr.document;return e?e.documentMode:void 0}e:{var gi="",vi=function(){var e=$r;return di?/rv:([^\);]+)(\)|;)/.exec(e):li?/Edge\/([\d\.]+)/.exec(e):ci?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):fi?/WebKit\/(\S+)/.exec(e):ui?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(vi&&(gi=vi?vi[1]:""),ci){var yi=pi();if(null!=yi&&yi>parseFloat(gi)){si=String(yi);break e}}si=gi}var mi,bi={};function _i(){return function(e){var t=bi;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Xr(String(si)).split("."),n=Xr("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=Zr(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Zr(0==o[2].length,0==a[2].length)||Zr(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}if(jr.document&&ci){var wi=pi();mi=wi||(parseInt(si,10)||void 0)}else mi=void 0;var xi=mi,Si=function(){if(!jr.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{jr.addEventListener("test",Pr,t),jr.removeEventListener("test",Pr,t)}catch(n){}return e}();function Ii(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Ci(e,t){if(Ii.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(di){e:{try{ai(t.nodeName);var i=!0;break e}catch(Hn){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Ei[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ci.Z.h.call(this)}}Ii.prototype.h=function(){this.defaultPrevented=!0},Br(Ci,Ii);var Ei={2:"touch",3:"pen",4:"mouse"};Ci.prototype.h=function(){Ci.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ki="closure_listenable_"+(1e6*Math.random()|0),Ti=0;function Ni(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Ti,this.ca=this.fa=!1}function Ai(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Ri(e){this.src=e,this.g={},this.h=0}function ji(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Kr(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Ai(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Pi(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}Ri.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=Pi(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new Ni(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var Di="closure_lm_"+(1e6*Math.random()|0),Oi={};function Li(e,t,n,r,i){if(r&&r.once)return Fi(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Li(e,t[o],n,r,i);return null}return n=Ki(n),e&&e[ki]?e.N(t,n,Or(r)?!!r.capture:!!r,i):Mi(e,t,n,!1,r,i)}function Mi(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=Or(i)?!!i.capture:!!i,s=zi(e);if(s||(e[Di]=s=new Ri(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Bi;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Si||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Vi(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Fi(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Fi(e,t[o],n,r,i);return null}return n=Ki(n),e&&e[ki]?e.O(t,n,Or(r)?!!r.capture:!!r,i):Mi(e,t,n,!0,r,i)}function Ui(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Ui(e,t[o],n,r,i);else r=Or(r)?!!r.capture:!!r,n=Ki(n),e&&e[ki]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Pi(o=e.g[t],n,r,i))&&(Ai(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=zi(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Pi(t,n,r,i)),(n=-1<e?t[e]:null)&&qi(n))}function qi(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[ki])ji(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Vi(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=zi(t))?(ji(n,e),0==n.h&&(n.src=null,t[Di]=null)):Ai(e)}}}function Vi(e){return e in Oi?Oi[e]:Oi[e]="on"+e}function Bi(e,t){if(e.ca)e=!0;else{t=new Ci(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&qi(e),e=n.call(r,t)}return e}function zi(e){return(e=e[Di])instanceof Ri?e:null}var Wi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ki(e){return"function"===typeof e?e:(e[Wi]||(e[Wi]=function(t){return e.handleEvent(t)}),e[Wi])}function Hi(){zr.call(this),this.i=new Ri(this),this.P=this,this.I=null}function Gi(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Ii(t,e);else if(t instanceof Ii)t.target=t.target||e;else{var i=t;oi(t=new Ii(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=Qi(a,r,!0,t)&&i}if(i=Qi(a=t.g=e,r,!0,t)&&i,i=Qi(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Qi(a=t.g=n[o],r,!1,t)&&i}function Qi(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&ji(e.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Br(Hi,zr),Hi.prototype[ki]=!0,Hi.prototype.removeEventListener=function(e,t,n,r){Ui(this,e,t,n,r)},Hi.prototype.M=function(){if(Hi.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ai(n[r]);delete t.g[e],t.h--}}this.I=null},Hi.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Hi.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Yi=jr.JSON.stringify;function $i(){var e=io,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Xi,Ji=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=Zi.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),Zi=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())((function(){return new eo}),(function(e){return e.reset()})),eo=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function to(e){jr.setTimeout((function(){throw e}),0)}function no(e,t){Xi||function(){var e=jr.Promise.resolve(void 0);Xi=function(){e.then(oo)}}(),ro||(Xi(),ro=!0),io.add(e,t)}var ro=!1,io=new Ji;function oo(){for(var e;e=$i();){try{e.h.call(e.g)}catch(n){to(n)}var t=Zi;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ro=!1}function ao(e,t){Hi.call(this),this.h=e||1,this.g=t||jr,this.j=qr(this.kb,this),this.l=Date.now()}function so(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function uo(e,t,n){if("function"===typeof e)n&&(e=qr(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=qr(e.handleEvent,e)}return 2147483647<Number(t)?-1:jr.setTimeout(e,t||0)}function co(e){e.g=uo((function(){e.g=null,e.i&&(e.i=!1,co(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Br(ao,Hi),(Nr=ao.prototype).da=!1,Nr.S=null,Nr.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Gi(this,"tick"),this.da&&(so(this),this.start()))}},Nr.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Nr.M=function(){ao.Z.M.call(this),so(this),delete this.g};var lo=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}kr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:co(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(jr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(zr);function ho(e){zr.call(this),this.h=e,this.g={}}Br(ho,zr);var fo=[];function po(e,t,n,r){Array.isArray(n)||(n&&(fo[0]=n.toString()),n=fo);for(var i=0;i<n.length;i++){var o=Li(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function go(e){ni(e.g,(function(e,t){this.g.hasOwnProperty(t)&&qi(e)}),e),e.g={}}function vo(){this.g=!0}function yo(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Yi(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}ho.prototype.M=function(){ho.Z.M.call(this),go(this)},ho.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},vo.prototype.Aa=function(){this.g=!1},vo.prototype.info=function(){};var mo={},bo=null;function _o(){return bo=bo||new Hi}function wo(e){Ii.call(this,mo.Ma,e)}function xo(e){var t=_o();Gi(t,new wo(t,e))}function So(e,t){Ii.call(this,mo.STAT_EVENT,e),this.stat=t}function Io(e){var t=_o();Gi(t,new So(t,e))}function Co(e,t){Ii.call(this,mo.Na,e),this.size=t}function Eo(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return jr.setTimeout((function(){e()}),t)}mo.Ma="serverreachability",Br(wo,Ii),mo.STAT_EVENT="statevent",Br(So,Ii),mo.Na="timingevent",Br(Co,Ii);var ko={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},To={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function No(){}function Ao(e){return e.h||(e.h=e.i())}function Ro(){}No.prototype.h=null;var jo,Po={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Do(){Ii.call(this,"d")}function Oo(){Ii.call(this,"c")}function Lo(){}function Mo(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new ho(this),this.P=Uo,e=hi?125:void 0,this.W=new ao(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Fo}function Fo(){this.i=null,this.g="",this.h=!1}Br(Do,Ii),Br(Oo,Ii),Br(Lo,No),Lo.prototype.g=function(){return new XMLHttpRequest},Lo.prototype.i=function(){return{}},jo=new Lo;var Uo=45e3,qo={},Vo={};function Bo(e,t,n){e.K=1,e.v=ha(oa(t)),e.s=n,e.U=!0,zo(e,null)}function zo(e,t){e.F=Date.now(),Go(e),e.A=oa(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Ia(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Fo,e.g=Es(e.l,n?t:null,!e.s),0<e.O&&(e.L=new lo(qr(e.Ia,e,e.g),e.O)),po(e.V,e.g,"readystatechange",e.gb),t=e.H?ri(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),xo(1),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Wo(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Ko(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Ho(e,n))==Vo){4==t&&(e.o=4,Io(14),i=!1),yo(e.j,e.m,null,"[Incomplete Response]");break}if(r==qo){e.o=4,Io(15),yo(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}yo(e.j,e.m,r,null),Jo(e,r)}Wo(e)&&r!=Vo&&r!=qo&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Io(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),ms(t),t.L=!0,Io(11))):(yo(e.j,e.m,n,"[Invalid Chunked Response]"),Xo(e),$o(e))}function Ho(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Vo:(n=Number(t.substring(n,r)),isNaN(n)?qo:(r+=1)+n>t.length?Vo:(t=t.substr(r,n),e.C=r+n,t))}function Go(e){e.Y=Date.now()+e.P,Qo(e,e.P)}function Qo(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Eo(qr(e.eb,e),t)}function Yo(e){e.B&&(jr.clearTimeout(e.B),e.B=null)}function $o(e){0==e.l.G||e.I||ws(e.l,e)}function Xo(e){Yo(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,so(e.W),go(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Jo(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||ja(n.i,e)))if(n.I=e.N,!e.J&&ja(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;_s(n),cs(n)}ys(n),Io(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Eo(qr(n.ab,n),6e3));if(1>=Ra(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else Ss(n,11)}else if((e.J||n.g==e)&&_s(n),!Yr(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(Jr(l,"spdy")||Jr(l,"quic")||Jr(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Pa(h,h.h),h.h=null))}if(r.D){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,la(r.F,r.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var f=e;if((r=n).oa=Cs(r,r.H?r.la:null,r.W),f.J){Da(r.i,f);var p=f,g=r.K;g&&p.setTimeout(g),p.B&&(Yo(p),Go(p)),r.g=f}else vs(r);0<n.l.length&&ds(n)}else"stop"!=o[0]&&"close"!=o[0]||Ss(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?Ss(n,7):us(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}xo(4)}catch(o){}}function Zo(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Dr(e)||"string"===typeof e)Hr(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Dr(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Dr(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function ea(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof ea)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function ta(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];na(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)na(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function na(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Nr=Mo.prototype).setTimeout=function(e){this.P=e},Nr.gb=function(e){e=e.target;var t=this.L;t&&3==rs(e)?t.l():this.Ia(e)},Nr.Ia=function(e){try{if(e==this.g)e:{var t=rs(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||hi||this.g&&(this.h.h||this.g.ga()||is(this.g)))){this.I||4!=t||7==n||xo(8==n||0>=r?3:2),Yo(this);var i=this.g.ba();this.N=i;t:if(Wo(this)){var o=is(this.g);e="";var a=o.length,s=4==rs(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Xo(this),$o(this);var u="";break t}this.h.i=new jr.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Yr(c)){var h=c;break t}}h=null}if(!(i=h)){this.i=!1,this.o=3,Io(12),Xo(this),$o(this);break e}yo(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Jo(this,i)}this.U?(Ko(this,t,u),hi&&this.i&&3==t&&(po(this.V,this.W,"tick",this.fb),this.W.start())):(yo(this.j,this.m,u,null),Jo(this,u)),4==t&&Xo(this),this.i&&!this.I&&(4==t?ws(this.l,this):(this.i=!1,Go(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Io(12)):(this.o=0,Io(13)),Xo(this),$o(this)}}}catch(t){}},Nr.fb=function(){if(this.g){var e=rs(this.g),t=this.g.ga();this.C<t.length&&(Yo(this),Ko(this,e,t),this.i&&4!=e&&Go(this))}},Nr.cancel=function(){this.I=!0,Xo(this)},Nr.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(xo(3),Io(17)),Xo(this),this.o=2,$o(this)):Qo(this,this.Y-e)},(Nr=ea.prototype).R=function(){ta(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Nr.T=function(){return ta(this),this.g.concat()},Nr.get=function(e,t){return na(this.h,e)?this.h[e]:t},Nr.set=function(e,t){na(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Nr.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var ra=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ia(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof ia){this.g=void 0!==t?t:e.g,aa(this,e.j),this.s=e.s,sa(this,e.i),ua(this,e.m),this.l=e.l,t=e.h;var n=new _a;n.i=t.i,t.g&&(n.g=new ea(t.g),n.h=t.h),ca(this,n),this.o=e.o}else e&&(n=String(e).match(ra))?(this.g=!!t,aa(this,n[1]||"",!0),this.s=da(n[2]||""),sa(this,n[3]||"",!0),ua(this,n[4]),this.l=da(n[5]||"",!0),ca(this,n[6]||"",!0),this.o=da(n[7]||"")):(this.g=!!t,this.h=new _a(null,this.g))}function oa(e){return new ia(e)}function aa(e,t,n){e.j=n?da(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function sa(e,t,n){e.i=n?da(t,!0):t}function ua(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function ca(e,t,n){t instanceof _a?(e.h=t,function(e,t){t&&!e.j&&(wa(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(xa(this,t),Ia(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=fa(t,ma)),e.h=new _a(t,e.g))}function la(e,t,n){e.h.set(t,n)}function ha(e){return la(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function da(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function fa(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pa),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pa(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ia.prototype.toString=function(){var e=[],t=this.j;t&&e.push(fa(t,ga,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(fa(t,ga,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(fa(n,"/"==n.charAt(0)?ya:va,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",fa(n,ba)),e.join("")};var ga=/[#\/\?@]/g,va=/[#\?:]/g,ya=/[#\?]/g,ma=/[#\?@]/g,ba=/#/g;function _a(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function wa(e){e.g||(e.g=new ea,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function xa(e,t){wa(e),t=Ca(e,t),na(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,na((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&ta(e)))}function Sa(e,t){return wa(e),t=Ca(e,t),na(e.g.h,t)}function Ia(e,t,n){xa(e,t),0<n.length&&(e.i=null,e.g.set(Ca(e,t),Qr(n)),e.h+=n.length)}function Ca(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Nr=_a.prototype).add=function(e,t){wa(this),this.i=null,e=Ca(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Nr.forEach=function(e,t){wa(this),this.g.forEach((function(n,r){Hr(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Nr.T=function(){wa(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},Nr.R=function(e){wa(this);var t=[];if("string"===typeof e)Sa(this,e)&&(t=Gr(t,this.g.get(Ca(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Gr(t,e[n])}return t},Nr.set=function(e,t){return wa(this),this.i=null,Sa(this,e=Ca(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Nr.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Nr.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.i=e.join("&")};var Ea=function(e,t){this.h=e,this.g=t};function ka(e){this.l=e||Na,jr.PerformanceNavigationTiming?e=0<(e=jr.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(jr.g&&jr.g.Ea&&jr.g.Ea()&&jr.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ta,Na=10;function Aa(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ra(e){return e.h?1:e.g?e.g.size:0}function ja(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Pa(e,t){e.g?e.g.add(t):e.h=t}function Da(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Oa(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=Tr(e.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return Qr(e.i)}function La(){}function Ma(){this.g=new La}function Fa(e,t,n){var r=n||"";try{Zo(e,(function(e,n){var i=e;Or(e)&&(i=Yi(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(am){throw t.push(r+"type="+encodeURIComponent("_badmap")),am}}function Ua(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(Hn){}}function qa(e){this.l=e.$b||null,this.j=e.ib||!1}function Va(e,t){Hi.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Ba,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ka.prototype.cancel=function(){var e,t;if(this.i=Oa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=Tr(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},La.prototype.stringify=function(e){return jr.JSON.stringify(e,void 0)},La.prototype.parse=function(e){return jr.JSON.parse(e,void 0)},Br(qa,No),qa.prototype.g=function(){return new Va(this.l,this.j)},qa.prototype.i=(Ta={},function(){return Ta}),Br(Va,Hi);var Ba=0;function za(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Wa(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ka(e)}function Ka(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Nr=Va.prototype).open=function(e,t){if(this.readyState!=Ba)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ka(this)},Nr.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||jr).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Nr.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wa(this)),this.readyState=Ba},Nr.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ka(this)),this.g&&(this.readyState=3,Ka(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof jr.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;za(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Nr.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Wa(this):Ka(this),3==this.readyState&&za(this)}},Nr.Ua=function(e){this.g&&(this.response=this.responseText=e,Wa(this))},Nr.Ta=function(e){this.g&&(this.response=e,Wa(this))},Nr.ha=function(){this.g&&Wa(this)},Nr.setRequestHeader=function(e,t){this.v.append(e,t)},Nr.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Nr.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Va.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Ha=jr.JSON.parse;function Ga(e){Hi.call(this),this.headers=new ea,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Qa,this.K=this.L=!1}Br(Ga,Hi);var Qa="",Ya=/^https?$/i,$a=["POST","PUT"];function Xa(e){return"content-type"==e.toLowerCase()}function Ja(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Za(e),ts(e)}function Za(e){e.D||(e.D=!0,Gi(e,"complete"),Gi(e,"error"))}function es(e){if(e.h&&"undefined"!=typeof Rr&&(!e.C[1]||4!=rs(e)||2!=e.ba()))if(e.v&&4==rs(e))uo(e.Fa,0,e);else if(Gi(e,"readystatechange"),4==rs(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(ra)[1]||null;if(!o&&jr.self&&jr.self.location){var a=jr.self.location.protocol;o=a.substr(0,a.length-1)}i=!Ya.test(o?o.toLowerCase():"")}t=i}if(t)Gi(e,"complete"),Gi(e,"success");else{e.m=6;try{var s=2<rs(e)?e.g.statusText:""}catch(Bn){s=""}e.j=s+" ["+e.ba()+"]",Za(e)}}finally{ts(e)}}}function ts(e,t){if(e.g){ns(e);var n=e.g,r=e.C[0]?Pr:null;e.g=null,e.C=null,t||Gi(e,"ready");try{n.onreadystatechange=r}catch(am){}}}function ns(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(jr.clearTimeout(e.A),e.A=null)}function rs(e){return e.g?e.g.readyState:0}function is(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Qa:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Zn){return null}}function os(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return ni(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):la(e,t,n))}function as(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ss(e){this.za=0,this.l=[],this.h=new vo,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=as("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=as("baseRetryDelayMs",5e3,e),this.$a=as("retryDelaySeedMs",1e4,e),this.Ya=as("forwardChannelMaxRetries",2,e),this.ra=as("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new ka(e&&e.concurrentRequestLimit),this.Ca=new Ma,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function us(e){if(ls(e),3==e.G){var t=e.V++,n=oa(e.F);la(n,"SID",e.J),la(n,"RID",t),la(n,"TYPE","terminate"),ps(e,n),(t=new Mo(e,e.h,t,void 0)).K=2,t.v=ha(oa(n)),n=!1,jr.navigator&&jr.navigator.sendBeacon&&(n=jr.navigator.sendBeacon(t.v.toString(),"")),!n&&jr.Image&&((new Image).src=t.v,n=!0),n||(t.g=Es(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Go(t)}Is(e)}function cs(e){e.g&&(ms(e),e.g.cancel(),e.g=null)}function ls(e){cs(e),e.u&&(jr.clearTimeout(e.u),e.u=null),_s(e),e.i.cancel(),e.m&&("number"===typeof e.m&&jr.clearTimeout(e.m),e.m=null)}function hs(e,t){e.l.push(new Ea(e.Za++,t)),3==e.G&&ds(e)}function ds(e){Aa(e.i)||e.m||(e.m=!0,no(e.Ha,e),e.C=0)}function fs(e,t){var n;n=t?t.m:e.V++;var r=oa(e.F);la(r,"SID",e.J),la(r,"RID",n),la(r,"AID",e.U),ps(e,r),e.o&&e.s&&os(r,e.o,e.s),n=new Mo(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=gs(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Pa(e.i,n),Bo(n,r,t)}function ps(e,t){e.j&&Zo({},(function(e,n){la(t,n,e)}))}function gs(e,t,n){n=Math.min(e.l.length,n);var r=e.j?qr(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),s=!1;else try{Fa(l,a,"req"+c+"_")}catch(su){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function vs(e){e.g||e.u||(e.Y=1,no(e.Ga,e),e.A=0)}function ys(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Eo(qr(e.Ga,e),xs(e,e.A)),e.A++,!0)}function ms(e){null!=e.B&&(jr.clearTimeout(e.B),e.B=null)}function bs(e){e.g=new Mo(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=oa(e.oa);la(t,"RID","rpc"),la(t,"SID",e.J),la(t,"CI",e.N?"0":"1"),la(t,"AID",e.U),ps(e,t),la(t,"TYPE","xmlhttp"),e.o&&e.s&&os(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=ha(oa(t)),n.s=null,n.U=!0,zo(n,e)}function _s(e){null!=e.v&&(jr.clearTimeout(e.v),e.v=null)}function ws(e,t){var n=null;if(e.g==t){_s(e),ms(e),e.g=null;var r=2}else{if(!ja(e.i,t))return;n=t.D,Da(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Gi(r=_o(),new Co(r,n,t,i)),ds(e)}else vs(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Ra(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Eo(qr(e.Ha,e,t),xs(e,e.C)),e.C++,!0))}(e,t)||2==r&&ys(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Ss(e,5);break;case 4:Ss(e,10);break;case 3:Ss(e,6);break;default:Ss(e,2)}}function xs(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Ss(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=qr(e.jb,e);n||(n=new ia("//www.google.com/images/cleardot.gif"),jr.location&&"http"==jr.location.protocol||aa(n,"https"),ha(n)),function(e,t){var n=new vo;if(jr.Image){var r=new Image;r.onload=Vr(Ua,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Vr(Ua,n,r,"TestLoadImage: error",!1,t),r.onabort=Vr(Ua,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Vr(Ua,n,r,"TestLoadImage: timeout",!1,t),jr.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Io(2);e.G=0,e.j&&e.j.va(t),Is(e),ls(e)}function Is(e){e.G=0,e.I=-1,e.j&&(0==Oa(e.i).length&&0==e.l.length||(e.i.i.length=0,Qr(e.l),e.l.length=0),e.j.ua())}function Cs(e,t,n){var r=function(e){return e instanceof ia?oa(e):new ia(e,void 0)}(n);if(""!=r.i)t&&sa(r,t+"."+r.i),ua(r,r.m);else{var i=jr.location;r=function(e,t,n,r){var i=new ia(null,void 0);return e&&aa(i,e),t&&sa(i,t),n&&ua(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&ni(e.aa,(function(e,t){la(r,t,e)})),t=e.D,n=e.sa,t&&n&&la(r,t,n),la(r,"VER",e.ma),ps(e,r),r}function Es(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Ga(new qa({ib:!0})):new Ga(e.qa)).L=e.H,t}function ks(){}function Ts(){if(ci&&!(10<=Number(xi)))throw Error("Environmental error: no available transport.")}function Ns(e,t){Hi.call(this),this.g=new ss(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Yr(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Yr(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new js(this)}function As(e){Do.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Rs(){Oo.call(this),this.status=1}function js(e){this.g=e}(Nr=Ga.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():jo.g(),this.C=this.u?Ao(this.u):Ao(jo),this.g.onreadystatechange=qr(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(Hn){return void Ja(this,Hn)}e=n||"";var i=new ea(this.headers);r&&Zo(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Xa,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=jr.FormData&&e instanceof jr.FormData,!(0<=Kr($a,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ns(this),0<this.B&&((this.K=function(e){return ci&&_i()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=qr(this.pa,this)):this.A=uo(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(Hn){Ja(this,Hn)}},Nr.pa=function(){"undefined"!=typeof Rr&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Gi(this,"timeout"),this.abort(8))},Nr.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Gi(this,"complete"),Gi(this,"abort"),ts(this))},Nr.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ts(this,!0)),Ga.Z.M.call(this)},Nr.Fa=function(){this.s||(this.F||this.v||this.l?es(this):this.cb())},Nr.cb=function(){es(this)},Nr.ba=function(){try{return 2<rs(this)?this.g.status:-1}catch(Ta){return-1}},Nr.ga=function(){try{return this.g?this.g.responseText:""}catch(Ta){return""}},Nr.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ha(t)}},Nr.Da=function(){return this.m},Nr.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Nr=ss.prototype).ma=8,Nr.G=1,Nr.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(Zn){}},Nr.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Mo(this,this.h,e,void 0),n=this.s;if(this.P&&(n?oi(n=ri(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"===typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=gs(this,t,r),la(i=oa(this.F),"RID",e),la(i,"CVER",22),this.D&&la(i,"X-HTTP-Session-Id",this.D),ps(this,i),this.o&&n&&os(i,this.o,n),Pa(this.i,t),this.Ra&&la(i,"TYPE","init"),this.ja?(la(i,"$req",r),la(i,"SID","null"),t.$=!0,Bo(t,i,null)):Bo(t,i,r),this.G=2}}else 3==this.G&&(e?fs(this,e):0==this.l.length||Aa(this.i)||fs(this))},Nr.Ga=function(){if(this.u=null,bs(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Eo(qr(this.bb,this),e)}},Nr.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Io(10),cs(this),bs(this))},Nr.ab=function(){null!=this.v&&(this.v=null,cs(this),ys(this),Io(19))},Nr.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Io(2)):(this.h.info("Failed to ping google.com"),Io(1))},(Nr=ks.prototype).xa=function(){},Nr.wa=function(){},Nr.va=function(){},Nr.ua=function(){},Nr.Oa=function(){},Ts.prototype.g=function(e,t){return new Ns(e,t)},Br(Ns,Hi),Ns.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),no(qr(e.hb,e,t))),Io(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Cs(e,null,e.W),ds(e)},Ns.prototype.close=function(){us(this.g)},Ns.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,hs(this.g,t)}else this.v?((t={}).__data__=Yi(e),hs(this.g,t)):hs(this.g,e)},Ns.prototype.M=function(){this.g.j=null,delete this.j,us(this.g),delete this.g,Ns.Z.M.call(this)},Br(As,Do),Br(Rs,Oo),Br(js,ks),js.prototype.xa=function(){Gi(this.g,"a")},js.prototype.wa=function(e){Gi(this.g,new As(e))},js.prototype.va=function(e){Gi(this.g,new Rs(e))},js.prototype.ua=function(){Gi(this.g,"b")},Ts.prototype.createWebChannel=Ts.prototype.g,Ns.prototype.send=Ns.prototype.u,Ns.prototype.open=Ns.prototype.m,Ns.prototype.close=Ns.prototype.close,ko.NO_ERROR=0,ko.TIMEOUT=8,ko.HTTP_ERROR=6,To.COMPLETE="complete",Ro.EventType=Po,Po.OPEN="a",Po.CLOSE="b",Po.ERROR="c",Po.MESSAGE="d",Hi.prototype.listen=Hi.prototype.N,Ga.prototype.listenOnce=Ga.prototype.O,Ga.prototype.getLastError=Ga.prototype.La,Ga.prototype.getLastErrorCode=Ga.prototype.Da,Ga.prototype.getStatus=Ga.prototype.ba,Ga.prototype.getResponseJson=Ga.prototype.Qa,Ga.prototype.getResponseText=Ga.prototype.ga,Ga.prototype.send=Ga.prototype.ea;var Ps=function(){return new Ts},Ds=function(){return _o()},Os=ko,Ls=To,Ms=mo,Fs={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Us=qa,qs=Ro,Vs=Ga;var Bs=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();Bs.o=-1;var zs={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ws=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,Ir.__extends)(t,e),t}(Error),Ks=new Er.Logger("@firebase/firestore");function Hs(){return Ks.logLevel}function Gs(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ks.logLevel<=Er.LogLevel.DEBUG){var r=t.map($s);Ks.debug.apply(Ks,(0,Ir.__spreadArray)(["Firestore (8.10.1): "+e],r))}}function Qs(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ks.logLevel<=Er.LogLevel.ERROR){var r=t.map($s);Ks.error.apply(Ks,(0,Ir.__spreadArray)(["Firestore (8.10.1): "+e],r))}}function Ys(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ks.logLevel<=Er.LogLevel.WARN){var r=t.map($s);Ks.warn.apply(Ks,(0,Ir.__spreadArray)(["Firestore (8.10.1): "+e],r))}}function $s(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Xs(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw Qs(t),new Error(t)}function Js(e,t){e||Xs()}function Zs(e,t){return e}function eu(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var tu=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=eu(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n},e}();function nu(e,t){return e<t?-1:e>t?1:0}function ru(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function iu(e){return e+"\0"}var ou=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ws(zs.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ws(zs.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ws(zs.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ws(zs.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?nu(this.nanoseconds,e.nanoseconds):nu(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),au=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new ou(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function su(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function uu(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function cu(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var lu=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&Xs(),void 0===n?n=e.length-t:n>e.length-t&&Xs(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),hu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Ir.__extends)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new Ws(zs.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(lu),du=/^[_a-zA-Z][_a-zA-Z0-9]*$/,fu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Ir.__extends)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return du.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Ws(zs.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Ws(zs.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Ws(zs.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Ws(zs.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(lu),pu=function(){function e(e){this.fields=e,e.sort(fu.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return ru(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),gu=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return nu(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();gu.EMPTY_BYTE_STRING=new gu("");var vu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yu(e){if(Js(!!e),"string"==typeof e){var t=0,n=vu.exec(e);if(Js(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:mu(e.seconds),nanos:mu(e.nanos)}}function mu(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function bu(e){return"string"==typeof e?gu.fromBase64String(e):gu.fromUint8Array(e)}function _u(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function wu(e){var t=e.mapValue.fields.__previous_value__;return _u(t)?wu(t):t}function xu(e){var t=yu(e.mapValue.fields.__local_write_time__.timestampValue);return new ou(t.seconds,t.nanos)}function Su(e){return null==e}function Iu(e){return 0===e&&1/e==-1/0}function Cu(e){return"number"==typeof e&&Number.isInteger(e)&&!Iu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Eu=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(hu.fromString(t))},e.fromName=function(t){return new e(hu.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===hu.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return hu.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new hu(t.slice()))},e}();function ku(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?_u(e)?4:10:Xs()}function Tu(e,t){var n=ku(e);if(n!==ku(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return xu(e).isEqual(xu(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=yu(e.timestampValue),r=yu(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return bu(e.bytesValue).isEqual(bu(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return mu(e.geoPointValue.latitude)===mu(t.geoPointValue.latitude)&&mu(e.geoPointValue.longitude)===mu(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return mu(e.integerValue)===mu(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=mu(e.doubleValue),r=mu(t.doubleValue);return n===r?Iu(n)===Iu(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ru(e.arrayValue.values||[],t.arrayValue.values||[],Tu);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(su(n)!==su(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Tu(n[i],r[i])))return!1;return!0}(e,t);default:return Xs()}}function Nu(e,t){return void 0!==(e.values||[]).find((function(e){return Tu(e,t)}))}function Au(e,t){var n=ku(e),r=ku(t);if(n!==r)return nu(n,r);switch(n){case 0:return 0;case 1:return nu(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=mu(e.integerValue||e.doubleValue),r=mu(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ru(e.timestampValue,t.timestampValue);case 4:return Ru(xu(e),xu(t));case 5:return nu(e.stringValue,t.stringValue);case 6:return function(e,t){var n=bu(e),r=bu(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=nu(n[i],r[i]);if(0!==o)return o}return nu(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=nu(mu(e.latitude),mu(t.latitude));return 0!==n?n:nu(mu(e.longitude),mu(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=Au(n[i],r[i]);if(o)return o}return nu(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=nu(r[a],o[a]);if(0!==s)return s;var u=Au(n[r[a]],i[o[a]]);if(0!==u)return u}return nu(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Xs()}}function Ru(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return nu(e,t);var n=yu(e),r=yu(t),i=nu(n.seconds,r.seconds);return 0!==i?i:nu(n.nanos,r.nanos)}function ju(e){return Pu(e)}function Pu(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=yu(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?bu(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Eu.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=Pu(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+Pu(e.fields[o])}return t+"}"}(e.mapValue):Xs();var t,n}function Du(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Ou(e){return!!e&&"integerValue"in e}function Lu(e){return!!e&&"arrayValue"in e}function Mu(e){return!!e&&"nullValue"in e}function Fu(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Uu(e){return!!e&&"mapValue"in e}function qu(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return uu(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=qu(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=qu(e.arrayValue.values[r]);return n}return Object.assign({},e)}var Vu=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Uu(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qu(t)},e.prototype.setAll=function(e){var t=this,n=fu.emptyPath(),r={},i=[];e.forEach((function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=qu(e):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},e.prototype.delete=function(e){var t=this.field(e.popLast());Uu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return Tu(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Uu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){uu(t,(function(t,n){return e[t]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete e[o]}},e.prototype.clone=function(){return new e(qu(this.value))},e}();function Bu(e){var t=[];return uu(e.fields,(function(e,n){var r=new fu([e]);if(Uu(n)){var i=Bu(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)})),new pu(t)}var zu=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,au.min(),Vu.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Vu.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Vu.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=Vu.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=Vu.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),Wu=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function Ku(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Wu(e,t,n,r,i,o,a)}function Hu(e){var t=Zs(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+ju(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Su(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=oc(t.startAt)),t.endAt&&(n+="|ub:",n+=oc(t.endAt)),t.h=n}return t.h}function Gu(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!sc(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Tu(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!cc(e.startAt,t.startAt)&&cc(e.endAt,t.endAt)}function Qu(e){return Eu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Yu=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return(0,Ir.__extends)(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new $u(e,n,r):"array-contains"===n?new ec(e,r):"in"===n?new tc(e,r):"not-in"===n?new nc(e,r):"array-contains-any"===n?new rc(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new Xu(e,n):new Ju(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(Au(t,this.value)):null!==t&&ku(this.value)===ku(t)&&this.m(Au(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Xs()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),$u=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=Eu.fromName(r.referenceValue),i}return(0,Ir.__extends)(t,e),t.prototype.matches=function(e){var t=Eu.comparator(e.key,this.key);return this.m(t)},t}(Yu),Xu=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=Zu("in",n),r}return(0,Ir.__extends)(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Yu),Ju=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=Zu("not-in",n),r}return(0,Ir.__extends)(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Yu);function Zu(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Eu.fromName(e.referenceValue)}))}var ec=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return(0,Ir.__extends)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return Lu(t)&&Nu(t.arrayValue,this.value)},t}(Yu),tc=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return(0,Ir.__extends)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&Nu(this.value.arrayValue,t)},t}(Yu),nc=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return(0,Ir.__extends)(t,e),t.prototype.matches=function(e){if(Nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Nu(this.value.arrayValue,t)},t}(Yu),rc=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return(0,Ir.__extends)(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!Lu(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Nu(t.value.arrayValue,e)}))},t}(Yu),ic=function(e,t){this.position=e,this.before=t};function oc(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return ju(e)})).join(",")}var ac=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function sc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function uc(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?Eu.comparator(Eu.fromName(a.referenceValue),n.key):Au(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function cc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Tu(e.position[n],t.position[n]))return!1;return!0}var lc=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function hc(e,t,n,r,i,o,a,s){return new lc(e,t,n,r,i,o,a,s)}function dc(e){return new lc(e)}function fc(e){return!Su(e.limit)&&"F"===e.limitType}function pc(e){return!Su(e.limit)&&"L"===e.limitType}function gc(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function vc(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function yc(e){return null!==e.collectionGroup}function mc(e){var t=Zs(e);if(null===t.p){t.p=[];var n=vc(t),r=gc(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new ac(n)),t.p.push(new ac(fu.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new ac(fu.keyField(),u))}}}return t.p}function bc(e){var t=Zs(e);if(!t.T)if("F"===t.limitType)t.T=Ku(t.path,t.collectionGroup,mc(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=mc(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new ac(o.field,a))}var s=t.endAt?new ic(t.endAt.position,!t.endAt.before):null,u=t.startAt?new ic(t.startAt.position,!t.startAt.before):null;t.T=Ku(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function _c(e,t,n){return new lc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function wc(e,t){return Gu(bc(e),bc(t))&&e.limitType===t.limitType}function xc(e){return Hu(bc(e))+"|lt:"+e.limitType}function Sc(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+ju(t.value);var t})).join(", ")+"]"),Su(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+oc(e.startAt)),e.endAt&&(t+=", endAt: "+oc(e.endAt)),"Target("+t+")"}(bc(e))+"; limitType="+e.limitType+")"}function Ic(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Eu.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!uc(e.startAt,mc(e),t))&&(!e.endAt||!uc(e.endAt,mc(e),t))}(e,t)}function Cc(e){return function(t,n){for(var r=!1,i=0,o=mc(e);i<o.length;i++){var a=o[i],s=Ec(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function Ec(e,t,n){var r=e.field.isKeyField()?Eu.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Au(r,i):Xs()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Xs()}}function kc(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Iu(t)?"-0":t}}function Tc(e){return{integerValue:""+e}}function Nc(e,t){return Cu(t)?Tc(t):kc(e,t)}var Ac=function(){this._=void 0};function Rc(e,t,n){return e instanceof Dc?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Oc?Lc(e,t):e instanceof Mc?Fc(e,t):function(e,t){var n=Pc(e,t),r=qc(n)+qc(e.A);return Ou(n)&&Ou(e.A)?Tc(r):kc(e.R,r)}(e,t)}function jc(e,t,n){return e instanceof Oc?Lc(e,t):e instanceof Mc?Fc(e,t):n}function Pc(e,t){return e instanceof Uc?Ou(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Dc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Ir.__extends)(t,e),t}(Ac),Oc=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,Ir.__extends)(t,e),t}(Ac);function Lc(e,t){for(var n=Vc(t),r=function(e){n.some((function(t){return Tu(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Mc=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,Ir.__extends)(t,e),t}(Ac);function Fc(e,t){for(var n=Vc(t),r=function(e){n=n.filter((function(t){return!Tu(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Uc=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return(0,Ir.__extends)(t,e),t}(Ac);function qc(e){return mu(e.integerValue||e.doubleValue)}function Vc(e){return Lu(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Bc=function(e,t){this.field=e,this.transform=t},zc=function(e,t){this.version=e,this.transformResults=t},Wc=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function Kc(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Hc=function(){};function Gc(e,t,n){e instanceof Jc?function(e,t,n){var r=e.value.clone(),i=tl(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Zc?function(e,t,n){if(Kc(e.precondition,t)){var r=tl(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(el(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Qc(e,t,n){e instanceof Jc?function(e,t,n){if(Kc(e.precondition,t)){var r=e.value.clone(),i=nl(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Xc(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Zc?function(e,t,n){if(Kc(e.precondition,t)){var r=nl(e.fieldTransforms,n,t),i=t.data;i.setAll(el(e)),i.setAll(r),t.convertToFoundDocument(Xc(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Kc(e.precondition,t)&&t.convertToNoDocument(au.min())}(e,t)}function Yc(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),s=Pc(o.transform,a||null);null!=s&&(null==n&&(n=Vu.empty()),n.set(o.field,s))}return n||null}function $c(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ru(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Oc&&t instanceof Oc||e instanceof Mc&&t instanceof Mc?ru(e.elements,t.elements,Tu):e instanceof Uc&&t instanceof Uc?Tu(e.A,t.A):e instanceof Dc&&t instanceof Dc}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Xc(e){return e.isFoundDocument()?e.version:au.min()}var Jc=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,Ir.__extends)(t,e),t}(Hc),Zc=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return(0,Ir.__extends)(t,e),t}(Hc);function el(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function tl(e,t,n){var r=new Map;Js(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,jc(a,s,n[i]))}return r}function nl(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,Rc(s,u,t))}return r}var rl,il,ol=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,Ir.__extends)(t,e),t}(Hc),al=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,Ir.__extends)(t,e),t}(Hc),sl=function(e){this.count=e};function ul(e){switch(e){case zs.OK:return Xs();case zs.CANCELLED:case zs.UNKNOWN:case zs.DEADLINE_EXCEEDED:case zs.RESOURCE_EXHAUSTED:case zs.INTERNAL:case zs.UNAVAILABLE:case zs.UNAUTHENTICATED:return!1;case zs.INVALID_ARGUMENT:case zs.NOT_FOUND:case zs.ALREADY_EXISTS:case zs.PERMISSION_DENIED:case zs.FAILED_PRECONDITION:case zs.ABORTED:case zs.OUT_OF_RANGE:case zs.UNIMPLEMENTED:case zs.DATA_LOSS:return!0;default:return Xs()}}function cl(e){if(void 0===e)return Qs("GRPC error has no .code"),zs.UNKNOWN;switch(e){case rl.OK:return zs.OK;case rl.CANCELLED:return zs.CANCELLED;case rl.UNKNOWN:return zs.UNKNOWN;case rl.DEADLINE_EXCEEDED:return zs.DEADLINE_EXCEEDED;case rl.RESOURCE_EXHAUSTED:return zs.RESOURCE_EXHAUSTED;case rl.INTERNAL:return zs.INTERNAL;case rl.UNAVAILABLE:return zs.UNAVAILABLE;case rl.UNAUTHENTICATED:return zs.UNAUTHENTICATED;case rl.INVALID_ARGUMENT:return zs.INVALID_ARGUMENT;case rl.NOT_FOUND:return zs.NOT_FOUND;case rl.ALREADY_EXISTS:return zs.ALREADY_EXISTS;case rl.PERMISSION_DENIED:return zs.PERMISSION_DENIED;case rl.FAILED_PRECONDITION:return zs.FAILED_PRECONDITION;case rl.ABORTED:return zs.ABORTED;case rl.OUT_OF_RANGE:return zs.OUT_OF_RANGE;case rl.UNIMPLEMENTED:return zs.UNIMPLEMENTED;case rl.DATA_LOSS:return zs.DATA_LOSS;default:return Xs()}}(il=rl||(rl={}))[il.OK=0]="OK",il[il.CANCELLED=1]="CANCELLED",il[il.UNKNOWN=2]="UNKNOWN",il[il.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",il[il.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",il[il.NOT_FOUND=5]="NOT_FOUND",il[il.ALREADY_EXISTS=6]="ALREADY_EXISTS",il[il.PERMISSION_DENIED=7]="PERMISSION_DENIED",il[il.UNAUTHENTICATED=16]="UNAUTHENTICATED",il[il.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",il[il.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",il[il.ABORTED=10]="ABORTED",il[il.OUT_OF_RANGE=11]="OUT_OF_RANGE",il[il.UNIMPLEMENTED=12]="UNIMPLEMENTED",il[il.INTERNAL=13]="INTERNAL",il[il.UNAVAILABLE=14]="UNAVAILABLE",il[il.DATA_LOSS=15]="DATA_LOSS";var ll=function(){function e(e,t){this.comparator=e,this.root=t||dl.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,dl.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,dl.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new hl(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new hl(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new hl(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new hl(this.root,e,this.comparator,!0)},e}(),hl=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),dl=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Xs();if(this.right.isRed())throw Xs();var e=this.left.check();if(e!==this.right.check())throw Xs();return e+(this.isRed()?0:1)},e}();dl.EMPTY=null,dl.RED=!0,dl.BLACK=!1,dl.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Xs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Xs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Xs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Xs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Xs()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new dl(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var fl=function(){function e(e){this.comparator=e,this.data=new ll(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new pl(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new pl(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),pl=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),gl=new ll(Eu.comparator);function vl(){return gl}var yl=new ll(Eu.comparator);function ml(){return yl}var bl=new ll(Eu.comparator);function _l(){return bl}var wl=new fl(Eu.comparator);function xl(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=wl,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Sl=new fl(nu);function Il(){return Sl}var Cl=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,El.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(au.min(),r,Il(),vl(),xl())},e}(),El=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(gu.EMPTY_BYTE_STRING,n,xl(),xl(),xl())},e}(),kl=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},Tl=function(e,t){this.targetId=e,this.V=t},Nl=function(e,t,n,r){void 0===n&&(n=gu.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},Al=function(){function e(){this.S=0,this.D=Pl(),this.C=gu.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},e.prototype.M=function(){var e=xl(),t=xl(),n=xl();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Xs()}})),new El(this.C,this.N,e,t,n)},e.prototype.L=function(){this.k=!1,this.D=Pl()},e.prototype.B=function(e,t){this.k=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),Rl=function(){function e(e){this.W=e,this.G=new Map,this.H=vl(),this.J=jl(),this.Y=new fl(nu)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.F||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:Xs()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(Qu(i))if(0===n){var o=new Eu(i.path);this.tt(t,o,zu.newNoDocument(o,au.min()))}else Js(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&Qu(o.target)){var a=new Eu(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,zu.newNoDocument(a,e))}r.$&&(n.set(i,r.M()),r.L())}}));var r=xl();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Cl(e,n,this.Y,this.H,r);return this.H=vl(),this.J=jl(),this.Y=new fl(nu),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new Al,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new fl(nu),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||Gs("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.F?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new Al),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function jl(){return new ll(Eu.comparator)}function Pl(){return new ll(Eu.comparator)}var Dl={asc:"ASCENDING",desc:"DESCENDING"},Ol={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ll=function(e,t){this.databaseId=e,this.I=t};function Ml(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function Fl(e,t){return e.I?t.toBase64():t.toUint8Array()}function Ul(e,t){return Ml(e,t.toTimestamp())}function ql(e){return Js(!!e),au.fromTimestamp(function(e){var t=yu(e);return new ou(t.seconds,t.nanos)}(e))}function Vl(e,t){return function(e){return new hu(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Bl(e){var t=hu.fromString(e);return Js(dh(t)),t}function zl(e,t){return Vl(e.databaseId,t.path)}function Wl(e,t){var n=Bl(t);if(n.get(1)!==e.databaseId.projectId)throw new Ws(zs.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ws(zs.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Eu(Ql(n))}function Kl(e,t){return Vl(e.databaseId,t)}function Hl(e){var t=Bl(e);return 4===t.length?hu.emptyPath():Ql(t)}function Gl(e){return new hu(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ql(e){return Js(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Yl(e,t,n){return{name:zl(e,t),fields:n.value.mapValue.fields}}function $l(e,t,n){var r=Wl(e,t.name),i=ql(t.updateTime),o=new Vu({mapValue:{fields:t.fields}}),a=zu.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Xl(e,t){var n;if(t instanceof Jc)n={update:Yl(e,t.key,t.value)};else if(t instanceof ol)n={delete:zl(e,t.key)};else if(t instanceof Zc)n={update:Yl(e,t.key,t.data),updateMask:hh(t.fieldMask)};else{if(!(t instanceof al))return Xs();n={verify:zl(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Dc)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Oc)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Mc)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Uc)return{fieldPath:t.field.canonicalString(),increment:n.A};throw Xs()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ul(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Xs()}(e,t.precondition)),n}function Jl(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Wc.updateTime(ql(e.updateTime)):void 0!==e.exists?Wc.exists(e.exists):Wc.none()}(t.currentDocument):Wc.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Js("REQUEST_TIME"===t.setToServerValue),n=new Dc;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Oc(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Mc(i)}else"increment"in t?n=new Uc(e,t.increment):Xs();var o=fu.fromServerFormat(t.fieldPath);return new Bc(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=Wl(e,t.update.name),o=new Vu({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new pu(t.map((function(e){return fu.fromServerFormat(e)})))}(t.updateMask);return new Zc(i,o,a,n,r)}return new Jc(i,o,n,r)}if(t.delete){var s=Wl(e,t.delete);return new ol(s,n)}if(t.verify){var u=Wl(e,t.verify);return new al(u,n)}return Xs()}function Zl(e,t){return{documents:[Kl(e,t.path)]}}function eh(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Kl(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Kl(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Fu(e.value))return{unaryFilter:{field:sh(e.field),op:"IS_NAN"}};if(Mu(e.value))return{unaryFilter:{field:sh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Fu(e.value))return{unaryFilter:{field:sh(e.field),op:"IS_NOT_NAN"}};if(Mu(e.value))return{unaryFilter:{field:sh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sh(e.field),op:ah(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:sh(e.field),direction:oh(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||Su(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=rh(t.startAt)),t.endAt&&(n.structuredQuery.endAt=rh(t.endAt)),n}function th(e){var t=Hl(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Js(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=nh(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new ac(uh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Su(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=ih(n.startAt));var l=null;return n.endAt&&(l=ih(n.endAt)),hc(t,i,s,a,u,"F",c,l)}function nh(e){return e?void 0!==e.unaryFilter?[lh(e)]:void 0!==e.fieldFilter?[ch(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return nh(e)})).reduce((function(e,t){return e.concat(t)})):Xs():[]}function rh(e){return{before:e.before,values:e.position}}function ih(e){var t=!!e.before,n=e.values||[];return new ic(n,t)}function oh(e){return Dl[e]}function ah(e){return Ol[e]}function sh(e){return{fieldPath:e.canonicalString()}}function uh(e){return fu.fromServerFormat(e.fieldPath)}function ch(e){return Yu.create(uh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xs()}}(e.fieldFilter.op),e.fieldFilter.value)}function lh(e){switch(e.unaryFilter.op){case"IS_NAN":var t=uh(e.unaryFilter.field);return Yu.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=uh(e.unaryFilter.field);return Yu.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=uh(e.unaryFilter.field);return Yu.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=uh(e.unaryFilter.field);return Yu.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Xs()}}function hh(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function dh(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function fh(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=gh(t)),t=ph(e.get(n),t);return gh(t)}function ph(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function gh(e){return e+"\x01\x01"}function vh(e){var t=e.length;if(Js(t>=2),2===t)return Js("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),hu.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&Xs(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:Xs()}o=a+2}return new hu(r)}var yh=function(e,t){this.seconds=e,this.nanoseconds=t},mh=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};mh.store="owner",mh.key="owner";var bh=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};bh.store="mutationQueues",bh.keyPath="userId";var _h=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};_h.store="mutations",_h.keyPath="batchId",_h.userMutationsIndex="userMutationsIndex",_h.userMutationsKeyPath=["userId","batchId"];var wh=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,fh(t)]},e.key=function(e,t,n){return[e,fh(t),n]},e}();wh.store="documentMutations",wh.PLACEHOLDER=new wh;var xh=function(e,t){this.path=e,this.readTime=t},Sh=function(e,t){this.path=e,this.version=t},Ih=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Ih.store="remoteDocuments",Ih.readTimeIndex="readTimeIndex",Ih.readTimeIndexPath="readTime",Ih.collectionReadTimeIndex="collectionReadTimeIndex",Ih.collectionReadTimeIndexPath=["parentPath","readTime"];var Ch=function(e){this.byteSize=e};Ch.store="remoteDocumentGlobal",Ch.key="remoteDocumentGlobalKey";var Eh=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Eh.store="targets",Eh.keyPath="targetId",Eh.queryTargetsIndexName="queryTargetsIndex",Eh.queryTargetsKeyPath=["canonicalId","targetId"];var kh=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};kh.store="targetDocuments",kh.keyPath=["targetId","path"],kh.documentTargetsIndex="documentTargetsIndex",kh.documentTargetsKeyPath=["path","targetId"];var Th=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Th.key="targetGlobalKey",Th.store="targetGlobal";var Nh=function(e,t){this.collectionId=e,this.parent=t};Nh.store="collectionParents",Nh.keyPath=["collectionId","parent"];var Ah=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Ah.store="clientMetadata",Ah.keyPath="clientId";var Rh=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Rh.store="bundles",Rh.keyPath="bundleId";var jh=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};jh.store="namedQueries",jh.keyPath="name";var Ph=(0,Ir.__spreadArray)((0,Ir.__spreadArray)([],(0,Ir.__spreadArray)((0,Ir.__spreadArray)([],(0,Ir.__spreadArray)((0,Ir.__spreadArray)([],(0,Ir.__spreadArray)((0,Ir.__spreadArray)([],[bh.store,_h.store,wh.store,Ih.store,Eh.store,mh.store,Th.store,kh.store]),[Ah.store])),[Ch.store])),[Nh.store])),[Rh.store,jh.store]),Dh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Oh=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),Lh=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},Mh=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&Xs(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),Fh=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new Lh,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new Vh(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=Hh(t.target.error);n.ft.reject(new Vh(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Vh(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(Gs("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new zh(t)},e}(),Uh=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t((0,Cr.getUA)())&&Qs("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return Gs("SimpleDb","Removing database:",e),Wh(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=(0,Cr.getUA)(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,Ir.__generator)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Gs("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new Vh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new Ws(zs.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new Vh(e,n))},i.onupgradeneeded=function(e){Gs("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){Gs("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u;return(0,Ir.__generator)(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,c,l;return(0,Ir.__generator)(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.At(e)];case 2:return s.db=h.sent(),t=Fh.open(s.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),Mh.reject(e)})).toPromise(),u={},a.catch((function(){})),[4,t.dt];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return c=h.sent(),l="FirebaseError"!==c.name&&o<3,Gs("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),qh=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return Wh(this.Pt.delete())},e}(),Vh=function(e){function t(t,n){var r=this;return(r=e.call(this,zs.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,Ir.__extends)(t,e),t}(Ws);function Bh(e){return"IndexedDbTransactionError"===e.name}var zh=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(Gs("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Gs("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Wh(n)},e.prototype.add=function(e){return Gs("SimpleDb","ADD",this.store.name,e,e),Wh(this.store.add(e))},e.prototype.get=function(e){var t=this;return Wh(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Gs("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return Gs("SimpleDb","DELETE",this.store.name,e),Wh(this.store.delete(e))},e.prototype.count=function(){return Gs("SimpleDb","COUNT",this.store.name),Wh(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.kt=function(e,t){Gs("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Ft=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new Mh((function(n,r){t.onerror=function(e){var t=Hh(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new Mh((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new qh(i),a=t(i.primaryKey,i.value,o);if(a instanceof Mh){var s=a.catch((function(e){return o.done(),Mh.reject(e)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return Mh.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Ft?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function Wh(e){return new Mh((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Hh(e.target.error);n(t)}}))}var Kh=!1;function Hh(e){var t=Uh._t((0,Cr.getUA)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Ws("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Kh||(Kh=!0,setTimeout((function(){throw r}),0)),r}}return e}var Gh=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return(0,Ir.__extends)(t,e),t}(Oh);function Qh(e,t){var n=Zs(e);return Uh.It(n.Mt,t)}var Yh=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Gc(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&Qc(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&Qc(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(au.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),xl())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&ru(this.mutations,e.mutations,(function(e,t){return $c(e,t)}))&&ru(this.baseMutations,e.baseMutations,(function(e,t){return $c(e,t)}))},e}(),$h=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){Js(t.mutations.length===r.length);for(var i=_l(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),Xh=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=au.min()),void 0===o&&(o=au.min()),void 0===a&&(a=gu.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),Jh=function(e){this.Lt=e};function Zh(e,t){if(t.document)return $l(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Eu.fromSegments(t.noDocument.path),r=id(t.noDocument.readTime),i=zu.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=Eu.fromSegments(t.unknownDocument.path);return r=id(t.unknownDocument.version),zu.newUnknownDocument(o,r)}return Xs()}function ed(e,t,n){var r=td(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:zl(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Ml(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new Ih(null,null,o,a,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=rd(t.version);return a=t.hasCommittedMutations,new Ih(null,new xh(s,u),null,a,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=rd(t.version);return new Ih(new Sh(c,l),null,null,!0,r,i)}return Xs()}function td(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function nd(e){var t=new ou(e[0],e[1]);return au.fromTimestamp(t)}function rd(e){var t=e.toTimestamp();return new yh(t.seconds,t.nanoseconds)}function id(e){var t=new ou(e.seconds,e.nanoseconds);return au.fromTimestamp(t)}function od(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Jl(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return Jl(e.Lt,t)})),s=ou.fromMillis(t.localWriteTimeMs);return new Yh(t.batchId,s,n,a)}function ad(e){var t,n,r=id(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?id(e.lastLimboFreeSnapshotVersion):au.min();return void 0!==e.query.documents?(Js(1===(n=e.query).documents.length),t=bc(dc(Hl(n.documents[0])))):t=function(e){return bc(th(e))}(e.query),new Xh(t,e.targetId,0,e.lastListenSequenceNumber,r,i,gu.fromBase64String(e.resumeToken))}function sd(e,t){var n,r=rd(t.snapshotVersion),i=rd(t.lastLimboFreeSnapshotVersion);n=Qu(t.target)?Zl(e.Lt,t.target):eh(e.Lt,t.target);var o=t.resumeToken.toBase64();return new Eh(t.targetId,Hu(t.target),r,o,t.sequenceNumber,i,n)}function ud(e){var t=th({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?_c(t,t.limit,"L"):t}var cd=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return ld(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:id(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return ld(e).put({bundleId:(n=t).id,createTime:rd(ql(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return hd(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:ud(t.bundledQuery),readTime:id(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return hd(e).put(function(e){return{name:e.name,readTime:rd(ql(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function ld(e){return Qh(e,Rh.store)}function hd(e){return Qh(e,jh.store)}var dd=function(){function e(){this.Bt=new fd}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),Mh.resolve()},e.prototype.getCollectionParents=function(e,t){return Mh.resolve(this.Bt.getEntries(t))},e}(),fd=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new fl(hu.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new fl(hu.comparator)).toArray()},e}(),pd=function(){function e(){this.qt=new fd}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:fh(i)};return gd(e).put(o)}return Mh.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[iu(t),""],!1,!0);return gd(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(vh(o.parent))}return n}))},e}();function gd(e){return Qh(e,Nh.store)}var vd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yd=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function md(e,t,n){var r=e.store(_h.store),i=e.store(wh.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){Js(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=wh.key(t,d.key.path,n.batchId);o.push(i.delete(f)),c.push(d.key)}return Mh.waitFor(o).next((function(){return c}))}function bd(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Xs();t=e.noDocument}return JSON.stringify(t).length}yd.DEFAULT_COLLECTION_PERCENTILE=10,yd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yd.DEFAULT=new yd(41943040,yd.DEFAULT_COLLECTION_PERCENTILE,yd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yd.DISABLED=new yd(-1,0,0);var _d=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,r,i){return Js(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xd(e).$t({index:_h.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=Sd(e),a=xd(e);return a.add({}).next((function(s){Js("number"==typeof s);for(var u=new Yh(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return Xl(e.Lt,t)})),i=n.mutations.map((function(t){return Xl(e.Lt,t)}));return new _h(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new fl((function(e,t){return nu(e.canonicalString(),t.canonicalString())})),d=0,f=r;d<f.length;d++){var p=f[d],g=wh.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(g,wh.PLACEHOLDER))}return h.forEach((function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Kt[s]=u.keys()})),Mh.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return xd(e).get(t).next((function(e){return e?(Js(e.userId===n.userId),od(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Kt[t]?Mh.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Kt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return xd(e).$t({index:_h.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Js(t.batchId>=r),o=od(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return xd(e).$t({index:_h.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xd(e).Nt(_h.userMutationsIndex,n).next((function(e){return e.map((function(e){return od(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=wh.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Sd(e).$t({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=vh(u);if(s===n.userId&&t.path.isEqual(l))return xd(e).get(c).next((function(e){if(!e)throw Xs();Js(e.userId===n.userId),o.push(od(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new fl(nu),i=[];return t.forEach((function(t){var o=wh.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=Sd(e).$t({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],c=vh(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),Mh.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=wh.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new fl(nu);return Sd(e).$t({range:a},(function(e,t,o){var a=e[0],u=e[1],c=e[2],l=vh(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(e,s)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(xd(e).get(t).next((function(e){if(null===e)throw Xs();Js(e.userId===n.userId),r.push(od(n.R,e))})))})),Mh.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return md(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),Mh.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Mh.resolve();var r=IDBKeyRange.lowerBound(wh.prefixForUser(t.userId)),i=[];return Sd(e).$t({range:r},(function(e,n,r){if(e[0]===t.userId){var o=vh(e[1]);i.push(o)}else r.done()})).next((function(){Js(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return wd(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return Id(e).get(this.userId).next((function(e){return e||new bh(t.userId,-1,"")}))},e}();function wd(e,t,n){var r=wh.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Sd(e).$t({range:o,Ft:!0},(function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function xd(e){return Qh(e,_h.store)}function Sd(e){return Qh(e,wh.store)}function Id(e){return Qh(e,bh.store)}var Cd=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),Ed=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new Cd(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return au.fromTimestamp(new ou(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return kd(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return Js(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return kd(e).$t((function(a,s){var u=ad(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return Mh.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return kd(e).$t((function(e,n){var r=ad(n);t(r)}))},e.prototype.Xt=function(e){return Td(e).get(Th.key).next((function(e){return Js(null!==e),e}))},e.prototype.Zt=function(e,t){return Td(e).put(Th.key,t)},e.prototype.te=function(e,t){return kd(e).put(sd(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=Hu(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return kd(e).$t({range:r,index:Eh.queryTargetsIndexName},(function(e,n,r){var o=ad(n);Gu(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=Nd(e);return t.forEach((function(t){var a=fh(t.path);i.push(o.put(new kh(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),Mh.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=Nd(e);return Mh.forEach(t,(function(t){var o=fh(t.path);return Mh.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=Nd(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Nd(e),i=xl();return r.$t({range:n,Ft:!0},(function(e,t,n){var r=vh(e[1]),o=new Eu(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=fh(t.path),r=IDBKeyRange.bound([n],[iu(n)],!1,!0),i=0;return Nd(e).$t({index:kh.documentTargetsIndex,Ft:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return kd(e).get(t).next((function(e){return e?ad(e):null}))},e}();function kd(e){return Qh(e,Eh.store)}function Td(e){return Qh(e,Th.store)}function Nd(e){return Qh(e,kh.store)}function Ad(e){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){return(0,Ir.__generator)(this,(function(t){if(e.code!==zs.FAILED_PRECONDITION||e.message!==Dh)throw e;return Gs("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function Rd(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=nu(n,i);return 0===a?nu(r,o):a}var jd=function(){function e(e){this.ne=e,this.buffer=new fl(Rd),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Rd(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),Pd=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;Gs("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return(0,Ir.__awaiter)(t,void 0,void 0,(function(){var t;return(0,Ir.__generator)(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Bh(t=n.sent())?(Gs("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,Ad(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),Dd=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return Mh.resolve(Bs.o);var r=new jd(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Gs("LruGarbageCollector","Garbage collection skipped; disabled"),Mh.resolve(vd)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Gs("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),vd):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Gs("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Hs()<=Er.LogLevel.DEBUG&&Gs("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),Mh.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),Od=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new Dd(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return Ld(e,n)},e.prototype.removeReference=function(e,t,n){return Ld(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return Ld(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return Id(e).Ot((function(r){return wd(e,r,t).next((function(e){return e&&(n=!0),Mh.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,s){if(s<=t){var u=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),Nd(e).delete([0,fh(a.path)])}))}));i.push(u)}})).next((function(){return Mh.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return Ld(e,t)},e.prototype.we=function(e,t){var n,r=Nd(e),i=Bs.o;return r.$t({index:kh.documentTargetsIndex},(function(e,r){var o=e[0];e[1];var a=r.path,s=r.sequenceNumber;0===o?(i!==Bs.o&&t(new Eu(vh(n)),i),i=s,n=a):i=Bs.o})).next((function(){i!==Bs.o&&t(new Eu(vh(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function Ld(e,t){return Nd(e).put(function(e,t){return new kh(0,fh(e.path),t)}(t,e.currentSequenceNumber))}var Md=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){uu(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},e.prototype.isEmpty=function(){return cu(this.inner)},e}(),Fd=function(){function e(){this.changes=new Md((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:au.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:zu.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Mh.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),Ud=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return Bd(e).put(zd(t),n)},e.prototype.removeEntry=function(e,t){var n=Bd(e),r=zd(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return Bd(e).get(zd(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return Bd(e).get(zd(t)).next((function(e){return{document:n.ye(t,e),size:bd(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=vl();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=vl(),i=new ll(Eu.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,bd(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return Mh.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return Bd(e).$t({range:r},(function(e,t,r){for(var a=Eu.fromSegments(e);o&&Eu.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=vl(),o=t.path.length+1,a={};if(n.isEqual(au.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=td(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Ih.collectionReadTimeIndex}return Bd(e).$t(a,(function(e,n,a){if(e.length===o){var s=Zh(r.R,n);t.path.isPrefixOf(s.key.path)?Ic(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new qd(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return Vd(e).get(Ch.key).next((function(e){return Js(!!e),e}))},e.prototype.me=function(e,t){return Vd(e).put(Ch.key,t)},e.prototype.ye=function(e,t){if(t){var n=Zh(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(au.min()))return n}return zu.newInvalidDocument(e)},e}(),qd=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new Md((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return(0,Ir.__extends)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new fl((function(e,t){return nu(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Ae.get(o);if(a.document.isValidDocument()){var u=ed(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=bd(u);r+=c-s,n.push(t.Ie.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=ed(t.Ie.R,zu.newNoDocument(o,au.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),Mh.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(Fd);function Vd(e){return Qh(e,Ch.store)}function Bd(e){return Qh(e,Ih.store)}function zd(e){return e.path.toArray()}var Wd=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;Js(n<r&&n>=0&&r<=11);var o=new Fh("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(mh.store)}(e),function(e){e.createObjectStore(bh.store,{keyPath:bh.keyPath}),e.createObjectStore(_h.store,{keyPath:_h.keyPath,autoIncrement:!0}).createIndex(_h.userMutationsIndex,_h.userMutationsKeyPath,{unique:!0}),e.createObjectStore(wh.store)}(e),Kd(e),function(e){e.createObjectStore(Ih.store)}(e));var a=Mh.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(kh.store),e.deleteObjectStore(Eh.store),e.deleteObjectStore(Th.store)}(e),Kd(e)),a=a.next((function(){return function(e){var t=e.store(Th.store),n=new Th(0,0,au.min().toTimestamp(),0);return t.put(Th.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(_h.store).Nt().next((function(n){e.deleteObjectStore(_h.store),e.createObjectStore(_h.store,{keyPath:_h.keyPath,autoIncrement:!0}).createIndex(_h.userMutationsIndex,_h.userMutationsKeyPath,{unique:!0});var r=t.store(_h.store),i=n.map((function(e){return r.put(e)}));return Mh.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(Ah.store,{keyPath:Ah.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(Ch.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Ih.store);t.createIndex(Ih.readTimeIndex,Ih.readTimeIndexPath,{unique:!1}),t.createIndex(Ih.collectionReadTimeIndex,Ih.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(Rh.store,{keyPath:Rh.keyPath})}(e),function(e){e.createObjectStore(jh.store,{keyPath:jh.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(Ih.store).$t((function(e,n){t+=bd(n)})).next((function(){var n=new Ch(t);return e.store(Ch.store).put(Ch.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(bh.store),r=e.store(_h.store);return n.Nt().next((function(n){return Mh.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(_h.userMutationsIndex,i).next((function(r){return Mh.forEach(r,(function(r){Js(r.userId===n.userId);var i=od(t.R,r);return md(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(kh.store),n=e.store(Ih.store);return e.store(Th.store).get(Th.key).next((function(e){var r=[];return n.$t((function(n,i){var o=new hu(n),a=function(e){return[0,fh(e)]}(o);r.push(t.get(a).next((function(n){return n?Mh.resolve():function(n){return t.put(new kh(0,fh(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return Mh.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(Nh.store,{keyPath:Nh.keyPath});var n=t.store(Nh.store),r=new fd,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:fh(i)})}};return t.store(Ih.store).$t({Ft:!0},(function(e,t){var n=new hu(e);return i(n.popLast())})).next((function(){return t.store(wh.store).$t({Ft:!0},(function(e,t){e[0];var n=e[1];e[2];var r=vh(n);return i(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(Eh.store);return n.$t((function(e,r){var i=ad(r),o=sd(t.R,i);return n.put(o)}))},e}();function Kd(e){e.createObjectStore(kh.store,{keyPath:kh.keyPath}).createIndex(kh.documentTargetsIndex,kh.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Eh.store,{keyPath:Eh.keyPath}).createIndex(Eh.queryTargetsIndexName,Eh.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Th.store)}var Hd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Gd=function(){function e(t,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new Ws(zs.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Od(this,i),this.Le=n+"main",this.R=new Jh(u),this.Be=new Uh(this.Le,11,new Wd(this.R)),this.qe=new Ed(this.referenceDelegate,this.R),this.Ut=new pd,this.Ue=function(e,t){return new Ud(e,t)}(this.R,this.Ut),this.Ke=new cd,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&Qs("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Ws(zs.FAILED_PRECONDITION,Hd);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new Bs(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return(0,Ir.__awaiter)(t,void 0,void 0,(function(){return(0,Ir.__generator)(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return(0,Ir.__awaiter)(t,void 0,void 0,(function(){return(0,Ir.__generator)(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return(0,Ir.__awaiter)(t,void 0,void 0,(function(){return(0,Ir.__generator)(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Yd(t).put(new Ah(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(Bh(t))return Gs("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Gs("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return Qd(e).get(mh.key).next((function(e){return Mh.resolve(t.tn(e))}))},e.prototype.en=function(e){return Yd(e).delete(this.clientId)},e.prototype.nn=function(){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i=this;return(0,Ir.__generator)(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Qh(e,Ah.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Mh.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)r=n[t],this.Qe.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?Mh.resolve(!0):Qd(e).get(mh.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new Ws(zs.FAILED_PRECONDITION,Hd);return!1}}return!(!t.networkEnabled||!t.inForeground)||Yd(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Gs("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var e=this;return(0,Ir.__generator)(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[mh.store,Ah.store],(function(t){var n=new Gh(t,Bs.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Yd(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return _d.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;Gs("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,Ph,(function(o){return i=new Gh(o,r.Ne?r.Ne.next():Bs.o),"readwrite-primary"===t?r.Je(i).next((function(e){return!!e||r.Ye(i)})).next((function(t){if(!t)throw Qs("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new Ws(zs.FAILED_PRECONDITION,Dh);return n(i)})).next((function(e){return r.Ze(i).next((function(){return e}))})):r.dn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return Qd(e).get(mh.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Ws(zs.FAILED_PRECONDITION,Hd)}))},e.prototype.Ze=function(e){var t=new mh(this.clientId,this.allowTabSynchronization,Date.now());return Qd(e).put(mh.key,t)},e.yt=function(){return Uh.yt()},e.prototype.Xe=function(e){var t=this,n=Qd(e);return n.get(mh.key).next((function(e){return t.tn(e)?(Gs("IndexedDbPersistence","Releasing primary lease."),n.delete(mh.key)):Mh.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(Qs("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){t.un(),(0,Cr.isSafari)()&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return Gs("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return Qs("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){Qs("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function Qd(e){return Qh(e,mh.store)}function Yd(e){return Qh(e,Ah.store)}function $d(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Xd=function(e,t){this.progress=e,this.wn=t},Jd=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return Eu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):yc(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new Eu(t)).next((function(e){var t=ml();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=ml();return this.Ut.getCollectionParents(e,i).next((function(a){return Mh.forEach(a,(function(a){var s=function(e,t){return new lc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=zu.newInvalidDocument(c),r=r.insert(c,l)),Qc(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){Ic(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=xl(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Zc&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},e}(),Zd=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=xl(),i=xl(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),ef=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(au.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(o){var a=i.Cn(t,o);return(fc(t)||pc(t))&&i.Nn(t.limitType,a,r,n)?i.Dn(e,t):(Hs()<=Er.LogLevel.DEBUG&&Gs("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Sc(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new fl(Cc(e));return t.forEach((function(t,r){Ic(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return Hs()<=Er.LogLevel.DEBUG&&Gs("QueryEngine","Using full collection scan to execute query:",Sc(t)),this.Sn.getDocumentsMatchingQuery(e,t,au.min())},e}(),tf=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.kn=new ll(nu),this.Fn=new Md((function(e){return Hu(e)}),Gu),this.$n=au.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new Jd(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.kn)}))},e}();function nf(e,t,n,r){return new tf(e,t,n,r)}function rf(e,t){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return(0,Ir.__generator)(this,(function(a){switch(a.label){case 0:return n=Zs(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new Jd(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=xl(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var d=h[l];a=a.add(d.key)}}for(var f=0,p=t;f<p.length;f++){var g=p[f];r.push(g.batchId);for(var v=0,y=g.mutations;v<y.length;v++){var m=y[v];a=a.add(m.key)}}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function of(e,t){var n=Zs(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=Mh.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);Js(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function af(e){var t=Zs(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function sf(e,t){var n=Zs(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];t.targetChanges.forEach((function(t,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return Js(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,t)&&a.push(n.qe.updateTargetData(e,c))}}}));var s=vl();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(uf(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(au.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(u)}return Mh.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,s)})).next((function(){return s}))})).then((function(e){return n.kn=i,e}))}function uf(e,t,n,r,i){var o=xl();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=vl();return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(au.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):Gs("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function cf(e,t){var n=Zs(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function lf(e,t){var n=Zs(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,Mh.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new Xh(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.kn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(e.targetId,e),n.Fn.set(t,e.targetId)),e}))}function hf(e,t,n){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a;return(0,Ir.__generator)(this,(function(s){switch(s.label){case 0:r=Zs(e),i=r.kn.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!Bh(a=s.sent()))throw a;return Gs("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}}))}))}function df(e,t,n){var r=Zs(e),i=au.min(),o=xl();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Zs(e),i=r.Fn.get(n);return void 0!==i?Mh.resolve(r.kn.get(i)):r.qe.getTargetData(t,n)}(r,e,bc(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:au.min(),n?o:xl())})).next((function(e){return{documents:e,Bn:o}}))}))}function ff(e,t){var n=Zs(e),r=Zs(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function pf(e){var t=Zs(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Zs(e),i=vl(),o=td(n),a=Bd(t),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:Ih.readTimeIndex,range:s},(function(e,t){var n=Zh(r.R,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{wn:i,readTime:nd(o)}}))}(t.On,e,t.$n)})).then((function(e){var n=e.wn,r=e.readTime;return t.$n=r,n}))}function gf(e){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var t;return(0,Ir.__generator)(this,(function(n){return[2,(t=Zs(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=Bd(e),n=au.min();return t.$t({index:Ih.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=nd(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.$n=e}))]}))}))}function vf(e,t,n,r){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,h,d,f;return(0,Ir.__generator)(this,(function(p){switch(p.label){case 0:for(i=Zs(e),o=xl(),a=vl(),s=_l(),u=0,c=n;u<c.length;u++)l=c[u],h=t.qn(l.metadata.name),l.document&&(o=o.add(h)),a=a.insert(h,t.Un(l)),s=s.insert(h,t.Kn(l.metadata.readTime));return d=i.On.newChangeBuffer({trackRemovals:!0}),[4,lf(i,function(e){return bc(dc(hu.fromString("__bundle__/docs/"+e)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return uf(e,d,a,au.min(),s).next((function(t){return d.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,f.targetId).next((function(){return i.qe.addMatchingKeys(e,o,f.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function yf(e,t,n){return void 0===n&&(n=xl()),(0,Ir.__awaiter)(this,void 0,void 0,(function(){var r,i;return(0,Ir.__generator)(this,(function(o){switch(o.label){case 0:return[4,lf(e,bc(ud(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Zs(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=ql(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(e,t);var a=r.withResumeToken(gu.EMPTY_BYTE_STRING,o);return i.kn=i.kn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Ke.saveNamedQuery(e,t)}))}))]}}))}))}var mf=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return Mh.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Qn.set(t.id,{id:(n=t).id,version:n.version,createTime:ql(n.createTime)}),Mh.resolve()},e.prototype.getNamedQuery=function(e,t){return Mh.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:ud(e.bundledQuery),readTime:ql(e.readTime)}}(t)),Mh.resolve()},e}(),bf=function(){function e(){this.Wn=new fl(_f.Gn),this.zn=new fl(_f.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new _f(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new _f(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new Eu(new hu([])),r=new _f(n,e),i=new _f(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new Eu(new hu([])),n=new _f(t,e),r=new _f(t,e+1),i=xl();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new _f(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),_f=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return Eu.comparator(e.key,t.key)||nu(e.ns,t.ns)},e.Hn=function(e,t){return nu(e.ns,t.ns)||Eu.comparator(e.key,t.key)},e}(),wf=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new fl(_f.Gn)}return e.prototype.checkEmpty=function(e){return Mh.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new Yh(i,t,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new _f(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return Mh.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return Mh.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return Mh.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return Mh.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return Mh.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new _f(t,0),i=new _f(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),Mh.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new fl(nu);return t.forEach((function(e){var t=new _f(e,0),i=new _f(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),Mh.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;Eu.isDocumentKey(i)||(i=i.child(""));var o=new _f(new Eu(i),0),a=new fl(nu);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),Mh.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;Js(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return Mh.forEach(t.mutations,(function(i){var o=new _f(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new _f(t,0),r=this.rs.firstAfterOrEqual(n);return Mh.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,Mh.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),xf=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new ll(Eu.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return Mh.resolve(n?n.document.clone():zu.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=vl();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():zu.newInvalidDocument(e))})),Mh.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=vl(),i=new Eu(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||Ic(t,c)&&(r=r.insert(c.key,c.clone()))}return Mh.resolve(r)},e.prototype.fs=function(e,t){return Mh.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new Sf(this)},e.prototype.getSize=function(e){return Mh.resolve(this.size)},e}(),Sf=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return(0,Ir.__extends)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),Mh.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(Fd),If=function(){function e(e){this.persistence=e,this.ds=new Md((function(e){return Hu(e)}),Gu),this.lastRemoteSnapshotVersion=au.min(),this.highestTargetId=0,this.ws=0,this._s=new bf,this.targetCount=0,this.ys=Cd.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),Mh.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return Mh.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return Mh.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),Mh.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),Mh.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new Cd(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,Mh.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),Mh.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,Mh.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Mh.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return Mh.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return Mh.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),Mh.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Mh.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),Mh.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return Mh.resolve(n)},e.prototype.containsKey=function(e,t){return Mh.resolve(this._s.containsKey(t))},e}(),Cf=function(){function e(e,t){var n=this;this.gs={},this.Ne=new Bs(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new If(this),this.Ut=new dd,this.Ue=function(e,t){return new xf(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new Jh(t),this.Ke=new mf(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new wf(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;Gs("MemoryPersistence","Starting transaction:",e);var i=new Ef(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return Mh.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),Ef=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return(0,Ir.__extends)(t,e),t}(Oh),kf=function(){function e(e){this.persistence=e,this.As=new bf,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Xs()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),Mh.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),Mh.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),Mh.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Mh.forEach(this.vs,(function(r){var i=Eu.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return Mh.or([function(){return Mh.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),Tf=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function Nf(e,t){return"firestore_clients_"+e+"_"+t}function Af(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function Rf(e,t){return"firestore_targets_"+e+"_"+t}Tf.UNAUTHENTICATED=new Tf(null),Tf.GOOGLE_CREDENTIALS=new Tf("google-credentials-uid"),Tf.FIRST_PARTY=new Tf("first-party-uid"),Tf.MOCK_USER=new Tf("mock-user");var jf=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Ws(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(Qs("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Pf=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Ws(i.error.code,i.error.message)),o?new e(t,i.state,r):(Qs("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Df=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Il(),a=0;i&&a<r.activeTargetIds.length;++a)i=Cu(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(Qs("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Of=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Qs("SharedClientState","Failed to parse online state: "+t),null)},e}(),Lf=function(){function e(){this.activeTargetIds=Il()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),Mf=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new ll(nu),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=Nf(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Lf),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Ks=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l,h=this;return(0,Ir.__generator)(this,(function(d){switch(d.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=d.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(Nf(this.persistenceKey,r)))&&(o=Df.Vs(r,i))&&(this.Fs=this.Fs.insert(o.clientId,o));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.$s;u<c.length;u++)l=c[u],this.ks(l);return this.$s=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.Fs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Rf(this.persistenceKey,e));if(n){var r=Pf.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(Rf(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return Gs("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){Gs("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){Gs("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.ks=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Gs("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Qs("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return(0,Ir.__awaiter)(t,void 0,void 0,(function(){var e,t,r,i,o,a;return(0,Ir.__generator)(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(e){var t=Bs.o;if(null!=e)try{var n=JSON.parse(e);Js("number"==typeof n),t=n}catch(e){Qs("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==Bs.o&&this.sequenceNumberHandler(a);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new jf(this.currentUser,e,t,n),i=Af(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=Af(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=Rf(this.persistenceKey,e),i=new Pf(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return Df.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return jf.Vs(new Tf(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return Pf.Vs(r,t)},e.prototype.js=function(e){return Of.Vs(e)},e.prototype.ii=function(e){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){return(0,Ir.__generator)(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(Gs("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.Fs.insert(e,t):this.Fs.remove(e),i=this.Gs(this.Fs),o=this.Gs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.hi(a,s).then((function(){n.Fs=r}))},e.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=Il();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),Ff=function(){function e(){this.li=new Lf,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new Lf,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),Uf=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),qf=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){Gs("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){Gs("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),Vf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Bf=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),zf=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return(0,Ir.__extends)(t,e),t.prototype.Fi=function(e,t,n,r){return new Promise((function(i,o){var a=new Vs;a.listenOnce(Ls.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case Os.NO_ERROR:var t=a.getResponseJson();Gs("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Os.TIMEOUT:Gs("Connection",'RPC "'+e+'" timed out'),o(new Ws(zs.DEADLINE_EXCEEDED,"Request time out"));break;case Os.HTTP_ERROR:var n=a.getStatus();if(Gs("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(zs).indexOf(t)>=0?t:zs.UNKNOWN}(r.status);o(new Ws(s,r.message))}else o(new Ws(zs.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Ws(zs.UNAVAILABLE,"Connection failed."));break;default:Xs()}}finally{Gs("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},t.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=Ps(),i=Ds(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Us({})),this.ki(o.initMessageHeaders,t),(0,Cr.isMobileCordova)()||(0,Cr.isReactNative)()||(0,Cr.isElectron)()||(0,Cr.isIE)()||(0,Cr.isUWP)()||(0,Cr.isBrowserExtension)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");Gs("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new Bf({Ei:function(e){c?Gs("Connection","Not sending because WebChannel is closed:",e):(u||(Gs("Connection","Opening WebChannel transport."),s.open(),u=!0),Gs("Connection","WebChannel sending:",e),s.send(e))},Ti:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,qs.EventType.OPEN,(function(){c||Gs("Connection","WebChannel transport opened.")})),h(s,qs.EventType.CLOSE,(function(){c||(c=!0,Gs("Connection","WebChannel transport closed"),l.Vi())})),h(s,qs.EventType.ERROR,(function(e){c||(c=!0,Ys("Connection","WebChannel transport errored:",e),l.Vi(new Ws(zs.UNAVAILABLE,"The operation could not be completed")))})),h(s,qs.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];Js(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Gs("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=rl[e];if(void 0!==t)return cl(t)}(o),u=i.message;void 0===a&&(a=zs.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),c=!0,l.Vi(new Ws(a,u)),s.close()}else Gs("Connection","WebChannel received:",n),l.Si(n)}})),h(i,Ms.STAT_EVENT,(function(e){e.stat===Fs.PROXY?Gs("Connection","Detected buffering proxy"):e.stat===Fs.NOPROXY&&Gs("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);Gs("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(e,i,o,n).then((function(e){return Gs("RestConnection","Received: ",e),e}),(function(t){throw Ys("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.ki=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=Vf[e];return this.Di+"/v1/"+t+":"+n},e}());function Wf(){return"undefined"!=typeof window?window:null}function Kf(){return"undefined"!=typeof document?document:null}function Hf(e){return new Ll(e,!0)}var Gf=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&Gs("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Ki=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),Qf=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Gf(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){return(0,Ir.__generator)(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){return(0,Ir.__generator)(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){return(0,Ir.__generator)(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===zs.RESOURCE_EXHAUSTED?(Qs(t.toString()),Qs("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===zs.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new Ws(zs.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return(0,Ir.__awaiter)(e,void 0,void 0,(function(){return(0,Ir.__generator)(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return Gs("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(Gs("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),Yf=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return(0,Ir.__extends)(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Xs()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(Js(void 0===t||"string"==typeof t),gu.fromBase64String(t||"")):(Js(void 0===t||t instanceof Uint8Array),gu.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?zs.UNKNOWN:cl(e.code);return new Ws(t,e.message||"")}(s);n=new Nl(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=Wl(e,r.document.name),o=ql(r.document.updateTime);var s=new Vu({mapValue:{fields:r.document.fields}}),u=(a=zu.newFoundDocument(i,o,s),r.targetIds||[]),c=r.removedTargetIds||[];n=new kl(u,c,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=Wl(e,r.document),o=r.readTime?ql(r.readTime):au.min(),s=zu.newNoDocument(i,o),a=r.removedTargetIds||[],n=new kl([],a,s.key,s);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=Wl(e,r.document),o=r.removedTargetIds||[],n=new kl([],o,i,null);else{if(!("filter"in t))return Xs();t.filter;var l=t.filter;l.targetId,r=l.count||0,i=new sl(r),o=l.targetId,n=new Tl(o,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return au.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?au.min():t.readTime?ql(t.readTime):au.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=Gl(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=Qu(r)?{documents:Zl(e,r)}:{query:eh(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Fl(e,t.resumeToken):t.snapshotVersion.compareTo(au.min())>0&&(n.readTime=Ml(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Xs()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=Gl(this.R),t.removeTarget=e,this.cr(t)},t}(Qf),$f=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return(0,Ir.__extends)(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(Js(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(Js(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?ql(e.updateTime):ql(t);return n.isEqual(au.min())&&(n=ql(t)),new zc(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=ql(e.commitTime);return this.listener.Tr(n,t)}return Js(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=Gl(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Xl(t.R,e)}))};this.cr(n)},t}(Qf),Xf=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,Ir.__extends)(t,e),t.prototype.br=function(){if(this.Rr)throw new Ws(zs.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===zs.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new Ws(zs.UNKNOWN,e.toString())}))},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===zs.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new Ws(zs.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),Jf=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Qs(t),this.Vr=!1):Gs("OnlineStateTracker",t)},e.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),Zf=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return(0,Ir.__awaiter)(o,void 0,void 0,(function(){return(0,Ir.__generator)(this,(function(e){switch(e.label){case 0:return up(this)?(Gs("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var t;return(0,Ir.__generator)(this,(function(n){switch(n.label){case 0:return(t=Zs(e)).Or.add(4),[4,tp(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,ep(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new Jf(n,r)};function ep(e){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,Ir.__generator)(this,(function(r){switch(r.label){case 0:if(!up(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function tp(e){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,Ir.__generator)(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function np(e,t){var n=Zs(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),sp(n)?ap(n):Sp(n).er()&&ip(n,t))}function rp(e,t){var n=Zs(e),r=Sp(n);n.$r.delete(t),r.er()&&op(n,t),0===n.$r.size&&(r.er()?r.ir():up(n)&&n.Br.set("Unknown"))}function ip(e,t){e.qr.U(t.targetId),Sp(e).mr(t)}function op(e,t){e.qr.U(t),Sp(e).yr(t)}function ap(e){e.qr=new Rl({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Sp(e).start(),e.Br.Sr()}function sp(e){return up(e)&&!Sp(e).tr()&&e.$r.size>0}function up(e){return 0===Zs(e).Or.size}function cp(e){e.qr=void 0}function lp(e){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){return(0,Ir.__generator)(this,(function(t){return e.$r.forEach((function(t,n){ip(e,t)})),[2]}))}))}function hp(e,t){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){return(0,Ir.__generator)(this,(function(n){return cp(e),sp(e)?(e.Br.Nr(t),ap(e)):e.Br.set("Unknown"),[2]}))}))}function dp(e,t,n){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return(0,Ir.__generator)(this,(function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof Nl&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return(0,Ir.__generator)(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.$r.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.$r.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),Gs("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,fp(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof kl?e.qr.X(t):t instanceof Tl?e.qr.rt(t):e.qr.et(t),n.isEqual(au.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,af(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.$r.get(r);i&&e.$r.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.$r.get(t);if(n){e.$r.set(t,n.withResumeToken(gu.EMPTY_BYTE_STRING,n.snapshotVersion)),op(e,t);var r=new Xh(n.target,t,1,n.sequenceNumber);ip(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return Gs("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,fp(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function fp(e,t,n){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var r=this;return(0,Ir.__generator)(this,(function(i){switch(i.label){case 0:if(!Bh(t))throw t;return e.Or.add(1),[4,tp(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return af(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return(0,Ir.__awaiter)(r,void 0,void 0,(function(){return(0,Ir.__generator)(this,(function(t){switch(t.label){case 0:return Gs("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,ep(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function pp(e,t){return t().catch((function(n){return fp(e,n,t)}))}function gp(e){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o;return(0,Ir.__generator)(this,(function(a){switch(a.label){case 0:t=Zs(e),n=Ip(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return up(e)&&e.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,cf(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.Fr.push(t);var n=Ip(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,fp(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return vp(t)&&yp(t),[2]}}))}))}function vp(e){return up(e)&&!Ip(e).tr()&&e.Fr.length>0}function yp(e){Ip(e).start()}function mp(e){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){return(0,Ir.__generator)(this,(function(t){return Ip(e).Ar(),[2]}))}))}function bp(e){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i;return(0,Ir.__generator)(this,(function(o){for(t=Ip(e),n=0,r=e.Fr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]}))}))}function _p(e,t,n){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var r,i;return(0,Ir.__generator)(this,(function(o){switch(o.label){case 0:return r=e.Fr.shift(),i=$h.from(r,t,n),[4,pp(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,gp(e)];case 2:return o.sent(),[2]}}))}))}function wp(e,t){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){return(0,Ir.__generator)(this,(function(n){switch(n.label){case 0:return t&&Ip(e).pr?[4,function(e,t){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,Ir.__generator)(this,(function(i){switch(i.label){case 0:return ul(r=t.code)&&r!==zs.ABORTED?(n=e.Fr.shift(),Ip(e).sr(),[4,pp(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,gp(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return vp(e)&&yp(e),[2]}}))}))}function xp(e,t){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n;return(0,Ir.__generator)(this,(function(r){switch(r.label){case 0:return n=Zs(e),t?(n.Or.delete(2),[4,ep(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,tp(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Sp(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=Zs(e);return r.br(),new Yf(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:lp.bind(null,e),Ri:hp.bind(null,e),_r:dp.bind(null,e)}),e.Mr.push((function(n){return(0,Ir.__awaiter)(t,void 0,void 0,(function(){return(0,Ir.__generator)(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),sp(e)?ap(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),cp(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function Ip(e){var t=this;return e.Kr||(e.Kr=function(e,t,n){var r=Zs(e);return r.br(),new $f(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:mp.bind(null,e),Ri:wp.bind(null,e),Ir:bp.bind(null,e),Tr:_p.bind(null,e)}),e.Mr.push((function(n){return(0,Ir.__awaiter)(t,void 0,void 0,(function(){return(0,Ir.__generator)(this,(function(t){switch(t.label){case 0:return n?(e.Kr.sr(),[4,gp(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:t.sent(),e.Fr.length>0&&(Gs("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Kr}var Cp=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Lh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ws(zs.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Ep(e,t){if(Qs("AsyncQueue",t+": "+e),Bh(e))return new Ws(zs.UNAVAILABLE,t+": "+e);throw e}var kp=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||Eu.comparator(t.key,n.key)}:function(e,t){return Eu.comparator(e.key,t.key)},this.keyedMap=ml(),this.sortedSet=new ll(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),Tp=function(){function e(){this.Qr=new ll(Eu.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);n?0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):Xs():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),Np=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,kp.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),Ap=function(){this.Wr=void 0,this.listeners=[]},Rp=function(){this.queries=new Md((function(e){return xc(e)}),wc),this.onlineState="Unknown",this.Gr=new Set};function jp(e,t){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return(0,Ir.__generator)(this,(function(c){switch(c.label){case 0:if(n=Zs(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new Ap),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=Ep(s,"Initialization of query '"+Sc(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&Lp(n),[2]}}))}))}function Pp(e,t){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,Ir.__generator)(this,(function(s){return n=Zs(e),r=t.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function Dp(e,t){for(var n=Zs(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&Lp(n)}function Op(e,t,n){var r=Zs(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function Lp(e){e.Gr.forEach((function(e){e.next()}))}var Mp=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new Np(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=Np.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),Fp=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),Up=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return Wl(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?$l(this.R,e.document,!1):zu.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return ql(e)},e}(),qp=function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=Vp(e)}return e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new Up(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||xl()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i;return(0,Ir.__generator)(this,(function(o){switch(o.label){case 0:return[4,vf(this.localStore,new Up(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,yf(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Xd(Object.assign({},this.progress),e))]}}))}))},e}();function Vp(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Bp=function(e){this.key=e},zp=function(e){this.key=e},Wp=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=xl(),this.mutatedKeys=xl(),this.lo=Cc(e),this.fo=new kp(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new Tp,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=fc(this.query)&&i.size===this.query.limit?i.last():null,c=pc(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),h=Ic(n.query,t)?t:null,d=!!l&&n.mutatedKeys.has(l.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?d!==f&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=f?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),fc(this.query)||pc(this.query))for(;a.size>this.query.limit;){var l=fc(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xs()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new Np(this.query,e.fo,i,o,e.mutatedKeys,0===s,u,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Tp,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=xl(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new zp(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new Bp(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=xl();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return Np.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),Kp=function(e,t,n){this.query=e,this.targetId=t,this.view=n},Hp=function(e){this.key=e,this.bo=!1},Gp=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Md((function(e){return xc(e)}),wc),this.Vo=new Map,this.So=new Set,this.Do=new ll(Eu.comparator),this.Co=new Map,this.No=new bf,this.xo={},this.ko=new Map,this.Fo=Cd.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function Qp(e,t){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,Ir.__generator)(this,(function(u){switch(u.label){case 0:return n=Sg(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,lf(n.localStore,bc(t))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,Yp(n,t,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&np(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function Yp(e,t,n,r){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u,c;return(0,Ir.__generator)(this,(function(l){switch(l.label){case 0:return e.Oo=function(t,n,r){return function(e,t,n,r){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var i,o,a;return(0,Ir.__generator)(this,(function(s){switch(s.label){case 0:return(i=t.view._o(n)).Nn?[4,df(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(ug(e,t.targetId,a.To),a.snapshot)]}}))}))}(e,t,n,r)},[4,df(e.localStore,t,!0)];case 1:return i=l.sent(),o=new Wp(t,i.Bn),a=o._o(i.documents),s=El.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(a,e.isPrimaryClient,s),ug(e,n,u.To),c=new Kp(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),u.snapshot)]}}))}))}function $p(e,t){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,Ir.__generator)(this,(function(o){switch(o.label){case 0:return n=Zs(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!wc(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,hf(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),rp(n.remoteStore,r.targetId),ag(n,r.targetId)})).catch(Ad)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return ag(n,r.targetId),[4,hf(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Xp(e,t,n){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a;return(0,Ir.__generator)(this,(function(s){switch(s.label){case 0:r=Ig(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(e,t){var n,r=Zs(e),i=ou.now(),o=t.reduce((function(e,t){return e.add(t.key)}),xl());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,o).next((function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=Yc(c,n.get(c.key));null!=l&&a.push(new Zc(c.key,l,Bu(l.value.mapValue),Wc.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(r.localStore,t)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new ll(nu)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,hg(r,i.changes)];case 3:return s.sent(),[4,gp(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=Ep(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function Jp(e,t){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,Ir.__generator)(this,(function(i){switch(i.label){case 0:n=Zs(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,sf(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(Js(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?Js(r.bo):e.removedDocuments.size>0&&(Js(r.bo),r.bo=!1))})),[4,hg(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Ad(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Zp(e,t,n){var r=Zs(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Zs(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&Lp(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function eg(e,t,n){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return(0,Ir.__generator)(this,(function(c){switch(c.label){case 0:return(r=Zs(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(a=(a=new ll(Eu.comparator)).insert(o,zu.newNoDocument(o,au.min())),s=xl().add(o),u=new Cl(au.min(),new Map,new fl(nu),a,s),[4,Jp(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),lg(r),[3,4];case 2:return[4,hf(r.localStore,t,!1).then((function(){return ag(r,t,n)})).catch(Ad)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function tg(e,t){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,Ir.__generator)(this,(function(o){switch(o.label){case 0:n=Zs(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,of(n.localStore,t)];case 2:return i=o.sent(),og(n,r,null),ig(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,hg(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Ad(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function ng(e,t,n){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var r,i;return(0,Ir.__generator)(this,(function(o){switch(o.label){case 0:r=Zs(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=Zs(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return Js(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(r.localStore,t)];case 2:return i=o.sent(),og(r,t,n),ig(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,hg(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Ad(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function rg(e,t){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,Ir.__generator)(this,(function(s){switch(s.label){case 0:up((n=Zs(e)).remoteStore)||Gs("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(e){var t=Zs(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return o=s.sent(),a=Ep(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}function ig(e,t){(e.ko.get(t)||[]).forEach((function(e){e.resolve()})),e.ko.delete(t)}function og(e,t,n){var r=Zs(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function ag(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||sg(e,t)}))}function sg(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(rp(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),lg(e))}function ug(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Bp?(e.No.addReference(o.key,t),cg(e,o)):o instanceof zp?(Gs("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||sg(e,o.key)):Xs()}}function cg(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(Gs("SyncEngine","New document in limbo: "+n),e.So.add(r),lg(e))}function lg(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new Eu(hu.fromString(t)),r=e.Fo.next();e.Co.set(r,new Hp(n)),e.Do=e.Do.insert(n,r),np(e.remoteStore,new Xh(bc(dc(n.path)),r,2,Bs.o))}}function hg(e,t,n){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a;return(0,Ir.__generator)(this,(function(s){switch(s.label){case 0:return r=Zs(e),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,s){a.push(r.Oo(s,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=Zd.Pn(s.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(e,t){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return(0,Ir.__generator)(this,(function(h){switch(h.label){case 0:n=Zs(e),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Mh.forEach(t,(function(t){return Mh.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return Mh.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return h.sent(),[3,4];case 3:if(!Bh(r=h.sent()))throw r;return Gs("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.kn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.kn=n.kn.insert(s,l));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function dg(e,t){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,Ir.__generator)(this,(function(i){switch(i.label){case 0:return(n=Zs(e)).currentUser.isEqual(t)?[3,3]:(Gs("SyncEngine","User change. New user:",t.toKey()),[4,rf(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.ko.forEach((function(e){e.forEach((function(e){e.reject(new Ws(zs.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,hg(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function fg(e,t){var n=Zs(e),r=n.Co.get(t);if(r&&r.bo)return xl().add(r.key);var i=xl(),o=n.Vo.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function pg(e,t){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,Ir.__generator)(this,(function(o){switch(o.label){case 0:return[4,df((n=Zs(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&ug(n,t.targetId,i.To),i)]}}))}))}function gg(e){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var t;return(0,Ir.__generator)(this,(function(n){return[2,pf((t=Zs(e)).localStore).then((function(e){return hg(t,e)}))]}))}))}function vg(e,t,n,r){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var i,o;return(0,Ir.__generator)(this,(function(a){switch(a.label){case 0:return[4,function(e,t){var n=Zs(e),r=Zs(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):Mh.resolve(null)}))}))}((i=Zs(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,gp(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(og(i,t,r||null),ig(i,t),function(e,t){Zs(Zs(e)._n).Gt(t)}(i.localStore,t)):Xs(),a.label=4;case 4:return[4,hg(i,o)];case 5:return a.sent(),[3,7];case 6:Gs("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}}))}))}function yg(e,t){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return(0,Ir.__generator)(this,(function(l){switch(l.label){case 0:return Sg(n=Zs(e)),Ig(n),!0!==t||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,mg(n,r.toArray())]);case 1:return i=l.sent(),n.$o=!0,[4,xp(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],np(n.remoteStore,s);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?u.push(t):c=c.then((function(){return ag(n,t),hf(n.localStore,t,!0)})),rp(n.remoteStore,t)})),[4,c]);case 4:return l.sent(),[4,mg(n,u)];case 5:return l.sent(),function(e){var t=Zs(e);t.Co.forEach((function(e,n){rp(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new ll(Eu.comparator)}(n),n.$o=!1,[4,xp(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function mg(e,t,n){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h,d,f,p,g;return(0,Ir.__generator)(this,(function(v){switch(v.label){case 0:n=Zs(e),r=[],i=[],o=0,a=t,v.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Vo.get(s))&&0!==c.length?[4,lf(n.localStore,bc(c[0]))]:[3,7]):[3,13];case 2:u=v.sent(),l=0,h=c,v.label=3;case 3:return l<h.length?(d=h[l],f=n.Po.get(d),[4,pg(n,f)]):[3,6];case 4:(p=v.sent()).snapshot&&i.push(p.snapshot),v.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,ff(n.localStore,s)];case 8:return g=v.sent(),[4,lf(n.localStore,g)];case 9:return u=v.sent(),[4,Yp(n,bg(g),s,!1)];case 10:v.sent(),v.label=11;case 11:r.push(u),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function bg(e){return hc(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function _g(e){var t=Zs(e);return Zs(Zs(t.localStore).persistence).fn()}function wg(e,t,n,r){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var i,o,a;return(0,Ir.__generator)(this,(function(s){switch(s.label){case 0:return(i=Zs(e)).$o?(Gs("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,pf(i.localStore)];case 3:return o=s.sent(),a=Cl.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,hg(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,hf(i.localStore,t,!0)];case 6:return s.sent(),ag(i,t,r),[3,8];case 7:Xs(),s.label=8;case 8:return[2]}}))}))}function xg(e,t,n){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,d;return(0,Ir.__generator)(this,(function(f){switch(f.label){case 0:if(!(r=Sg(e)).$o)return[3,10];i=0,o=t,f.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(Gs("SyncEngine","Adding an already active target "+a),[3,5]):[4,ff(r.localStore,a)]):[3,6];case 2:return s=f.sent(),[4,lf(r.localStore,s)];case 3:return u=f.sent(),[4,Yp(r,bg(s),u.targetId,!1)];case 4:f.sent(),np(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(e){return(0,Ir.__generator)(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,hf(r.localStore,e,!1).then((function(){rp(r.remoteStore,e),ag(r,e)})).catch(Ad)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},l=0,h=n,f.label=7;case 7:return l<h.length?(d=h[l],[5,c(d)]):[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function Sg(e){var t=Zs(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Jp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=fg.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=eg.bind(null,t),t.vo._r=Dp.bind(null,t.eventManager),t.vo.Mo=Op.bind(null,t.eventManager),t}function Ig(e){var t=Zs(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=tg.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ng.bind(null,t),t}function Cg(e,t,n){var r=Zs(e);(function(e,t,n){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return(0,Ir.__generator)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,14,,15]),[4,t.getMetadata()];case 1:return r=c.sent(),[4,function(e,t){var n=Zs(e),r=ql(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ke.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(e.localStore,r)];case 2:return c.sent()?[4,t.close()]:[3,4];case 3:return[2,(c.sent(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)))];case 4:return n._updateProgress(Vp(r)),i=new qp(r,e.localStore,t.R),[4,t.Lo()];case 5:o=c.sent(),c.label=6;case 6:return o?[4,i.oo(o)]:[3,10];case 7:return(a=c.sent())&&n._updateProgress(a),[4,t.Lo()];case 8:o=c.sent(),c.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return s=c.sent(),[4,hg(e,s.wn,void 0)];case 12:return c.sent(),[4,function(e,t){var n=Zs(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ke.saveBundleMetadata(e,t)}))}(e.localStore,r)];case 13:return c.sent(),n._completeWith(s.progress),[3,15];case 14:return Ys("SyncEngine","Loading bundle failed with "+(u=c.sent())),n._failWith(u),[3,15];case 15:return[2]}}))}))})(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var Eg=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){return(0,Ir.__generator)(this,(function(t){switch(t.label){case 0:return this.R=Hf(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){return nf(this.persistence,new ef,e.initialUser,this.R)},e.prototype.qo=function(e){return new Cf(kf.bs,this.R)},e.prototype.Bo=function(e){return new Ff},e.prototype.terminate=function(){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){return(0,Ir.__generator)(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),kg=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,Ir.__extends)(t,e),t.prototype.initialize=function(t){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n=this;return(0,Ir.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return r.sent(),[4,gf(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,t)];case 3:return r.sent(),[4,Ig(this.Qo.syncEngine)];case 4:return r.sent(),[4,gp(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()}))];case 6:return r.sent(),[2]}}))}))},t.prototype.Ko=function(e){return nf(this.persistence,new ef,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Pd(t,e.asyncQueue)},t.prototype.qo=function(e){var t=$d(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?yd.withCacheSize(this.cacheSizeBytes):yd.DEFAULT;return new Gd(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Wf(),Kf(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new Ff},t}(Eg),Tg=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Qo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,Ir.__extends)(t,e),t.prototype.initialize=function(t){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n,r=this;return(0,Ir.__generator)(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof Mf?(this.sharedClientState.syncEngine={ui:vg.bind(null,n),ai:wg.bind(null,n),hi:xg.bind(null,n),fn:_g.bind(null,n),ci:gg.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return(0,Ir.__awaiter)(r,void 0,void 0,(function(){return(0,Ir.__generator)(this,(function(t){switch(t.label){case 0:return[4,yg(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=Wf();if(!Mf.yt(t))throw new Ws(zs.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=$d(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Mf(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(kg),Ng=function(){function e(){}return e.prototype.initialize=function(e,t){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n=this;return(0,Ir.__generator)(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Zp(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=dg.bind(null,this.syncEngine),[4,xp(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new Rp},e.prototype.createDatastore=function(e){var t,n=Hf(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new zf(t));return function(e,t,n){return new Xf(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Zp(a.syncEngine,e,0)},o=qf.yt()?new qf:new Uf,new Zf(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var s=new Gp(e,t,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var t;return(0,Ir.__generator)(this,(function(n){switch(n.label){case 0:return t=Zs(e),Gs("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,tp(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}();function Ag(e,t){void 0===t&&(t=10240);var n=0;return{read:function(){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var r;return(0,Ir.__generator)(this,(function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]}))}))},cancel:function(){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){return(0,Ir.__generator)(this,(function(e){return[2]}))}))},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Rg=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),jg=function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new Lh,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){return(0,Ir.__generator)(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){return(0,Ir.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r;return(0,Ir.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Fp(JSON.parse(r),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,Ir.__generator)(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var t;return(0,Ir.__generator)(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,Ir.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))},e}(),Pg=function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,Ir.__generator)(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Ws(zs.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,Ir.__generator)(this,(function(u){switch(u.label){case 0:return n=Zs(e),r=Gl(n.R)+"/documents",i={documents:t.map((function(e){return zl(n.R,e)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){Js(!!t.found),t.found.name,t.found.updateTime;var n=Wl(e,t.found.name),r=ql(t.found.updateTime),i=new Vu({mapValue:{fields:t.found.fields}});return zu.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Js(!!t.missing),Js(!!t.readTime);var n=Wl(e,t.missing),r=ql(t.readTime);return zu.newNoDocument(n,r)}(e,t):Xs()}(n.R,e);a.set(t.key.toString(),t)})),s=[],[2,(t.forEach((function(e){var t=a.get(e.toString());Js(!!t),s.push(t)})),s)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new ol(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var e,t=this;return(0,Ir.__generator)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=Eu.fromPath(n);t.mutations.push(new al(r,t.precondition(r)))})),[4,function(e,t){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,Ir.__generator)(this,(function(o){switch(o.label){case 0:return n=Zs(e),r=Gl(n.R)+"/documents",i={writes:t.map((function(e){return Xl(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Xs();t=au.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Ws(zs.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Wc.updateTime(t):Wc.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(au.min()))throw new Ws(zs.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Wc.updateTime(t)}return Wc.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}(),Dg=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Gf(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return(0,Ir.__awaiter)(e,void 0,void 0,(function(){var e,t,n=this;return(0,Ir.__generator)(this,(function(r){return e=new Pg(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!Su(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!ul(t)}return!1},e}(),Og=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Tf.UNAUTHENTICATED,this.clientId=tu.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,(function(e){return(0,Ir.__awaiter)(r,void 0,void 0,(function(){return(0,Ir.__generator)(this,(function(t){switch(t.label){case 0:return Gs("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}}))}))}))}return e.prototype.getConfiguration=function(){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){return(0,Ir.__generator)(this,(function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Ws(zs.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Lh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return(0,Ir.__awaiter)(e,void 0,void 0,(function(){var e,n;return(0,Ir.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=Ep(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function Lg(e,t){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n,r,i=this;return(0,Ir.__generator)(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),Gs("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(e){return(0,Ir.__awaiter)(i,void 0,void 0,(function(){return(0,Ir.__generator)(this,(function(n){switch(n.label){case 0:return r.isEqual(e)?[3,2]:[4,rf(t.localStore,e)];case 1:n.sent(),r=e,n.label=2;case 2:return[2]}}))}))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function Mg(e,t){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,Ir.__generator)(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Fg(e)];case 1:return n=i.sent(),Gs("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(e){return function(e,t){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,Ir.__generator)(this,(function(i){switch(i.label){case 0:return(n=Zs(e)).asyncQueue.verifyOperationInProgress(),Gs("RemoteStore","RemoteStore received new credentials"),r=up(n),n.Or.add(3),[4,tp(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Or.delete(3),[4,ep(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,e)})),e.onlineComponents=t,[2]}}))}))}function Fg(e){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){return(0,Ir.__generator)(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(Gs("FirestoreClient","Using default OfflineComponentProvider"),[4,Lg(e,new Eg)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function Ug(e){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){return(0,Ir.__generator)(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(Gs("FirestoreClient","Using default OnlineComponentProvider"),[4,Mg(e,new Ng)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function qg(e){return Fg(e).then((function(e){return e.persistence}))}function Vg(e){return Fg(e).then((function(e){return e.localStore}))}function Bg(e){return Ug(e).then((function(e){return e.remoteStore}))}function zg(e){return Ug(e).then((function(e){return e.syncEngine}))}function Wg(e){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,Ir.__generator)(this,(function(r){switch(r.label){case 0:return[4,Ug(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=Qp.bind(null,t.syncEngine),n.onUnlisten=$p.bind(null,t.syncEngine),n)]}}))}))}function Kg(e,t,n){var r=this;void 0===n&&(n={});var i=new Lh;return e.asyncQueue.enqueueAndForget((function(){return(0,Ir.__awaiter)(r,void 0,void 0,(function(){var r;return(0,Ir.__generator)(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Rg({next:function(o){t.enqueueAndForget((function(){return Pp(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new Ws(zs.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Ws(zs.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new Mp(dc(n.path),o,{includeMetadataChanges:!0,so:!0});return jp(e,a)},[4,Wg(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function Hg(e,t,n){var r=this;void 0===n&&(n={});var i=new Lh;return e.asyncQueue.enqueueAndForget((function(){return(0,Ir.__awaiter)(r,void 0,void 0,(function(){var r;return(0,Ir.__generator)(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Rg({next:function(n){t.enqueueAndForget((function(){return Pp(e,a)})),n.fromCache&&"server"===r.source?i.reject(new Ws(zs.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new Mp(n,o,{includeMetadataChanges:!0,so:!0});return jp(e,a)},[4,Wg(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var Gg=function(e,t,n,r,i,o,a,s){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},Qg=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),Yg=new Map,$g=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},Xg=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable((function(){return t(Tf.UNAUTHENTICATED)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Jg=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Zg=function(){function e(e){var t=this;this.currentUser=Tf.UNAUTHENTICATED,this.oc=new Lh,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)}))};var n=function(e){Gs("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit((function(e){return n(e)})),setTimeout((function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):(Gs("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}}),0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(Gs("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Js("string"==typeof n.accessToken),new $g(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable((function(){return(0,Ir.__awaiter)(n,void 0,void 0,(function(){return(0,Ir.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}}))}))}))},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return Js(null===e||"string"==typeof e),new Tf(e)},e}(),ev=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=Tf.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),tv=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new ev(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable((function(){return t(Tf.FIRST_PARTY)}))},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function nv(e,t,n){if(!n)throw new Ws(zs.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function rv(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ws(zs.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function iv(e,t,n,r){if(!0===t&&!0===r)throw new Ws(zs.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function ov(e){if(!Eu.isDocumentKey(e))throw new Ws(zs.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function av(e){if(Eu.isDocumentKey(e))throw new Ws(zs.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function sv(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":Xs()}function uv(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ws(zs.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=sv(e);throw new Ws(zs.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function cv(e,t){if(t<=0)throw new Ws(zs.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var lv=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ws(zs.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ws(zs.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,iv("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),hv=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lv({}),this._settingsFrozen=!1,e instanceof Qg?(this._databaseId=e,this._credentials=new Xg):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ws(zs.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qg(e.options.projectId)}(e),this._credentials=new Zg(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new Ws(zs.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new Ws(zs.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lv(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new Xg;switch(e.type){case"gapi":var t=e.client;return Js(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new tv(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Ws(zs.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return this,(e=Yg.get(this))&&(Gs("ComponentProvider","Removing Datastore"),Yg.delete(this),e.terminate()),Promise.resolve();var e},e}(),dv=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new pv(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),fv=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),pv=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,dc(r))||this)._path=r,i.type="collection",i}return(0,Ir.__extends)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new dv(this.firestore,null,new Eu(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(fv);function gv(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=(0,Cr.getModularInstance)(e),nv("collection","path",t),e instanceof hv)return av(n=hu.fromString.apply(hu,(0,Ir.__spreadArray)([t],r))),new pv(e,null,n);if(!(e instanceof dv||e instanceof pv))throw new Ws(zs.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return av(n=hu.fromString.apply(hu,(0,Ir.__spreadArray)([e.path],r)).child(hu.fromString(t))),new pv(e.firestore,null,n)}function vv(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=(0,Cr.getModularInstance)(e),1===arguments.length&&(t=tu.u()),nv("doc","path",t),e instanceof hv)return ov(n=hu.fromString.apply(hu,(0,Ir.__spreadArray)([t],r))),new dv(e,null,new Eu(n));if(!(e instanceof dv||e instanceof pv))throw new Ws(zs.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ov(n=e._path.child(hu.fromString.apply(hu,(0,Ir.__spreadArray)([t],r)))),new dv(e.firestore,e instanceof pv?e.converter:null,new Eu(n))}function yv(e,t){return e=(0,Cr.getModularInstance)(e),t=(0,Cr.getModularInstance)(t),(e instanceof dv||e instanceof pv)&&(t instanceof dv||t instanceof pv)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function mv(e,t){return e=(0,Cr.getModularInstance)(e),t=(0,Cr.getModularInstance)(t),e instanceof fv&&t instanceof fv&&e.firestore===t.firestore&&wc(e._query,t._query)&&e.converter===t.converter}var bv=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Gf(this,"async_queue_retry"),this.Ic=function(){var t=Kf();t&&Gs("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=Kf();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},e.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=Kf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new Lh;return this.Rc((function(){return t._c&&t.Ec?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.wc.push(e),t.bc()}))},e.prototype.bc=function(){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var e,t=this;return(0,Ir.__generator)(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Bh(e=n.sent()))throw e;return Gs("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return t.bc()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Rc=function(e){var t=this,n=this.dc.then((function(){return t.gc=!0,e().catch((function(e){throw t.yc=e,t.gc=!1,Qs("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.gc=!1,e}))}));return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var i=Cp.createAndSchedule(this,e,t,n,(function(e){return r.vc(e)}));return this.mc.push(i),i},e.prototype.Ac=function(){this.yc&&Xs()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var e;return(0,Ir.__generator)(this,(function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Vc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Sc=function(e){var t=this;return this.Pc().then((function(){t.mc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Pc()}))},e.prototype.Dc=function(e){this.Tc.push(e)},e.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function _v(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var wv=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new Lh,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},e}(),xv=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new bv,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return(0,Ir.__extends)(t,e),t.prototype._terminate=function(){return this._firestoreClient||Iv(this),this._firestoreClient.terminate()},t}(hv);function Sv(e){return e._firestoreClient||Iv(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Iv(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Gg(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Og(e._credentials,e._queue,r)}function Cv(e,t,n){var r=this,i=new Lh;return e.asyncQueue.enqueue((function(){return(0,Ir.__awaiter)(r,void 0,void 0,(function(){var r;return(0,Ir.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Lg(e,n)];case 1:return o.sent(),[4,Mg(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===zs.FAILED_PRECONDITION||e.code===zs.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Ev(e){if(e._initialized||e._terminated)throw new Ws(zs.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var kv=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new Ws(zs.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fu(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),Tv=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(gu.fromBase64String(t))}catch(t){throw new Ws(zs.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(gu.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),Nv=function(e){this._methodName=e},Av=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ws(zs.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ws(zs.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return nu(this._lat,e._lat)||nu(this._long,e._long)},e}(),Rv=/^__.*__$/,jv=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new Zc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Jc(e,this.data,t,this.fieldTransforms)},e}(),Pv=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new Zc(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function Dv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xs()}}var Ov=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.$c(e),r},e.prototype.Oc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.Cc(),r},e.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(e){return ty(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},e.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(Dv(this.Nc)&&Rv.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),Lv=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||Hf(e)}return e.prototype.Uc=function(e,t,n,r){return void 0===r&&(r=!1),new Ov({Nc:e,methodName:t,qc:n,path:fu.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Mv(e){var t=e._freezeSettings(),n=Hf(e._databaseId);return new Lv(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Fv(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);Xv("Data must be an object, but it was:",a,r);var s,u,c=Yv(r,a);if(o.merge)s=new pu(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,d=o.mergeFields;h<d.length;h++){var f=Jv(t,d[h],n);if(!a.contains(f))throw new Ws(zs.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");ny(l,f)||l.push(f)}s=new pu(l),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new jv(new Vu(c),s,u)}var Uv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Ir.__extends)(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw 1===e.Nc?e.Lc(this._methodName+"() can only appear at the top level of your update data"):e.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(Nv);function qv(e,t,n){return new Ov({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var Vv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Ir.__extends)(t,e),t.prototype._toFieldTransform=function(e){return new Bc(e.path,new Dc)},t.prototype.isEqual=function(e){return e instanceof t},t}(Nv),Bv=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return(0,Ir.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=qv(this,e,!0),n=this.Kc.map((function(e){return Qv(e,t)})),r=new Oc(n);return new Bc(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Nv),zv=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return(0,Ir.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=qv(this,e,!0),n=this.Kc.map((function(e){return Qv(e,t)})),r=new Mc(n);return new Bc(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Nv),Wv=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Qc=n,r}return(0,Ir.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=new Uc(e.R,Nc(e.R,this.Qc));return new Bc(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(Nv);function Kv(e,t,n,r){var i=e.Uc(1,t,n);Xv("Data must be an object, but it was:",i,r);var o=[],a=Vu.empty();uu(r,(function(e,r){var s=ey(t,e,n);r=(0,Cr.getModularInstance)(r);var u=i.Oc(s);if(r instanceof Uv)o.push(s);else{var c=Qv(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new pu(o);return new Pv(a,s,i.fieldTransforms)}function Hv(e,t,n,r,i,o){var a=e.Uc(1,t,n),s=[Jv(t,r,n)],u=[i];if(o.length%2!=0)throw new Ws(zs.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(Jv(t,o[c])),u.push(o[c+1]);for(var l=[],h=Vu.empty(),d=s.length-1;d>=0;--d)if(!ny(l,s[d])){var f=s[d],p=u[d];p=(0,Cr.getModularInstance)(p);var g=a.Oc(f);if(p instanceof Uv)l.push(f);else{var v=Qv(p,g);null!=v&&(l.push(f),h.set(f,v))}}var y=new pu(l);return new Pv(h,y,a.fieldTransforms)}function Gv(e,t,n,r){return void 0===r&&(r=!1),Qv(n,e.Uc(r?4:3,t))}function Qv(e,t){if($v(e=(0,Cr.getModularInstance)(e)))return Xv("Unsupported field value:",t,e),Yv(e,t);if(e instanceof Nv)return function(e,t){if(!Dv(t.Nc))throw t.Lc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Lc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=Qv(o[i],t.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,Cr.getModularInstance)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Nc(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=ou.fromDate(e);return{timestampValue:Ml(t.R,n)}}if(e instanceof ou)return n=new ou(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:Ml(t.R,n)};if(e instanceof Av)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Tv)return{bytesValue:Fl(t.R,e._byteString)};if(e instanceof dv){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Vl(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Lc("Unsupported field value: "+sv(e))}(e,t)}function Yv(e,t){var n={};return cu(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):uu(e,(function(e,r){var i=Qv(r,t.kc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function $v(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ou||e instanceof Av||e instanceof Tv||e instanceof dv||e instanceof Nv)}function Xv(e,t,n){if(!$v(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=sv(n);throw"an object"===r?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function Jv(e,t,n){if((t=(0,Cr.getModularInstance)(t))instanceof kv)return t._internalPath;if("string"==typeof t)return ey(e,t);throw ty("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var Zv=new RegExp("[~\\*/\\[\\]]");function ey(e,t,n){if(t.search(Zv)>=0)throw ty("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(kv.bind.apply(kv,(0,Ir.__spreadArray)([void 0],t.split(".")))))._internalPath}catch(am){throw ty("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function ty(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new Ws(zs.INVALID_ARGUMENT,(s+=". ")+e+u)}function ny(e,t){return e.some((function(e){return e.isEqual(t)}))}var ry=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new dv(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new iy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(oy("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),iy=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Ir.__extends)(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(ry);function oy(e,t){return"string"==typeof t?ey(e,t):t instanceof kv?t._internalPath:t._delegate._internalPath}var ay=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),sy=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return(0,Ir.__extends)(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new uy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(oy("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(ry),uy=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Ir.__extends)(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(sy),cy=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ay(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new uy(n._firestore,n._userDataWriter,r.key,r,new ay(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ws(zs.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new uy(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ay(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new uy(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ay(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:ly(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function ly(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xs()}}function hy(e,t){return e instanceof sy&&t instanceof sy?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof cy&&t instanceof cy&&e._firestore===t._firestore&&mv(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function dy(e){if(pc(e)&&0===e.explicitOrderBy.length)throw new Ws(zs.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var fy=function(){};function py(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){e=i[r]._apply(e)}return e}var gy=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).jc=t,i.Wc=n,i.Gc=r,i.type="where",i}return(0,Ir.__extends)(t,e),t.prototype._apply=function(e){var t=Mv(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Ws(zs.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){xy(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var h=l[c];u.push(wy(r,e,h))}s={arrayValue:{values:u}}}else s=wy(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||xy(a,o),s=Gv(n,"where",a,"in"===o||"not-in"===o);var d=Yu.create(i,o,s);return function(e,t){if(t.g()){var n=vc(e);if(null!==n&&!n.isEqual(t.field))throw new Ws(zs.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=gc(e);null!==r&&Sy(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Ws(zs.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new Ws(zs.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,d),d}(e._query,0,t,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new fv(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new lc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(fy),vy=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).jc=t,r.zc=n,r.type="orderBy",r}return(0,Ir.__extends)(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Ws(zs.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Ws(zs.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ac(t,n);return function(e,t){if(null===gc(e)){var n=vc(e);null!==n&&Sy(e,n,t.field)}}(e,r),r}(e._query,this.jc,this.zc);return new fv(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new lc(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(fy),yy=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return(0,Ir.__extends)(t,e),t.prototype._apply=function(e){return new fv(e.firestore,e.converter,_c(e._query,this.Hc,this.Jc))},t}(fy),my=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return(0,Ir.__extends)(t,e),t.prototype._apply=function(e){var t=_y(e,this.type,this.Yc,this.Xc);return new fv(e.firestore,e.converter,function(e,t){return new lc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(fy),by=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return(0,Ir.__extends)(t,e),t.prototype._apply=function(e){var t=_y(e,this.type,this.Yc,this.Xc);return new fv(e.firestore,e.converter,function(e,t){return new lc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(fy);function _y(e,t,n,r){if(n[0]=(0,Cr.getModularInstance)(n[0]),n[0]instanceof ry)return function(e,t,n,r,i){if(!r)throw new Ws(zs.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=mc(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(Du(t,r.key));else{var c=r.data.field(u.field);if(_u(c))throw new Ws(zs.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Ws(zs.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new ic(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Mv(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new Ws(zs.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new Ws(zs.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!yc(e)&&-1!==c.indexOf("/"))throw new Ws(zs.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(hu.fromString(c));if(!Eu.isDocumentKey(l))throw new Ws(zs.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Eu(l);s.push(Du(t,h))}else{var d=Gv(n,r,c);s.push(d)}}return new ic(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function wy(e,t,n){if("string"==typeof(n=(0,Cr.getModularInstance)(n))){if(""===n)throw new Ws(zs.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!yc(t)&&-1!==n.indexOf("/"))throw new Ws(zs.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(hu.fromString(n));if(!Eu.isDocumentKey(r))throw new Ws(zs.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Du(e,new Eu(r))}if(n instanceof dv)return Du(e,n._key);throw new Ws(zs.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+sv(n)+".")}function xy(e,t){if(!Array.isArray(e)||0===e.length)throw new Ws(zs.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new Ws(zs.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Sy(e,t,n){if(!n.isEqual(t))throw new Ws(zs.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Iy=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),ku(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mu(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(bu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Xs()}},e.prototype.convertObject=function(e,t){var n=this,r={};return uu(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new Av(mu(e.latitude),mu(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=wu(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(xu(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=yu(e);return new ou(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=hu.fromString(e);Js(dh(n));var r=new Qg(n.get(1),n.get(3)),i=new Eu(n.popFirst(5));return r.isEqual(t)||Qs("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function Cy(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Ey=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,Ir.__extends)(t,e),t.prototype.convertBytes=function(e){return new Tv(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new dv(this.firestore,null,t)},t}(Iy),ky=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Mv(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=Ty(e,this._firestore),i=Cy(r.converter,t,n),o=Fv(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Wc.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=Ty(e,this._firestore);return o="string"==typeof(t=(0,Cr.getModularInstance)(t))||t instanceof kv?Hv(this._dataReader,"WriteBatch.update",a._key,t,n,r):Kv(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,Wc.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=Ty(e,this._firestore);return this._mutations=this._mutations.concat(new ol(t._key,Wc.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new Ws(zs.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function Ty(e,t){if((e=(0,Cr.getModularInstance)(e)).firestore!==t)throw new Ws(zs.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Ny=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,Ir.__extends)(t,e),t.prototype.convertBytes=function(e){return new Tv(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new dv(this.firestore,null,t)},t}(Iy);function Ay(e,t,n){e=uv(e,dv);var r=uv(e.firestore,xv),i=Cy(e.converter,t,n);return Py(r,[Fv(Mv(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Wc.none())])}function Ry(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=uv(e,dv);var o=uv(e.firestore,xv),a=Mv(o);return Py(o,[("string"==typeof(t=(0,Cr.getModularInstance)(t))||t instanceof kv?Hv(a,"updateDoc",e._key,t,n,r):Kv(a,"updateDoc",e._key,t)).toMutation(e._key,Wc.exists(!0))])}function jy(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=(0,Cr.getModularInstance)(e);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||_v(i[s])||(a=i[s],s++);var u,c,l,h={includeMetadataChanges:a.includeMetadataChanges};if(_v(i[s])){var d=i[s];i[s]=null===(t=d.next)||void 0===t?void 0:t.bind(d),i[s+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[s+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(e instanceof dv)c=uv(e.firestore,xv),l=dc(e._key.path),u={next:function(t){i[s]&&i[s](Dy(c,e,t))},error:i[s+1],complete:i[s+2]};else{var f=uv(e,fv);c=uv(f.firestore,xv),l=f._query;var p=new Ny(c);u={next:function(e){i[s]&&i[s](new cy(c,p,f,e))},error:i[s+1],complete:i[s+2]},dy(e._query)}return function(e,t,n,r){var i=this,o=new Rg(r),a=new Mp(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return(0,Ir.__awaiter)(i,void 0,void 0,(function(){var t;return(0,Ir.__generator)(this,(function(n){switch(n.label){case 0:return t=jp,[4,Wg(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return(0,Ir.__awaiter)(i,void 0,void 0,(function(){var t;return(0,Ir.__generator)(this,(function(n){switch(n.label){case 0:return t=Pp,[4,Wg(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(Sv(c),l,h,u)}function Py(e,t){return function(e,t){var n=this,r=new Lh;return e.asyncQueue.enqueueAndForget((function(){return(0,Ir.__awaiter)(n,void 0,void 0,(function(){var n;return(0,Ir.__generator)(this,(function(i){switch(i.label){case 0:return n=Xp,[4,zg(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(Sv(e),t)}function Dy(e,t,n){var r=n.docs.get(t._key),i=new Ny(e);return new sy(e,i,t._key,r,new ay(n.hasPendingWrites,n.fromCache),t.converter)}var Oy=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return(0,Ir.__extends)(t,e),t.prototype.get=function(t){var n=this,r=Ty(t,this._firestore),i=new Ny(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new sy(n._firestore,i,r._key,e._document,new ay(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=Mv(e)}return e.prototype.get=function(e){var t=this,n=Ty(e,this._firestore),r=new Ey(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Xs();var i=e[0];if(i.isFoundDocument())return new ry(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new ry(t._firestore,r,n._key,null,n.converter);throw Xs()}))},e.prototype.set=function(e,t,n){var r=Ty(e,this._firestore),i=Cy(r.converter,t,n),o=Fv(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=Ty(e,this._firestore);return o="string"==typeof(t=(0,Cr.getModularInstance)(t))||t instanceof kv?Hv(this._dataReader,"Transaction.update",a._key,t,n,r):Kv(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=Ty(e,this._firestore);return this._transaction.delete(t._key),this},e}());function Ly(){if("undefined"==typeof Uint8Array)throw new Ws(zs.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function My(){if("undefined"==typeof atob)throw new Ws(zs.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Fy=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return My(),new e(Tv.fromBase64String(t))},e.fromUint8Array=function(t){return Ly(),new e(Tv.fromUint8Array(t))},e.prototype.toBase64=function(){return My(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return Ly(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),Uy=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){Ev(e=uv(e,xv));var n=Sv(e),r=e._freezeSettings(),i=new Ng;return Cv(n,i,new kg(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){Ev(e=uv(e,xv));var t=Sv(e),n=e._freezeSettings(),r=new Ng;return Cv(t,r,new Tg(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new Ws(zs.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Lh;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return(0,Ir.__awaiter)(t,void 0,void 0,(function(){var t;return(0,Ir.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var t;return(0,Ir.__generator)(this,(function(n){switch(n.label){case 0:return Uh.yt()?(t=e+"main",[4,Uh.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}($d(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),qy=function(){function e(e,t,n){var r=this;this._delegate=t,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof Qg||(this.tu=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Ys("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){var i;void 0===r&&(r={});var o=(e=uv(e,hv))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&Ys("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:t+":"+n,ssl:!1})),r.mockUserToken){var a,s;if("string"==typeof r.mockUserToken)a=r.mockUserToken,s=Tf.MOCK_USER;else{a=(0,Cr.createMockUserToken)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);var u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Ws(zs.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Tf(u)}e._credentials=new Jg(new $g(a,s))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return(0,Ir.__awaiter)(t,void 0,void 0,(function(){var t,n;return(0,Ir.__generator)(this,(function(r){switch(r.label){case 0:return[4,qg(e)];case 1:return t=r.sent(),[4,Bg(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=Zs(e);return t.Or.delete(0),ep(t)}(n))]}}))}))}))}(Sv(uv(this._delegate,xv)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return(0,Ir.__awaiter)(t,void 0,void 0,(function(){var t,n;return(0,Ir.__generator)(this,(function(r){switch(r.label){case 0:return[4,qg(e)];case 1:return t=r.sent(),[4,Bg(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var t;return(0,Ir.__generator)(this,(function(n){switch(n.label){case 0:return(t=Zs(e)).Or.add(0),[4,tp(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Sv(uv(this._delegate,xv)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&iv("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new Lh;return e.asyncQueue.enqueueAndForget((function(){return(0,Ir.__awaiter)(t,void 0,void 0,(function(){var t;return(0,Ir.__generator)(this,(function(r){switch(r.label){case 0:return t=rg,[4,zg(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Sv(uv(this._delegate,xv)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new Rg(t);return e.asyncQueue.enqueueAndForget((function(){return(0,Ir.__awaiter)(n,void 0,void 0,(function(){var t;return(0,Ir.__generator)(this,(function(n){switch(n.label){case 0:return t=function(e,t){Zs(e).Gr.add(t),t.next()},[4,Wg(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return(0,Ir.__awaiter)(n,void 0,void 0,(function(){var t;return(0,Ir.__generator)(this,(function(n){switch(n.label){case 0:return t=function(e,t){Zs(e).Gr.delete(t)},[4,Wg(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(Sv(e=uv(e,xv)),_v(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new Ws(zs.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new em(this,gv(this._delegate,e))}catch(e){throw Hy(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new Ky(this,vv(this._delegate,e))}catch(e){throw Hy(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new Xy(this,function(e,t){if(e=uv(e,hv),nv("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ws(zs.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new fv(e,null,function(e){return new lc(hu.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw Hy(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new Lh;return e.asyncQueue.enqueueAndForget((function(){return(0,Ir.__awaiter)(n,void 0,void 0,(function(){var n;return(0,Ir.__generator)(this,(function(i){switch(i.label){case 0:return[4,function(e){return Ug(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new Dg(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(Sv(e),(function(n){return t(new Oy(e,n))}))}(this._delegate,(function(n){return e(new By(t,n))}))},e.prototype.batch=function(){var e=this;return Sv(this._delegate),new zy(new ky(this._delegate,(function(t){return Py(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new Ws(zs.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new Ws(zs.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Vy=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,Ir.__extends)(t,e),t.prototype.convertBytes=function(e){return new Fy(new Tv(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Ky.eu(t,this.firestore,null)},t}(Iy);var By=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Vy(e)}return e.prototype.get=function(e){var t=this,n=tm(e);return this._delegate.get(n).then((function(e){return new Yy(t._firestore,new sy(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=tm(e);return n?(rv("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=tm(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,(0,Ir.__spreadArray)([a,t,n],i)),this},e.prototype.delete=function(e){var t=tm(e);return this._delegate.delete(t),this},e}(),zy=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=tm(e);return n?(rv("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=tm(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,(0,Ir.__spreadArray)([a,t,n],i)),this},e.prototype.delete=function(e){var t=tm(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Wy=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new uy(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new $y(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new Vy(t),n),i.set(n,o)),o},e}();Wy.su=new WeakMap;var Ky=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Vy(e)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new Ws(zs.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new dv(n._delegate,r,new Eu(t)))},e.eu=function(t,n,r){return new e(n,new dv(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new em(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new em(this.firestore,gv(this._delegate,e))}catch(e){throw Hy(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=(0,Cr.getModularInstance)(e))instanceof dv&&yv(this._delegate,e)},e.prototype.set=function(e,t){t=rv("DocumentReference.set",t);try{return t?Ay(this._delegate,e,t):Ay(this._delegate,e)}catch(e){throw Hy(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Ry(this._delegate,e):Ry.apply(void 0,(0,Ir.__spreadArray)([this._delegate,e,t],n))}catch(e){throw Hy(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Py(uv((e=this._delegate).firestore,xv),[new ol(e._key,Wc.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Gy(t),i=Qy(t,(function(t){return new Yy(e.firestore,new sy(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return jy(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=uv(e,dv);var t=uv(e.firestore,xv),n=Sv(t),r=new Ny(t);return function(e,t){var n=this,r=new Lh;return e.asyncQueue.enqueueAndForget((function(){return(0,Ir.__awaiter)(n,void 0,void 0,(function(){var n;return(0,Ir.__generator)(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var r,i;return(0,Ir.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=Zs(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Ws(zs.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Ep(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,Vg(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new sy(t,r,e._key,n,new ay(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=uv(e,dv);var t=uv(e.firestore,xv);return Kg(Sv(t),e._key,{source:"server"}).then((function(n){return Dy(t,e,n)}))}(this._delegate):function(e){e=uv(e,dv);var t=uv(e.firestore,xv);return Kg(Sv(t),e._key).then((function(n){return Dy(t,e,n)}))}(this._delegate)).then((function(e){return new Yy(t.firestore,new sy(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Wy.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function Hy(e,t,n){return e.message=e.message.replace(t,n),e}function Gy(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!_v(r))return r}return{}}function Qy(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=_v(e[0])?e[0]:_v(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Yy=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Ky(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return hy(this._delegate,e._delegate)},e}(),$y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Ir.__extends)(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(Yy),Xy=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Vy(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,py(this._delegate,function(e,t,n){var r=t,i=oy("where",e);return new gy(i,r,n)}(t,n,r)))}catch(t){throw Hy(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,py(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=oy("orderBy",e);return new vy(r,n)}(t,n)))}catch(t){throw Hy(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,py(this._delegate,function(e){return cv("limit",e),new yy("limit",e,"F")}(t)))}catch(t){throw Hy(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,py(this._delegate,function(e){return cv("limitToLast",e),new yy("limitToLast",e,"L")}(t)))}catch(t){throw Hy(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,py(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new my("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw Hy(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,py(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new my("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw Hy(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,py(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new by("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw Hy(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,py(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new by("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw Hy(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return mv(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=uv(e,fv);var t=uv(e.firestore,xv),n=Sv(t),r=new Ny(t);return function(e,t){var n=this,r=new Lh;return e.asyncQueue.enqueueAndForget((function(){return(0,Ir.__awaiter)(n,void 0,void 0,(function(){var n;return(0,Ir.__generator)(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s;return(0,Ir.__generator)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,df(e,t,!0)];case 1:return s=u.sent(),r=new Wp(t,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=Ep(a,"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,Vg(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new cy(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=uv(e,fv);var t=uv(e.firestore,xv),n=Sv(t),r=new Ny(t);return Hg(n,e._query,{source:"server"}).then((function(n){return new cy(t,r,e,n)}))}(this._delegate):function(e){e=uv(e,fv);var t=uv(e.firestore,xv),n=Sv(t),r=new Ny(t);return dy(e._query),Hg(n,e._query).then((function(n){return new cy(t,r,e,n)}))}(this._delegate)).then((function(e){return new Zy(t.firestore,new cy(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Gy(t),i=Qy(t,(function(t){return new Zy(e.firestore,new cy(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return jy(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Wy.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),Jy=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new $y(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Zy=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new Xy(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new $y(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Jy(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new $y(n._firestore,r))}))},e.prototype.isEqual=function(e){return hy(this._delegate,e._delegate)},e}(),em=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return(0,Ir.__extends)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new Ky(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new Ky(this.firestore,void 0===e?vv(this._delegate):vv(this._delegate,e))}catch(e){throw Hy(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=uv(e.firestore,xv),r=vv(e),i=Cy(e.converter,t);return Py(n,[Fv(Mv(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Wc.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new Ky(t.firestore,e)}))},t.prototype.isEqual=function(e){return yv(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Wy.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(Xy);function tm(e){return uv(e,dv)}var nm=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(kv.bind.apply(kv,(0,Ir.__spreadArray)([void 0],e)))}return e.documentId=function(){return new e(fu.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=(0,Cr.getModularInstance)(e))instanceof kv&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),rm=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new Vv("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Uv("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Bv("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new zv("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new Wv("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}();function im(e){return function(e,t){var n=Sv(e=uv(e,xv)),r=new wv;return function(e,t,n,r){var i=this,o=function(e,t){return function(e,t){return new jg(e,t)}(function(e,t){if(e instanceof Uint8Array)return Ag(e,t);if(e instanceof ArrayBuffer)return Ag(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Hf(t));e.asyncQueue.enqueueAndForget((function(){return(0,Ir.__awaiter)(i,void 0,void 0,(function(){var t;return(0,Ir.__generator)(this,(function(n){switch(n.label){case 0:return t=Cg,[4,zg(e)];case 1:return t.apply(void 0,[n.sent(),o,r]),[2]}}))}))}))}(n,e._databaseId,t,r),r}(this._delegate,e)}function om(e){var t,n,r=this;return(t=this._delegate,n=e,function(e,t){var n=this;return e.asyncQueue.enqueue((function(){return(0,Ir.__awaiter)(n,void 0,void 0,(function(){var n;return(0,Ir.__generator)(this,(function(r){switch(r.label){case 0:return n=function(e,t){var n=Zs(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ke.getNamedQuery(e,t)}))},[4,Vg(e)];case 1:return[2,n.apply(void 0,[r.sent(),t])]}}))}))}))}(Sv(t=uv(t,xv)),n).then((function(e){return e?new fv(t,null,e.query):null}))).then((function(e){return e?new Xy(r,e):null}))}var am,sm,um=n(732),cm={Firestore:qy,GeoPoint:Av,Timestamp:ou,Blob:Fy,Transaction:By,WriteBatch:zy,DocumentReference:Ky,DocumentSnapshot:Yy,Query:Xy,QueryDocumentSnapshot:$y,QuerySnapshot:Zy,CollectionReference:em,FieldPath:nm,FieldValue:rm,setLogLevel:function(e){var t;t=e,Ks.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new um.Component("firestore",(function(e){return function(e,t){return new qy(e,new xv(e,t),new Uy)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},cm)))})(am=Sr.default),am.registerVersion("@firebase/firestore","2.4.1"),(sm=qy).prototype.loadBundle=im,sm.prototype.namedQuery=om;var lm={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},hm=function(e){function t(n,r,i){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.code=n,o.details=i,o}return(0,Ir.__extends)(t,e),t}(Error);var dm=function(){function e(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((function(e){return n.auth=e}),(function(){})),this.messaging||t.get().then((function(e){return n.messaging=e}),(function(){}))}return e.prototype.getAuthToken=function(){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var e;return(0,Ir.__generator)(this,(function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getInstanceIdToken=function(){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){return(0,Ir.__generator)(this,(function(e){switch(e.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getContext=function(){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,Ir.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}}))}))},e}();function fm(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var pm=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map((function(e){return t.encode(e)}));if("function"===typeof e||"object"===typeof e)return fm(e,(function(e){return t.encode(e)}));throw new Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return t.decode(e)})):"function"===typeof e||"object"===typeof e?fm(e,(function(e){return t.decode(e)})):e},e}();var gm=function(){function e(e,t,n,r,i,o){var a=this;void 0===i&&(i="us-central1"),this.app_=e,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new pm,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new dm(t,n),this.cancelAllRequests=new Promise((function(e){a.deleteService=function(){return e()}}));try{var s=new URL(i);this.customDomain=s.origin,this.region="us-central1"}catch(am){this.customDomain=null,this.region=i}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},e.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},e.prototype.postJSON=function(e,t,n){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return(0,Ir.__generator)(this,(function(a){switch(a.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=a.sent())&&(n["X-Firebase-AppCheck"]=r),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 3:return i=a.sent(),[3,5];case 4:return a.sent(),[2,{status:0,json:null}];case 5:o=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,i.json()];case 7:return o=a.sent(),[3,9];case 8:return a.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}}))}))},e.prototype.getAppCheckToken=function(){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var e;return(0,Ir.__generator)(this,(function(t){switch(t.label){case 0:return(e=this.appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype.call=function(e,t,n){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,d,f;return(0,Ir.__generator)(this,(function(p){switch(p.label){case 0:return r=this._url(e),t=this.serializer.encode(t),i={data:t},o={},[4,this.contextProvider.getContext()];case 1:return(a=p.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=n.timeout||7e4,u=function(e){var t,n=new Promise((function(n,r){t=setTimeout((function(){r(new hm("deadline-exceeded","deadline-exceeded"))}),e)}));return{timer:t,promise:n}}(s),c=u.timer,l=u.promise,[4,Promise.race([vm(c,this.postJSON(r,i,o)),l,vm(c,this.cancelAllRequests)])];case 2:if(!(h=p.sent()))throw new hm("cancelled","Firebase Functions instance was deleted.");if(d=function(e,t,n){var r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r,o=void 0;try{var a=t&&t.error;if(a){var s=a.status;if("string"===typeof s){if(!lm[s])return new hm("internal","internal");r=lm[s],i=s}var u=a.message;"string"===typeof u&&(i=u),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(am){}return"ok"===r?null:new hm(r,i,o)}(h.status,h.json,this.serializer),d)throw d;if(!h.json)throw new hm("internal","Response is not valid JSON object.");if("undefined"===typeof(f=h.json.data)&&(f=h.json.result),"undefined"===typeof f)throw new hm("internal","Response is missing data field.");return[2,{data:this.serializer.decode(f)}]}}))}))},e}();function vm(e,t){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n;return(0,Ir.__generator)(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}}))}))}!function(e,t){var n={Functions:gm};e.INTERNAL.registerComponent(new um.Component("functions",(function(e,n){var r=n.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal"),s=e.getProvider("messaging");return new gm(i,o,s,a,r,t)}),"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(Sr.default,fetch.bind(self)),Sr.default.registerVersion("@firebase/functions","0.6.16");var ym,mm=n(426),bm="0.4.32",_m=1e4,wm="w:"+bm,xm="FIS_v2",Sm="https://firebaseinstallations.googleapis.com/v1",Im=36e5,Cm=((ym={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',ym["not-registered"]="Firebase Installation is not registered.",ym["installation-not-found"]="Firebase Installation not found.",ym["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',ym["app-offline"]="Could not process request. Application offline.",ym["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",ym),Em=new Cr.ErrorFactory("installations","Installations",Cm);function km(e){return e instanceof Cr.FirebaseError&&e.code.includes("request-failed")}function Tm(e){var t=e.projectId;return Sm+"/projects/"+t+"/installations"}function Nm(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function Am(e,t){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,Ir.__generator)(this,(function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,Em.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function Rm(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function jm(e,t){var n=t.refreshToken,r=Rm(e);return r.append("Authorization",function(e){return xm+" "+e}(n)),r}function Pm(e){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var t;return(0,Ir.__generator)(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function Dm(e,t){var n=t.fid;return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var t,r,i,o,a,s;return(0,Ir.__generator)(this,(function(u){switch(u.label){case 0:return t=Tm(e),r=Rm(e),i={fid:n,authVersion:xm,appId:e.appId,sdkVersion:wm},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,Pm((function(){return fetch(t,o)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return s=u.sent(),[2,{fid:s.fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:Nm(s.authToken)}];case 3:return[4,Am("Create Installation",a)];case 4:throw u.sent()}}))}))}function Om(e){return new Promise((function(t){setTimeout(t,e)}))}var Lm=/^[cdef][\w-]{21}$/,Mm="";function Fm(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){var t=(n=e,btoa(String.fromCharCode.apply(String,(0,Ir.__spreadArray)([],(0,Ir.__read)(n)))).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Lm.test(t)?t:Mm}catch(Fv){return Mm}}function Um(e){return e.appName+"!"+e.appId}var qm=new Map;function Vm(e,t){var n=Um(e);Bm(n,t),function(e,t){var n=Wm();n&&n.postMessage({key:e,fid:t});Km()}(n,t)}function Bm(e,t){var n,r,i=qm.get(e);if(i)try{for(var o=(0,Ir.__values)(i),a=o.next();!a.done;a=o.next()){(0,a.value)(t)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var zm=null;function Wm(){return!zm&&"BroadcastChannel"in self&&((zm=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){Bm(e.data.key,e.data.fid)}),zm}function Km(){0===qm.size&&zm&&(zm.close(),zm=null)}var Hm,Gm,Qm="firebase-installations-database",Ym=1,$m="firebase-installations-store",Xm=null;function Jm(){return Xm||(Xm=(0,mm.openDb)(Qm,Ym,(function(e){if(0===e.oldVersion)e.createObjectStore($m)}))),Xm}function Zm(e,t){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,Ir.__generator)(this,(function(s){switch(s.label){case 0:return n=Um(e),[4,Jm()];case 1:return r=s.sent(),i=r.transaction($m,"readwrite"),[4,(o=i.objectStore($m)).get(n)];case 2:return a=s.sent(),[4,o.put(t,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===t.fid||Vm(e,t.fid),[2,t]}}))}))}function eb(e){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,Ir.__generator)(this,(function(i){switch(i.label){case 0:return t=Um(e),[4,Jm()];case 1:return n=i.sent(),[4,(r=n.transaction($m,"readwrite")).objectStore($m).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function tb(e,t){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,Ir.__generator)(this,(function(u){switch(u.label){case 0:return n=Um(e),[4,Jm()];case 1:return r=u.sent(),i=r.transaction($m,"readwrite"),[4,(o=i.objectStore($m)).get(n)];case 2:return a=u.sent(),void 0!==(s=t(a))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||Vm(e,s.fid),[2,s]}}))}))}function nb(e){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,Ir.__generator)(this,(function(i){switch(i.label){case 0:return[4,tb(e,(function(n){var r=function(e){var t=e||{fid:Fm(),registrationStatus:0};return ob(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(Em.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,Ir.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,Dm(e,t)];case 1:return n=i.sent(),[2,Zm(e,n)];case 2:return km(r=i.sent())&&409===r.customData.serverCode?[4,eb(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,Zm(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:rb(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}))];case 1:return(n=i.sent()).fid!==Mm?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function rb(e){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i;return(0,Ir.__generator)(this,(function(o){switch(o.label){case 0:return[4,ib(e)];case 1:t=o.sent(),o.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,Om(100)];case 3:return o.sent(),[4,ib(e)];case 4:return t=o.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,nb(e)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,t]}}))}))}function ib(e){return tb(e,(function(e){if(!e)throw Em.create("installation-not-found");return ob(e)}))}function ob(e){return 1===(t=e).registrationStatus&&t.registrationTime+_m<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function ab(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var e,i,o,a,s,u,c;return(0,Ir.__generator)(this,(function(l){switch(l.label){case 0:return e=function(e,t){var n=t.fid;return Tm(e)+"/"+n+"/authTokens:generate"}(n,t),i=jm(n,t),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={installation:{sdkVersion:wm}},s={method:"POST",headers:i,body:JSON.stringify(a)},[4,Pm((function(){return fetch(e,s)}))];case 1:return(u=l.sent()).ok?[4,u.json()]:[3,3];case 2:return c=l.sent(),[2,Nm(c)];case 3:return[4,Am("Generate Auth Token",u)];case 4:throw l.sent()}}))}))}function sb(e,t){return void 0===t&&(t=!1),(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,Ir.__generator)(this,(function(o){switch(o.label){case 0:return[4,tb(e.appConfig,(function(r){if(!cb(r))throw Em.create("not-registered");var i=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Im}(e)}(i))return r;if(1===i.requestStatus)return n=function(e,t){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,Ir.__generator)(this,(function(i){switch(i.label){case 0:return[4,ub(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,Om(100)];case 3:return i.sent(),[4,ub(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,sb(e,t)]:[2,r]}}))}))}(e,t),r;if(!navigator.onLine)throw Em.create("app-offline");var o=function(e){var t={requestStatus:1,requestTime:Date.now()};return(0,Ir.__assign)((0,Ir.__assign)({},e),{authToken:t})}(r);return n=function(e,t){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,Ir.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,ab(e,t)];case 1:return n=o.sent(),i=(0,Ir.__assign)((0,Ir.__assign)({},t),{authToken:n}),[4,Zm(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!km(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,eb(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=(0,Ir.__assign)((0,Ir.__assign)({},t),{authToken:{requestStatus:0}}),[4,Zm(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function ub(e){return tb(e,(function(e){if(!cb(e))throw Em.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+_m<Date.now()?(0,Ir.__assign)((0,Ir.__assign)({},e),{authToken:{requestStatus:0}}):e}))}function cb(e){return void 0!==e&&2===e.registrationStatus}function lb(e){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var t;return(0,Ir.__generator)(this,(function(n){switch(n.label){case 0:return[4,nb(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function hb(e,t){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return(0,Ir.__generator)(this,(function(a){switch(a.label){case 0:return n=function(e,t){var n=t.fid;return Tm(e)+"/"+n}(e,t),r=jm(e,t),i={method:"DELETE",headers:r},[4,Pm((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,Am("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}function db(e,t){var n=e.appConfig;return function(e,t){Wm();var n=Um(e),r=qm.get(n);r||(r=new Set,qm.set(n,r)),r.add(t)}(n,t),function(){!function(e,t){var n=Um(e),r=qm.get(n);r&&(r.delete(t),0===r.size&&qm.delete(n),Km())}(n,t)}}function fb(e){return Em.create("missing-app-config-values",{valueName:e})}(Hm=Sr.default).INTERNAL.registerComponent(new um.Component("installations",(function(e){var t=e.getProvider("app").getImmediate(),n=function(e){var t,n;if(!e||!e.options)throw fb("App Configuration");if(!e.name)throw fb("App Name");try{for(var r=(0,Ir.__values)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!e.options[o])throw fb(o)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),r={appConfig:n,platformLoggerProvider:e.getProvider("platform-logger")},i={app:t,getId:function(){return function(e){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,Ir.__generator)(this,(function(i){switch(i.label){case 0:return[4,nb(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,(r=t.registrationPromise)?r.catch(console.error):sb(e).catch(console.error),[2,n.fid]}}))}))}(r)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),(0,Ir.__awaiter)(this,void 0,void 0,(function(){return(0,Ir.__generator)(this,(function(n){switch(n.label){case 0:return[4,lb(e.appConfig)];case 1:return n.sent(),[4,sb(e,t)];case 2:return[2,n.sent().token]}}))}))}(r,e)},delete:function(){return function(e){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,Ir.__generator)(this,(function(r){switch(r.label){case 0:return[4,tb(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw Em.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw Em.create("app-offline");case 3:return[4,hb(t,n)];case 4:return r.sent(),[4,eb(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(r)},onIdChange:function(e){return db(r,e)}};return i}),"PUBLIC")),Hm.registerVersion("@firebase/installations",bm);var pb,gb=((Gm={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Gm["only-available-in-window"]="This method is available in a Window context.",Gm["only-available-in-sw"]="This method is available in a service worker context.",Gm["permission-default"]="The notification permission was not granted and dismissed instead.",Gm["permission-blocked"]="The notification permission was not granted and blocked instead.",Gm["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",Gm["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",Gm["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",Gm["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",Gm["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",Gm["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",Gm["token-update-no-token"]="FCM returned no token when updating the user to push.",Gm["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",Gm["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",Gm["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",Gm["invalid-vapid-key"]="The public VAPID key must be a string.",Gm["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",Gm),vb=new Cr.ErrorFactory("messaging","Messaging",gb),yb="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",mb="https://fcmregistrations.googleapis.com/v1",bb="FCM_MSG",_b="google.c.a.c_id";function wb(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,(0,Ir.__spreadArray)([],(0,Ir.__read)(t)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function xb(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(pb||(pb={}));var Sb="fcm_token_details_db",Ib=5,Cb="fcm_token_object_Store";function Eb(e){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i=this;return(0,Ir.__generator)(this,(function(o){switch(o.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=o.sent(),n=t.map((function(e){return e.name})),!n.includes(Sb))return[2,null];o.label=2;case 2:return r=null,[4,(0,mm.openDb)(Sb,Ib,(function(t){return(0,Ir.__awaiter)(i,void 0,void 0,(function(){var n,i,o,a;return(0,Ir.__generator)(this,(function(s){switch(s.label){case 0:return t.oldVersion<2?[2]:t.objectStoreNames.contains(Cb)?[4,(n=t.transaction.objectStore(Cb)).index("fcmSenderId").get(e)]:[2];case 1:return i=s.sent(),[4,n.clear()];case 2:if(s.sent(),!i)return[2];if(2===t.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];r={token:o.fcmToken,createTime:null!==(a=o.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"===typeof o.vapidKey?o.vapidKey:wb(o.vapidKey)}}}else(3===t.oldVersion||4===t.oldVersion)&&(r={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:wb(o.auth),p256dh:wb(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:wb(o.vapidKey)}});return[2]}}))}))}))];case 3:return o.sent().close(),[4,(0,mm.deleteDb)(Sb)];case 4:return o.sent(),[4,(0,mm.deleteDb)("fcm_vapid_details_db")];case 5:return o.sent(),[4,(0,mm.deleteDb)("undefined")];case 6:return o.sent(),[2,kb(r)?r:null]}}))}))}function kb(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}var Tb="firebase-messaging-database",Nb=1,Ab="firebase-messaging-store",Rb=null;function jb(){return Rb||(Rb=(0,mm.openDb)(Tb,Nb,(function(e){if(0===e.oldVersion)e.createObjectStore(Ab)}))),Rb}function Pb(e){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,Ir.__generator)(this,(function(i){switch(i.label){case 0:return t=Lb(e),[4,jb()];case 1:return[4,i.sent().transaction(Ab).objectStore(Ab).get(t)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,Eb(e.appConfig.senderId)];case 4:return(r=i.sent())?[4,Db(e,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function Db(e,t){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,Ir.__generator)(this,(function(o){switch(o.label){case 0:return n=Lb(e),[4,jb()];case 1:return r=o.sent(),[4,(i=r.transaction(Ab,"readwrite")).objectStore(Ab).put(t,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,t]}}))}))}function Ob(e){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,Ir.__generator)(this,(function(i){switch(i.label){case 0:return t=Lb(e),[4,jb()];case 1:return n=i.sent(),[4,(r=n.transaction(Ab,"readwrite")).objectStore(Ab).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function Lb(e){return e.appConfig.appId}function Mb(e,t){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,Ir.__generator)(this,(function(u){switch(u.label){case 0:return[4,Vb(e)];case 1:n=u.sent(),r=Bb(t),i={method:"POST",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(qb(e.appConfig),i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),vb.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,vb.create("token-subscribe-failed",{errorInfo:s});if(!o.token)throw vb.create("token-subscribe-no-token");return[2,o.token]}}))}))}function Fb(e,t){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,Ir.__generator)(this,(function(u){switch(u.label){case 0:return[4,Vb(e)];case 1:n=u.sent(),r=Bb(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(qb(e.appConfig)+"/"+t.token,i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),vb.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,vb.create("token-update-failed",{errorInfo:s});if(!o.token)throw vb.create("token-update-no-token");return[2,o.token]}}))}))}function Ub(e,t){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,Ir.__generator)(this,(function(s){switch(s.label){case 0:return[4,Vb(e)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(qb(e.appConfig)+"/"+t,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw o=i.error.message,vb.create("token-unsubscribe-failed",{errorInfo:o});return[3,6];case 5:throw a=s.sent(),vb.create("token-unsubscribe-failed",{errorInfo:a});case 6:return[2]}}))}))}function qb(e){var t=e.projectId;return mb+"/projects/"+t+"/registrations"}function Vb(e){var t=e.appConfig,n=e.installations;return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var e;return(0,Ir.__generator)(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}}))}))}function Bb(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,o={web:{endpoint:r,auth:n,p256dh:t}};return i!==yb&&(o.web.applicationPubKey=i),o}function zb(e,t,n){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a;return(0,Ir.__generator)(this,(function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw vb.create("permission-blocked");return[4,Gb(t,n)];case 1:return r=s.sent(),[4,Pb(e)];case 2:return i=s.sent(),o={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:wb(r.getKey("auth")),p256dh:wb(r.getKey("p256dh"))},i?[3,3]:[2,Hb(e,o)];case 3:if(function(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,o=t.p256dh===e.p256dh;return n&&r&&i&&o}(i.subscriptionOptions,o))return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,Ub(e,i.token)];case 5:return s.sent(),[3,7];case 6:return a=s.sent(),console.warn(a),[3,7];case 7:return[2,Hb(e,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,Kb({token:i.token,createTime:Date.now(),subscriptionOptions:o},e,t)]:[2,i.token];case 9:return[2]}}))}))}function Wb(e,t){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,Ir.__generator)(this,(function(i){switch(i.label){case 0:return[4,Pb(e)];case 1:return(n=i.sent())?[4,Ub(e,n.token)]:[3,4];case 2:return i.sent(),[4,Ob(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function Kb(e,t,n){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return(0,Ir.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,Fb(t,e)];case 1:return r=a.sent(),i=(0,Ir.__assign)((0,Ir.__assign)({},e),{token:r,createTime:Date.now()}),[4,Db(t,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,Wb(t,n)];case 4:throw a.sent(),o;case 5:return[2]}}))}))}function Hb(e,t){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,Ir.__generator)(this,(function(i){switch(i.label){case 0:return[4,Mb(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,Db(e,r)];case 2:return i.sent(),[2,r.token]}}))}))}function Gb(e,t){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n;return(0,Ir.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:xb(t)})]}}))}))}function Qb(e){return"object"===typeof e&&!!e&&_b in e}function Yb(e){return new Promise((function(t){setTimeout(t,e)}))}var $b=function(){function e(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(e){e.waitUntil(t.onPush(e))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(t.onSubChange(e))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(t.onNotificationClick(e))}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!==typeof e)throw vb.create("invalid-bg-handler");this.bgMessageHandler=e},e.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},e.prototype.getToken=function(){var e,t;return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n;return(0,Ir.__generator)(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,Pb(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(t=null===(e=null===n||void 0===n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==t?t:yb,r.label=2;case 2:return[2,zb(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},e.prototype.deleteToken=function(){return Wb(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw vb.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw vb.create("use-vapid-key-after-get-token");if("string"!==typeof e||0===e.length)throw vb.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(){throw vb.create("only-available-in-window")},e.prototype.onMessage=function(){throw vb.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw vb.create("only-available-in-window")},e.prototype.onPush=function(e){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i;return(0,Ir.__generator)(this,(function(o){switch(o.label){case 0:return t=function(e){var t=e.data;if(!t)return null;try{return t.json()}catch(n){return null}}(e),t?[4,e_()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(e){return e.some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,Zb(n,t)]:(r=!1,t.notification?[4,t_(Xb(t))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcm_message_id};return function(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}(t,e),t}(t),"function"===typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,Yb(1e3)]);case 4:return o.sent(),[2]}}))}))},e.prototype.onSubChange=function(e){var t,n;return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var r;return(0,Ir.__generator)(this,(function(i){switch(i.label){case 0:return e.newSubscription?[3,2]:[4,Wb(this.firebaseDependencies,self.registration)];case 1:case 5:return i.sent(),[2];case 2:return[4,Pb(this.firebaseDependencies)];case 3:return r=i.sent(),[4,Wb(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,zb(this.firebaseDependencies,self.registration,null!==(n=null===(t=null===r||void 0===r?void 0:r.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==n?n:yb)]}}))}))},e.prototype.onNotificationClick=function(e){var t,n;return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s;return(0,Ir.__generator)(this,(function(u){switch(u.label){case 0:return(r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n[bb])?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),i=function(e){var t,n,r,i=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;if(i)return i;return Qb(e.data)?self.location.origin:null}(r),i?(o=new URL(i,self.location.href),a=new URL(self.location.origin),o.host!==a.host?[2]:[4,Jb(o)]):[2]):[2];case 1:return(s=u.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return s=u.sent(),[4,Yb(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=u.sent(),u.label=6;case 6:return s?(r.messageType=pb.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,s.postMessage(r)]):[2]}}))}))},e}();function Xb(e){var t,n=(0,Ir.__assign)({},e.notification);return n.data=((t={})[bb]=e,t),n}function Jb(e){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return(0,Ir.__generator)(this,(function(u){switch(u.label){case 0:return[4,e_()];case 1:t=u.sent();try{for(n=(0,Ir.__values)(t),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),e.host===o.host)return[2,i]}catch(c){a={error:c}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}}))}))}function Zb(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=pb.PUSH_RECEIVED;try{for(var i=(0,Ir.__values)(e),o=i.next();!o.done;o=i.next()){o.value.postMessage(t)}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function e_(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function t_(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}var n_=function(){function e(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(e){return t.messageEventListener(e)}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(e){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,Ir.__generator)(this,(function(r){switch(r.label){case 0:return(t=e.data).isFirebaseMessaging?(this.onMessageCallback&&t.messageType===pb.PUSH_RECEIVED&&("function"===typeof this.onMessageCallback?this.onMessageCallback(function(e){return delete e.messageType,delete e.isFirebaseMessaging,e}(Object.assign({},t))):this.onMessageCallback.next(Object.assign({},t))),Qb(n=t.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(t.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(e){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){return(0,Ir.__generator)(this,(function(t){switch(t.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if("granted"!==Notification.permission)throw vb.create("permission-blocked");return[4,this.updateVapidKey(null===e||void 0===e?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(null===e||void 0===e?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,zb(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},e.prototype.updateVapidKey=function(e){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){return(0,Ir.__generator)(this,(function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=yb),[2]}))}))},e.prototype.updateSwReg=function(e){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){return(0,Ir.__generator)(this,(function(t){switch(t.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw vb.create("invalid-sw-registration");return this.swRegistration=e,[2]}}))}))},e.prototype.registerDefaultSw=function(){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,Ir.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw t=n.sent(),vb.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}}))}))},e.prototype.deleteToken=function(){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){return(0,Ir.__generator)(this,(function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,Wb(this.firebaseDependencies,this.swRegistration)]}}))}))},e.prototype.requestPermission=function(){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var e;return(0,Ir.__generator)(this,(function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw"denied"===e?vb.create("permission-blocked"):vb.create("permission-default")}}))}))},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw vb.create("use-vapid-key-after-get-token");if("string"!==typeof e||0===e.length)throw vb.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw vb.create("invalid-sw-registration");if(this.swRegistration)throw vb.create("use-sw-after-get-token");this.swRegistration=e},e.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw vb.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw vb.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(e,t){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n;return(0,Ir.__generator)(this,(function(r){switch(r.label){case 0:return n=function(e){switch(e){case pb.NOTIFICATION_CLICKED:return"notification_open";case pb.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:t[_b],message_name:t["google.c.a.c_l"],message_time:t["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},e}();function r_(e){return vb.create("missing-app-config-values",{valueName:e})}var i_={isSupported:o_};function o_(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}Sr.default.INTERNAL.registerComponent(new um.Component("messaging",(function(e){var t=e.getProvider("app").getImmediate(),n=function(e){var t,n;if(!e||!e.options)throw r_("App Configuration Object");if(!e.name)throw r_("App Name");var r=e.options;try{for(var i=(0,Ir.__values)(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw r_(a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(t),r={app:t,appConfig:n,installations:e.getProvider("installations").getImmediate(),analyticsProvider:e.getProvider("analytics-internal")};if(!o_())throw vb.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new $b(r):new n_(r)}),"PUBLIC").setServiceProps(i_));var a_="firebasestorage.googleapis.com",s_="storageBucket",u_=function(e){function t(n,r){var i=e.call(this,c_(n),"Firebase Storage: "+r+" ("+c_(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return(0,Ir.__extends)(t,e),t.prototype._codeEquals=function(e){return c_(e)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(Cr.FirebaseError);function c_(e){return"storage/"+e}function l_(){return new u_("unknown","An unknown error occurred, please check the error payload for server response.")}function h_(){return new u_("canceled","User canceled the upload/download.")}function d_(){return new u_("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function f_(e){return new u_("invalid-argument",e)}function p_(){return new u_("app-deleted","The Firebase app was deleted.")}function g_(e){return new u_("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function v_(e,t){return new u_("invalid-format","String does not match format '"+e+"': "+t)}function y_(e){throw new u_("internal-error","Internal error: "+e)}var m_={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},b_=function(e,t){this.data=e,this.contentType=t||null};function __(e,t){switch(e){case m_.RAW:return new b_(w_(t));case m_.BASE64:case m_.BASE64URL:return new b_(x_(e,t));case m_.DATA_URL:return new b_(function(e){var t=new S_(e);return t.base64?x_(m_.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(am){throw v_(m_.DATA_URL,"Malformed data URL.")}return w_(t)}(t.rest)}(t),new S_(t).contentType)}throw l_()}function w_(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function x_(e,t){switch(e){case m_.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw v_(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case m_.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw v_(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(am){throw v_(e,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var S_=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw v_(m_.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1);var r,i};var I_,C_={STATE_CHANGED:"state_changed"},E_={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function k_(e){switch(e){case"running":case"pausing":case"canceling":return E_.RUNNING;case"paused":return E_.PAUSED;case"success":return E_.SUCCESS;case"canceled":return E_.CANCELED;default:return E_.ERROR}}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(I_||(I_={}));var T_=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=I_.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=I_.ABORT,t()})),e.xhr_.addEventListener("error",(function(){e.errorCode_=I_.NETWORK_ERROR,t()})),e.xhr_.addEventListener("load",(function(){t()}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw y_("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw y_("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw y_("cannot .getStatus() before sending");try{return this.xhr_.status}catch(am){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw y_("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}();var N_=function(){function e(){}return e.prototype.createConnection=function(){return new T_},e}(),A_=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(am){return new e(t,"")}if(""===r.path)return r;throw new u_("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var o=new RegExp("^gs://"+i+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://"+(n===a_?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:a}],c=0;c<u.length;c++){var l=u[c],h=l.regex.exec(t);if(h){var d=h[l.indices.bucket],f=h[l.indices.path];f||(f=""),r=new e(d,f),l.postModify(r);break}}if(null==r)throw function(e){return new u_("invalid-url","Invalid URL '"+e+"'.")}(t);return r},e}(),R_=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();function j_(e){return"string"===typeof e||e instanceof String}function P_(e){return D_()&&e instanceof Blob}function D_(){return"undefined"!==typeof Blob}function O_(e,t,n,r){if(r<t)throw f_("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw f_("Invalid value for '"+e+"'. Expected "+n+" or less.")}function L_(e,t){var n=t.match(/^(\w+):\/\/.+/),r=t;return null==(null===n||void 0===n?void 0:n[1])&&(r="https://"+t),r+"/v0"+e}function M_(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}var F_=function(){function e(e,t,n,r,i,o,a,s,u,c,l){var h=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());!function(e){return void 0!==e}(s)?i():i(s)}catch(am){o(am)}else null!==a?((r=l_()).serverResponse=a.getResponseText(),e.errorCallback_?o(e.errorCallback_(a,r)):o(r)):n.canceled?o(r=e.appDelete_?p_():h_()):o(r=new u_("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new U_(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,o=!1,a=0;function s(){return 2===a}var u=!1;function c(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];u||(u=!0,t.apply(null,e))}function l(t){i=setTimeout((function(){i=null,e(h,s())}),t)}function h(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];u||(e||s()||o?c.call.apply(c,(0,Ir.__spreadArray)([null,e],n)):(r<64&&(r*=2),1===a?(a=2,t=0):t=1e3*(r+Math.random()),l(t)))}var d=!1;function f(e){d||(d=!0,u||(null!==i?(e||(a=2),clearTimeout(i),l(0)):e||(a=1)))}return l(0),setTimeout((function(){o=!0,f(!0)}),n),f}((function(t,n){if(n)t(!1,new U_(!1,null,!0));else{var r=e.pool_.createConnection();e.pendingConnection_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===I_.NO_ERROR,o=r.getStatus();if(n&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new U_(a,r))}else{var s=r.getErrorCode()===I_.ABORT;t(!1,new U_(!1,null,s))}}))}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}),t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),U_=function(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n};function q_(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function V_(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=q_();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(D_())return new Blob(e);throw new u_("unsupported-environment","This browser doesn't seem to support creating Blobs")}var B_=function(){function e(e,t){var n=0,r="";P_(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(P_(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(D_()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(V_.apply(null,r))}var i=t.map((function(e){return j_(e)?__(m_.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();function z_(e){var t;try{t=JSON.parse(e)}catch(am){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function W_(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function K_(e,t){return t}var H_=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||K_},G_=null;function Q_(){if(G_)return G_;var e=[];e.push(new H_("bucket")),e.push(new H_("generation")),e.push(new H_("metageneration")),e.push(new H_("name","fullPath",!0));var t=new H_("name");t.xform=function(e,t){return function(e){return!j_(e)||e.length<2?e:W_(e)}(t)},e.push(t);var n=new H_("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new H_("timeCreated")),e.push(new H_("updated")),e.push(new H_("md5Hash",null,!0)),e.push(new H_("cacheControl",null,!0)),e.push(new H_("contentDisposition",null,!0)),e.push(new H_("contentEncoding",null,!0)),e.push(new H_("contentLanguage",null,!0)),e.push(new H_("contentType",null,!0)),e.push(new H_("metadata","customMetadata",!0)),G_=e}function Y_(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new A_(n,r);return t._makeStorageReference(i)}})}(r,e),r}function $_(e,t,n){var r=z_(t);return null===r?null:Y_(e,r,n)}function X_(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}var J_="prefixes",Z_="items";function ew(e,t,n){var r=z_(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[J_])for(var i=0,o=n[J_];i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new A_(t,a));r.prefixes.push(s)}if(n[Z_])for(var u=0,c=n[Z_];u<c.length;u++){var l=c[u];s=e._makeStorageReference(new A_(t,l.name)),r.items.push(s)}return r}(e,t,r)}var tw=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function nw(e){if(!e)throw l_()}function rw(e,t){return function(n,r){var i=$_(e,r,t);return nw(null!==i),i}}function iw(e,t){return function(n,r){var i=$_(e,r,t);return nw(null!==i),function(e,t,n){var r=z_(t);if(null===r)return null;if(!j_(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(t){var r=e.bucket,i=e.fullPath;return L_("/b/"+o(r)+"/o/"+o(i),n)+M_({alt:"media",token:t})}))[0]}(i,r,e.host)}}function ow(e){return function(t,n){var r,i,o;return 401===t.getStatus()?r=t.getResponseText().includes("Firebase App Check token is invalid")?new u_("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new u_("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new u_("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new u_("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function aw(e){var t=ow(e);return function(n,r){var i,o=t(n,r);return 404===n.getStatus()&&(i=e.path,o=new u_("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function sw(e,t,n){var r=L_(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new tw(r,"GET",rw(e,n),i);return o.errorHandler=aw(t),o}function uw(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=L_(t.bucketOnlyServerUrl(),e.host),s=e.maxOperationRetryTime,u=new tw(a,"GET",function(e,t){return function(n,r){var i=ew(e,t,r);return nw(null!==i),i}}(e,t.bucket),s);return u.urlParams=o,u.errorHandler=ow(t),u}function cw(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}var lw=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function hw(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(am){nw(!1)}return nw(!!n&&-1!==(t||["active"]).indexOf(n)),n}var dw=262144;function fw(e,t,n,r,i,o,a,s){var u=new lw(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new u_("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,d=h+l,f={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":""+u.current},p=r.slice(h,d);if(null===p)throw d_();var g=t.maxUploadRetryTime,v=new tw(n,"POST",(function(e,n){var i,a=hw(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?rw(t,o)(e,n):null,new lw(s,c,"final"===a,i)}),g);return v.headers=f,v.body=p.uploadData(),v.progressCallback=s||null,v.errorHandler=ow(e),v}var pw=function(e,t,n){var r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=t,this.complete=n;else{var i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}};function gw(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var vw=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=Q_(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(t._state){case"running":e(r,i);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=cw(t,r,i),s={name:a.fullPath},u=L_(o,e.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=X_(a,n),h=e.maxUploadRetryTime,d=new tw(u,"POST",(function(e){var t;hw(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(am){nw(!1)}return nw(j_(t)),t}),h);return d.urlParams=s,d.headers=c,d.body=l,d.errorHandler=ow(t),d}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,o=new tw(n,"POST",(function(e){var t=hw(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(am){nw(!1)}n||nw(!1);var i=Number(n);return nw(!isNaN(i)),new lw(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=ow(t),o}(e._ref.storage,e._ref._location,t,e._blob),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=dw*this._chunkMultiplier,n=new lw(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var a;try{a=fw(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(am){return e._error=am,void e._transition("error")}var s=e._ref.storage._makeRequest(a,i,o);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){dw*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t,n){var r=sw(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=cw(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+X_(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",h=B_.getBlob(c,r,l);if(null===h)throw d_();var d={name:u.fullPath},f=L_(o,e.host),p=e.maxUploadRetryTime,g=new tw(f,"POST",rw(e,n),p);return g.urlParams=d,g.headers=a,g.body=h.uploadData(),g.errorHandler=ow(t),g}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=h_(),this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=k_(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new pw(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(k_(this._state)){case E_.SUCCESS:gw(this._resolve.bind(null,this.snapshot))();break;case E_.CANCELED:case E_.ERROR:gw(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(k_(this._state)){case E_.RUNNING:case E_.PAUSED:e.next&&gw(e.next.bind(e,this.snapshot))();break;case E_.SUCCESS:e.complete&&gw(e.complete.bind(e))();break;default:e.error&&gw(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),yw=function(){function e(e,t){this._service=e,this._location=t instanceof A_?t:A_.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new A_(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return W_(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new A_(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw g_(e)},e}();function mw(e){var t={prefixes:[],items:[]};return bw(e,t).then((function(){return t}))}function bw(e,t,n){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return(0,Ir.__generator)(this,(function(a){switch(a.label){case 0:return[4,_w(e,{pageToken:n})];case 1:return r=a.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(o=t.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,bw(e,t,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function _w(e,t){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,Ir.__generator)(this,(function(i){switch(i.label){case 0:return null!=t&&"number"===typeof t.maxResults&&O_("options.maxResults",1,1e3,t.maxResults),n=t||{},r=uw(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function ww(e,t){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n;return(0,Ir.__generator)(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=function(e,t,n,r){var i=L_(t.fullServerUrl(),e.host),o=X_(n,r),a=e.maxOperationRetryTime,s=new tw(i,"PATCH",rw(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=aw(t),s}(e.storage,e._location,t,Q_()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}function xw(e){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var t;return(0,Ir.__generator)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=function(e,t,n){var r=L_(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new tw(r,"GET",iw(e,n),i);return o.errorHandler=aw(t),o}(e.storage,e._location,Q_()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then((function(e){if(null===e)throw new u_("no-download-url","The given file does not have any download URLs.");return e}))]}}))}))}function Sw(e){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var t;return(0,Ir.__generator)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=function(e,t){var n=L_(t.fullServerUrl(),e.host),r=e.maxOperationRetryTime,i=new tw(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=aw(t),i}(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}function Iw(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new A_(e._location.bucket,n);return new yw(e.storage,r)}function Cw(e){return/^[A-Za-z]+:\/\//.test(e)}function Ew(e,t){if(e instanceof Nw){var n=e;if(null==n._bucket)throw new u_("no-default-bucket","No default bucket found. Did you set the '"+s_+"' property when initializing the app?");var r=new yw(n,n._bucket);return null!=t?Ew(r,t):r}return void 0!==t?Iw(e,t):e}function kw(e,t){if(t&&Cw(t)){if(e instanceof Nw)return new yw(e,t);throw f_("To use ref(service, url), the first argument must be a Storage instance.")}return Ew(e,t)}function Tw(e,t){var n=null===t||void 0===t?void 0:t[s_];return null==n?null:A_.makeFromBucketSpec(n,e)}var Nw=function(){function e(e,t,n,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=a_,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?A_.makeFromBucketSpec(i,this._host):Tw(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=A_.makeFromBucketSpec(this._url,e):this._bucket=Tw(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){O_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){O_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,Ir.__generator)(this,(function(n){switch(n.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype._getAppCheckToken=function(){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var e;return(0,Ir.__generator)(this,(function(t){switch(t.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new yw(this,e)},e.prototype._makeRequest=function(e,t,n){var r=this;if(this._deleted)return new R_(p_());var i=function(e,t,n,r,i,o){var a=M_(e.urlParams),s=e.url+a,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new F_(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,t,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},e.prototype.makeRequestWithTokens=function(e){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,Ir.__generator)(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return t=i.sent(),n=t[0],r=t[1],[2,this._makeRequest(e,n,r)]}}))}))},e}();function Aw(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new vw(e,new B_(t),n)}(e=(0,Cr.getModularInstance)(e),t,n)}function Rw(e){return function(e){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var t;return(0,Ir.__generator)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=sw(e.storage,e._location,Q_()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}(e=(0,Cr.getModularInstance)(e))}function jw(e,t){return kw(e=(0,Cr.getModularInstance)(e),t)}function Pw(e,t,n,r){void 0===r&&(r={}),function(e,t,n,r){void 0===r&&(r={}),e.host="http://"+t+":"+n;var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:(0,Cr.createMockUserToken)(i,e.app.options.projectId))}(e,t,n,r)}var Dw=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),Ow=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new Dw(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new Dw(t,n,n._ref))}),t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"===typeof t?function(e){return t(new Dw(e,i,i._ref))}:{next:t.next?function(e){return t.next(new Dw(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),Lw=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new Mw(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new Mw(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),Mw=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=function(e,t){return Iw(e,t)}(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new Ow(Aw(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=m_.RAW),this._throwIfRoot("putString");var r=__(t,e),i=(0,Ir.__assign)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Ow(new vw(this._delegate,new B_(r.data,!0),i),this)},e.prototype.listAll=function(){var e=this;return function(e){return mw(e=(0,Cr.getModularInstance)(e))}(this._delegate).then((function(t){return new Lw(t,e.storage)}))},e.prototype.list=function(e){var t=this;return function(e,t){return _w(e=(0,Cr.getModularInstance)(e),t)}(this._delegate,e||void 0).then((function(e){return new Lw(e,t.storage)}))},e.prototype.getMetadata=function(){return Rw(this._delegate)},e.prototype.updateMetadata=function(e){return function(e,t){return ww(e=(0,Cr.getModularInstance)(e),t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return function(e){return xw(e=(0,Cr.getModularInstance)(e))}(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),function(e){return Sw(e=(0,Cr.getModularInstance)(e))}(this._delegate)},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw g_(e)},e}(),Fw=function(){function e(e,t){this.app=e,this._delegate=t}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(Cw(e))throw f_("ref() expected a child path but got a URL, use refFromURL instead.");return new Mw(jw(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!Cw(e))throw f_("refFromURL() expected a full URL but got a child path, use ref() instead.");try{A_.makeFromUrl(e,this._delegate.host)}catch(am){throw f_("refFromUrl() expected a valid full URL but got an invalid one.")}return new Mw(jw(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),Pw(this._delegate,e,t,n)},e}();function Uw(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new Fw(r,new Nw(r,i,o,new N_,n,Sr.default.SDK_VERSION))}!function(e){var t={TaskState:E_,TaskEvent:C_,StringFormat:m_,Storage:Nw,Reference:Mw};e.INTERNAL.registerComponent(new um.Component("storage",Uw,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage","0.7.1")}(Sr.default);var qw,Vw,Bw,zw="0.4.18",Ww=zw,Kw="FB-PERF-TRACE-MEASURE",Hw="_wt_",Gw="_fcp",Qw="_fid",Yw="@firebase/performance/config",$w="@firebase/performance/configexpire",Xw="Performance",Jw=((qw={})["trace started"]="Trace {$traceName} was started before.",qw["trace stopped"]="Trace {$traceName} is not running.",qw["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",qw["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",qw["no window"]="Window is not available.",qw["no app id"]="App id is not available.",qw["no project id"]="Project id is not available.",qw["no api key"]="Api key is not available.",qw["invalid cc log"]="Attempted to queue invalid cc event",qw["FB not default"]="Performance can only start when Firebase app instance is the default one.",qw["RC response not ok"]="RC response is not ok",qw["invalid attribute name"]="Attribute name {$attributeName} is invalid.",qw["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",qw["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",qw["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",qw),Zw=new Cr.ErrorFactory("performance",Xw,Jw),ex=new Er.Logger(Xw);ex.logLevel=Er.LogLevel.INFO;var tx,nx=function(){function e(e){if(this.window=e,!e)throw Zw.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},e.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},e.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},e.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!(0,Cr.isIndexedDBAvailable)()||(ex.info("IndexedDB is not supported by current browswer"),!1):(ex.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},e.prototype.setupObserver=function(e,t){if(this.PerformanceObserver){var n=new this.PerformanceObserver((function(e){for(var n=0,r=e.getEntries();n<r.length;n++){var i=r[n];t(i)}}));n.observe({entryTypes:[e]})}},e.getInstance=function(){return void 0===Vw&&(Vw=new e(Bw)),Vw},e}();function rx(e,t){var n=e.length-t.length;if(n<0||n>1)throw Zw.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}var ix,ox,ax=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=rx("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=rx("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw Zw.create("no app id");return e},e.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw Zw.create("no project id");return e},e.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw Zw.create("no api key");return e},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return void 0===tx&&(tx=new e),tx},e}();function sx(){return ix}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"}(ox||(ox={}));var ux=["firebase_","google_","ga_"],cx=new RegExp("^[a-zA-Z]\\w*$");function lx(){var e=nx.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function hx(){switch(nx.getInstance().document.visibilityState){case"visible":return ox.VISIBLE;case"hidden":return ox.HIDDEN;default:return ox.UNKNOWN}}function dx(){var e=nx.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var fx="0.0.1",px={loggingEnabled:!0},gx="FIREBASE_INSTALLATIONS_AUTH";function vx(e){var t=function(){var e=nx.getInstance().localStorage;if(!e)return;var t=e.getItem($w);if(!t||(n=t,!(Number(n)>Date.now())))return;var n;var r=e.getItem(Yw);if(!r)return;try{return JSON.parse(r)}catch(Fv){return}}();return t?(mx(t),Promise.resolve()):function(e){return function(){var e=ax.getInstance().installationsService.getToken();return e.then((function(e){})),e}().then((function(t){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+ax.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+ax.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:gx+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:ax.getInstance().getAppId(),app_version:Ww,sdk_version:fx})});return fetch(r).then((function(e){if(e.ok)return e.json();throw Zw.create("RC response not ok")}))})).catch((function(){ex.info(yx)}))}(e).then(mx).then((function(e){return function(e){var t=nx.getInstance().localStorage;if(!e||!t)return;t.setItem(Yw,JSON.stringify(e)),t.setItem($w,String(Date.now()+60*ax.getInstance().configTimeToLive*60*1e3))}(e)}),(function(){}))}var yx="Could not fetch config, will use default configs";function mx(e){if(!e)return e;var t=ax.getInstance(),n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=px.loggingEnabled,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=bx(t.tracesSamplingRate),t.logNetworkAfterSampling=bx(t.networkRequestsSamplingRate),e}function bx(e){return Math.random()<=e}var _x,wx=1;function xx(){return wx=2,_x=_x||function(){var e=nx.getInstance().document;return new Promise((function(t){if(e&&"complete"!==e.readyState){var n=function(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()}))}().then((function(){return function(){var e=ax.getInstance().installationsService.getId();return e.then((function(e){ix=e})),e}()})).then((function(e){return vx(e)})).then((function(){return Sx()}),(function(){return Sx()}))}function Sx(){wx=3}var Ix,Cx=1e4,Ex=3,kx=1e3,Tx=Ex,Nx=[],Ax=!1;function Rx(e){setTimeout((function(){if(0!==Tx)return Nx.length?void function(){var e=Nx.splice(0,kx),t=e.map((function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}}));(function(e,t){return function(e){var t=ax.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(e).then((function(e){return e.ok||ex.info("Call to Firebase backend failed."),e.json()})).then((function(e){var n=Number(e.nextRequestWaitMillis),r=Cx;isNaN(n)||(r=Math.max(n,r));var i=e.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(Nx=(0,Ir.__spreadArray)((0,Ir.__spreadArray)([],t),Nx),ex.info("Retry transport request later.")),Tx=Ex,Rx(r)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:ax.getInstance().logSource,log_event:t},e).catch((function(){Nx=(0,Ir.__spreadArray)((0,Ir.__spreadArray)([],e),Nx),Tx--,ex.info("Tries left: "+Tx+"."),Rx(Cx)}))}():Rx(Cx)}),e)}function jx(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];!function(e){if(!e.eventTime||!e.message)throw Zw.create("invalid cc log");Nx=(0,Ir.__spreadArray)((0,Ir.__spreadArray)([],Nx),[e])}({message:e.apply(void 0,t),eventTime:Date.now()})}}function Px(e,t){Ix||(Ix=jx(Lx)),Ix(e,t)}function Dx(e){var t=ax.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&nx.getInstance().requiredApisAvailable()&&(e.isAuto&&hx()!==ox.VISIBLE||(3===wx?Ox(e):xx().then((function(){return Ox(e)}),(function(){return Ox(e)}))))}function Ox(e){if(sx()){var t=ax.getInstance();t.loggingEnabled&&t.logTraceAfterSampling&&setTimeout((function(){return Px(e,1)}),0)}}function Lx(e,t){return 0===t?function(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:Mx(),network_request_metric:t};return JSON.stringify(n)}(e):function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=n);var r={application_info:Mx(),trace_metric:t};return JSON.stringify(r)}(e)}function Mx(){return{google_app_id:ax.getInstance().getAppId(),app_instance_id:sx(),web_app_info:{sdk_version:Ww,page_url:nx.getInstance().getUrl(),service_worker_status:lx(),visibility_state:hx(),effective_connection_type:dx()},application_process_state:0}}var Fx=["_fp",Gw,Qw];var Ux=function(){function e(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=nx.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||Kw+"-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(1!==this.state)throw Zw.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(2!==this.state)throw Zw.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Dx(this)},e.prototype.record=function(e,t,n){if(e<=0)throw Zw.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw Zw.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=(0,Ir.__assign)({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}Dx(this)},e.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)},e.prototype.putMetric=function(e,t){if(n=e,r=this.name,0===n.length||n.length>100||!(r&&r.startsWith(Hw)&&Fx.indexOf(n)>-1)&&n.startsWith("_"))throw Zw.create("invalid custom metric name",{customMetricName:e});var n,r;this.counters[e]=function(e){var t=Math.floor(e);return t<e&&ex.info("Metric value should be an Integer, setting the value as : "+t+"."),t}(t)},e.prototype.getMetric=function(e){return this.counters[e]||0},e.prototype.putAttribute=function(e,t){var n,r=!(0===(n=e).length||n.length>40)&&!ux.some((function(e){return n.startsWith(e)}))&&!!n.match(cx),i=function(e){return 0!==e.length&&e.length<=100}(t);if(r&&i)this.customAttributes[e]=t;else{if(!r)throw Zw.create("invalid attribute name",{attributeName:e});if(!i)throw Zw.create("invalid attribute value",{attributeValue:t})}},e.prototype.getAttribute=function(e){return this.customAttributes[e]},e.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},e.prototype.getAttributes=function(){return(0,Ir.__assign)({},this.customAttributes)},e.prototype.setStartTime=function(e){this.startTimeUs=e},e.prototype.setDuration=function(e){this.durationUs=e},e.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},e.createOobTrace=function(t,n,r){var i=nx.getInstance().getUrl();if(i){var o=new e(Hw+i,!0),a=Math.floor(1e3*nx.getInstance().getTimeOrigin());o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd)));if(n){var s=n.find((function(e){return"first-paint"===e.name}));s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find((function(e){return"first-contentful-paint"===e.name}));u&&u.startTime&&o.putMetric(Gw,Math.floor(1e3*u.startTime)),r&&o.putMetric(Qw,Math.floor(1e3*r))}Dx(o)}},e.createUserTimingTrace=function(t){Dx(new e(t,!1,t))},e}();function qx(e){var t=e;if(t&&void 0!==t.responseStart){var n=nx.getInstance().getTimeOrigin(),r=Math.floor(1e3*(t.startTime+n)),i=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,o=Math.floor(1e3*(t.responseEnd-t.startTime));!function(e){var t=ax.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout((function(){return Px(e,0)}),0)}}({url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}var Vx=5e3;function Bx(){sx()&&(setTimeout((function(){return function(){var e=nx.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout((function(){Ux.createOobTrace(t,n),r=void 0}),Vx);e.onFirstInputDelay((function(e){r&&(clearTimeout(r),Ux.createOobTrace(t,n,e))}))}else Ux.createOobTrace(t,n)}()}),0),setTimeout((function(){return function(){for(var e=nx.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){qx(r[n])}e.setupObserver("resource",qx)}()}),0),setTimeout((function(){return function(){for(var e=nx.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){zx(r[n])}e.setupObserver("measure",zx)}()}),0))}function zx(e){var t=e.name;t.substring(0,Kw.length)!==Kw&&Ux.createUserTimingTrace(t)}var Wx=function(){function e(e){this.app=e,nx.getInstance().requiredApisAvailable()&&(0,Cr.validateIndexedDBOpenable)().then((function(e){e&&(Ax||(Rx(5500),Ax=!0),xx().then(Bx,Bx))})).catch((function(e){ex.info("Environment doesn't support IndexedDB: "+e)}))}return e.prototype.trace=function(e){return new Ux(e)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return ax.getInstance().instrumentationEnabled},set:function(e){ax.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return ax.getInstance().dataCollectionEnabled},set:function(e){ax.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),e}();!function(e){var t=function(e,t){if("[DEFAULT]"!==e.name)throw Zw.create("FB not default");if("undefined"===typeof window)throw Zw.create("no window");return function(e){Bw=e}(window),ax.getInstance().firebaseAppInstance=e,ax.getInstance().installationsService=t,new Wx(e)};e.INTERNAL.registerComponent(new um.Component("performance",(function(e){var n=e.getProvider("app").getImmediate(),r=e.getProvider("installations").getImmediate();return t(n,r)}),"PUBLIC")),e.registerVersion("@firebase/performance",zw)}(Sr.default);var Kx,Hx,Gx="firebase_id",Qx="origin",Yx=6e4,$x="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Xx="https://www.googletagmanager.com/gtag/js";!function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"}(Kx||(Kx={})),function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(Hx||(Hx={}));var Jx,Zx=new Er.Logger("@firebase/analytics");function eS(e,t,n,r,i,o){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var a,s,u,c;return(0,Ir.__generator)(this,(function(l){switch(l.label){case 0:a=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=l.sent(),(u=s.find((function(e){return e.measurementId===i})))?[4,t[u.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),Zx.error(c),[3,8];case 8:return e(Kx.CONFIG,i,o),[2]}}))}))}function tS(e,t,n,r,i){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var o,a,s,u,c,l,h,d;return(0,Ir.__generator)(this,(function(f){switch(f.label){case 0:return f.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=f.sent(),u=function(e){var n=s.find((function(t){return t.measurementId===e})),r=n&&t[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,l=a;c<l.length&&(h=l[c],"break"!==u(h));c++);f.label=2;case 2:return 0===o.length&&(o=Object.values(t)),[4,Promise.all(o)];case 3:return f.sent(),e(Kx.EVENT,r,i||{}),[3,5];case 4:return d=f.sent(),Zx.error(d),[3,5];case 5:return[2]}}))}))}function nS(e,t,n,r,i){var o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=function(e,t,n,r){return function(i,o,a){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var s;return(0,Ir.__generator)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==Kx.EVENT?[3,2]:[4,tS(e,t,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==Kx.CONFIG?[3,4]:[4,eS(e,t,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:e(Kx.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),Zx.error(s),[3,7];case 7:return[2]}}))}))}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}var rS=((Jx={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Jx["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Jx["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Jx["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Jx["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Jx["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Jx["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Jx["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Jx["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Jx),iS=new Cr.ErrorFactory("analytics","Analytics",rS),oS=30,aS=new(function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=1e3),this.throttleMetadata=e,this.intervalMillis=t}return e.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},e.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},e.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},e}());function sS(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function uS(e){var t;return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return(0,Ir.__generator)(this,(function(c){switch(c.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:sS(r)},o=$x.replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(a=c.sent()).status||304===a.status)return[3,6];s="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,a.json()];case 3:return u=c.sent(),(null===(t=u.error)||void 0===t?void 0:t.message)&&(s=u.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw iS.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s});case 6:return[2,a.json()]}}))}))}function cS(e,t,n,r){var i=t.throttleEndTimeMillis,o=t.backoffCount;return void 0===r&&(r=aS),(0,Ir.__awaiter)(this,void 0,void 0,(function(){var t,a,s,u,c,l,h;return(0,Ir.__generator)(this,(function(d){switch(d.label){case 0:t=e.appId,a=e.measurementId,d.label=1;case 1:return d.trys.push([1,3,,4]),[4,lS(n,i)];case 2:return d.sent(),[3,4];case 3:if(s=d.sent(),a)return Zx.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+s.message+"]"),[2,{appId:t,measurementId:a}];throw s;case 4:return d.trys.push([4,6,,7]),[4,uS(e)];case 5:return u=d.sent(),r.deleteThrottleMetadata(t),[2,u];case 6:if(!function(e){if(!(e instanceof Cr.FirebaseError)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(c=d.sent())){if(r.deleteThrottleMetadata(t),a)return Zx.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:t,measurementId:a}];throw c}return l=503===Number(c.customData.httpStatus)?(0,Cr.calculateBackoffMillis)(o,r.intervalMillis,oS):(0,Cr.calculateBackoffMillis)(o,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},r.setThrottleMetadata(t,h),Zx.debug("Calling attemptFetch again in "+l+" millis"),[2,cS(e,h,n,r)];case 7:return[2]}}))}))}function lS(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(iS.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var hS=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}();function dS(e,t,n,r,i,o){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var a,s,u,c,l,h,d;return(0,Ir.__generator)(this,(function(f){switch(f.label){case 0:return a=function(e,t,n){return void 0===t&&(t=aS),(0,Ir.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c=this;return(0,Ir.__generator)(this,(function(l){if(r=e.options,i=r.appId,o=r.apiKey,a=r.measurementId,!i)throw iS.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:i}];throw iS.create("no-api-key")}return s=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new hS,setTimeout((function(){return(0,Ir.__awaiter)(c,void 0,void 0,(function(){return(0,Ir.__generator)(this,(function(e){return u.abort(),[2]}))}))}),void 0!==n?n:Yx),[2,cS({appId:i,apiKey:o,measurementId:a},s,u,t)]}))}))}(e),a.then((function(t){n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Zx.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return Zx.error(e)})),t.push(a),s=function(){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var e;return(0,Ir.__generator)(this,(function(t){switch(t.label){case 0:return(0,Cr.isIndexedDBAvailable)()?[3,1]:(Zx.warn(iS.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,(0,Cr.validateIndexedDBOpenable)()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),Zx.warn(iS.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(e){return e?r.getId():void 0})),[4,Promise.all([a,s])];case 1:return u=f.sent(),c=u[0],l=u[1],function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(Xx))return r}return null}()||function(e,t){var n=document.createElement("script");n.src=Xx+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}(o,c.measurementId),i("js",new Date),(d={})[Qx]="firebase",d.update=!0,h=d,null!=l&&(h[Gx]=l),i(Kx.CONFIG,c.measurementId,h),[2,c.measurementId]}}))}))}var fS,pS,gS={},vS=[],yS={},mS="dataLayer",bS="gtag",_S=!1;function wS(e){if(_S)throw iS.create("already-initialized");e.dataLayerName&&(mS=e.dataLayerName),e.gtagName&&(bS=e.gtagName)}function xS(e,t){!function(){var e=[];if((0,Cr.isBrowserExtension)()&&e.push("This is a browser extension environment."),(0,Cr.areCookiesEnabled)()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"("+(t+1)+") "+e})).join(" "),n=iS.create("invalid-analytics-context",{errorInfo:t});Zx.warn(n.message)}}();var n=e.options.appId;if(!n)throw iS.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw iS.create("no-api-key");Zx.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=gS[n])throw iS.create("already-exists",{id:n});if(!_S){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(mS);var r=nS(gS,vS,yS,mS,bS),i=r.wrappedGtag,o=r.gtagCore;pS=i,fS=o,_S=!0}gS[n]=dS(e,vS,yS,t,fS,mS);var a={app:e,logEvent:function(e,t,r){(function(e,t,n,r,i){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var o,a;return(0,Ir.__generator)(this,(function(s){switch(s.label){case 0:return i&&i.global?(e(Kx.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:o=s.sent(),a=(0,Ir.__assign)((0,Ir.__assign)({},r),{send_to:o}),e(Kx.EVENT,n,a),s.label=3;case 3:return[2]}}))}))})(pS,gS[n],e,t,r).catch((function(e){return Zx.error(e)}))},setCurrentScreen:function(e,t){(function(e,t,n,r){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var i;return(0,Ir.__generator)(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(Kx.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(Kx.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(pS,gS[n],e,t).catch((function(e){return Zx.error(e)}))},setUserId:function(e,t){(function(e,t,n,r){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var i;return(0,Ir.__generator)(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(Kx.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(Kx.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(pS,gS[n],e,t).catch((function(e){return Zx.error(e)}))},setUserProperties:function(e,t){(function(e,t,n,r){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u;return(0,Ir.__generator)(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return e(Kx.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:u=c.sent(),e(Kx.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(pS,gS[n],e,t).catch((function(e){return Zx.error(e)}))},setAnalyticsCollectionEnabled:function(e){(function(e,t){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n;return(0,Ir.__generator)(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}}))}))})(gS[n],e).catch((function(e){return Zx.error(e)}))},INTERNAL:{delete:function(){return delete gS[n],Promise.resolve()}}};return a}var SS="analytics";function IS(){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){return(0,Ir.__generator)(this,(function(e){switch(e.label){case 0:if((0,Cr.isBrowserExtension)())return[2,!1];if(!(0,Cr.areCookiesEnabled)())return[2,!1];if(!(0,Cr.isIndexedDBAvailable)())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,(0,Cr.validateIndexedDBOpenable)()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))}!function(e){e.INTERNAL.registerComponent(new um.Component(SS,(function(e){return xS(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:wS,EventName:Hx,isSupported:IS})),e.INTERNAL.registerComponent(new um.Component("analytics-internal",(function(e){try{return{logEvent:e.getProvider(SS).getImmediate().logEvent}}catch(am){throw iS.create("interop-component-reg-failed",{reason:am})}}),"PRIVATE")),e.registerVersion("@firebase/analytics","0.6.18")}(Sr.default);var CS,ES=function(){function e(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}return e.prototype.isCachedDataFresh=function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+r+"."),r},e.prototype.fetch=function(e){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o;return(0,Ir.__generator)(this,(function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return t=a.sent(),n=t[0],(r=t[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n)?[2,r]:(e.eTag=r&&r.eTag,[4,this.client.fetch(e)]);case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}}))}))},e}(),kS=((CS={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",CS["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",CS["registration-api-key"]="Undefined API key. Check Firebase app initialization.",CS["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",CS["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",CS["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",CS["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",CS["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",CS["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",CS["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',CS["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',CS["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",CS["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",CS),TS=new Cr.ErrorFactory("remoteconfig","Remote Config",kS);var NS=function(){function e(e,t,n,r,i,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return e.prototype.fetch=function(e){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l,h,d,f,p,g,v,y,m,b;return(0,Ir.__generator)(this,(function(_){switch(_.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:t=_.sent(),n=t[0],r=t[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=i+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},s={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===w&&(w=navigator),w.languages&&w.languages[0]||w.language)},u={method:"POST",headers:a,body:JSON.stringify(s)},c=fetch(o,u),l=new Promise((function(t,n){e.signal.addEventListener((function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))})),_.label=2;case 2:return _.trys.push([2,5,,6]),[4,Promise.race([c,l])];case 3:return _.sent(),[4,c];case 4:return h=_.sent(),[3,6];case 5:throw d=_.sent(),f="fetch-client-network","AbortError"===d.name&&(f="fetch-timeout"),TS.create(f,{originalErrorMessage:d.message});case 6:if(p=h.status,g=h.headers.get("ETag")||void 0,200!==h.status)return[3,11];m=void 0,_.label=7;case 7:return _.trys.push([7,9,,10]),[4,h.json()];case 8:return m=_.sent(),[3,10];case 9:throw b=_.sent(),TS.create("fetch-client-parse",{originalErrorMessage:b.message});case 10:v=m.entries,y=m.state,_.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===y?p=500:"NO_CHANGE"===y?p=304:"NO_TEMPLATE"!==y&&"EMPTY_CONFIG"!==y||(v={}),304!==p&&200!==p)throw TS.create("fetch-status",{httpStatus:p});return[2,{status:p,eTag:g,config:v}]}var w}))}))},e}(),AS=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}(),RS=["1","true","t","yes","y","on"],jS=function(){function e(e,t){void 0===t&&(t=""),this._source=e,this._value=t}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return"static"!==this._source&&RS.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e},e.prototype.getSource=function(){return this._source},e}(),PS=function(){function e(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return e.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=Er.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=Er.LogLevel.SILENT;break;default:this._logger.logLevel=Er.LogLevel.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var e,t,n;return(0,Ir.__generator)(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=r.sent(),t=e[0],n=e[1],t&&t.config&&t.eTag&&t.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},e.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){e._isInitializationComplete=!0}))),this._initializePromise},e.prototype.fetch=function(){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r=this;return(0,Ir.__generator)(this,(function(i){switch(i.label){case 0:e=new AS,setTimeout((function(){return(0,Ir.__awaiter)(r,void 0,void 0,(function(){return(0,Ir.__generator)(this,(function(t){return e.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return t=i.sent(),n=function(e,t){return e instanceof Cr.FirebaseError&&-1!==e.code.indexOf(t)}(t,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),t;case 6:return[2]}}))}))},e.prototype.fetchAndActivate=function(){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){return(0,Ir.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}}))}))},e.prototype.getAll=function(){var e=this;return function(e,t){void 0===e&&(e={});void 0===t&&(t={});return Object.keys((0,Ir.__assign)((0,Ir.__assign)({},e),t))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(t,n){return t[n]=e.getValue(n),t}),{})},e.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},e.prototype.getNumber=function(e){return this.getValue(e).asNumber()},e.prototype.getString=function(e){return this.getValue(e).asString()},e.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var t=this._storageCache.getActiveConfig();return t&&void 0!==t[e]?new jS("remote",t[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new jS("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new jS("static"))},e}();function DS(e,t){var n=e.target.error||void 0;return TS.create(t,{originalErrorMessage:n&&n.message})}var OS="app_namespace_store";var LS=function(){function e(e,t,n,r){void 0===r&&(r=new Promise((function(e,t){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(e){t(DS(e,"storage-open"))},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result;0===e.oldVersion&&t.createObjectStore(OS,{keyPath:"compositeKey"})}}))),this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(e){return this.set("active_config",e)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(e){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,Ir.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([OS],"readonly").objectStore(OS),a=n.createCompositeKey(e);try{var s=o.get(a);s.onerror=function(e){i(DS(e,"storage-get"))},s.onsuccess=function(e){var t=e.target.result;r(t?t.value:void 0)}}catch(am){i(TS.create("storage-get",{originalErrorMessage:am&&am.message}))}}))]}}))}))},e.prototype.set=function(e,t){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var n,r=this;return(0,Ir.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var a=n.transaction([OS],"readwrite").objectStore(OS),s=r.createCompositeKey(e);try{var u=a.put({compositeKey:s,value:t});u.onerror=function(e){o(DS(e,"storage-set"))},u.onsuccess=function(){i()}}catch(am){o(TS.create("storage-set",{originalErrorMessage:am&&am.message}))}}))]}}))}))},e.prototype.delete=function(e){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,Ir.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([OS],"readwrite").objectStore(OS),a=n.createCompositeKey(e);try{var s=o.delete(a);s.onerror=function(e){i(DS(e,"storage-delete"))},s.onsuccess=function(){r()}}catch(am){i(TS.create("storage-delete",{originalErrorMessage:am&&am.message}))}}))]}}))}))},e.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},e}(),MS=function(){function e(e){this.storage=e}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i,o;return(0,Ir.__generator)(this,(function(a){switch(a.label){case 0:return e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,e];case 1:return(r=a.sent())&&(this.lastFetchStatus=r),[4,t];case 2:return(i=a.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=a.sent())&&(this.activeConfig=o),[2]}}))}))},e.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},e.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},e}();function FS(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(TS.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var US,qS=function(){function e(e,t){this.client=e,this.storage=t}return e.prototype.fetch=function(e){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var t;return(0,Ir.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return t=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,t)]}}))}))},e.prototype.attemptFetch=function(e,t){var n=t.throttleEndTimeMillis,r=t.backoffCount;return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var t,i,o;return(0,Ir.__generator)(this,(function(a){switch(a.label){case 0:return[4,FS(e.signal,n)];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return t=a.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return a.sent(),[2,t];case 5:if(!function(e){if(!(e instanceof Cr.FirebaseError)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(i=a.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+(0,Cr.calculateBackoffMillis)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return a.sent(),[2,this.attemptFetch(e,o)];case 7:return[2]}}))}))},e}(),VS="@firebase/remote-config";(US=Sr.default).INTERNAL.registerComponent(new um.Component("remoteConfig",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations").getImmediate();if("undefined"===typeof window)throw TS.create("registration-window");var o=r.options,a=o.projectId,s=o.apiKey,u=o.appId;if(!a)throw TS.create("registration-project-id");if(!s)throw TS.create("registration-api-key");if(!u)throw TS.create("registration-app-id");n=n||"firebase";var c=new LS(u,r.name,n),l=new MS(c),h=new Er.Logger(VS);h.logLevel=Er.LogLevel.ERROR;var d=new NS(i,US.SDK_VERSION,n,a,s,u),f=new qS(d,c),p=new ES(f,c,l,h),g=new PS(r,p,l,c,h);return g.ensureInitialized(),g}),"PUBLIC").setMultipleInstances(!0)),US.registerVersion(VS,"0.1.43");n(530);var BS="8.10.1";Sr.default.registerVersion("firebase",BS,"app"),Sr.default.SDK_VERSION=BS;console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),Sr.default.registerVersion("firebase","8.10.1");Sr.default.initializeApp({apiKey:"AIzaSyCPBAQgF8bTMvCVWlU_IOpV-7F0TTp2drc",authDomain:"printbajar-3edba.firebaseapp.com",projectId:"printbajar-3edba",storageBucket:"printbajar-3edba.appspot.com",messagingSenderId:"719533183574",appId:"1:719533183574:web:9db1c35fb15d9a9f0a61f7",measurementId:"G-7W0DG5QC9P"});const zS=Sr.default.storage();const WS=function(e){var t;(0,r.useEffect)((()=>{F(),U(),M()}),[]);const n=ee(),i=localStorage.getItem("userpic"),[o,a]=(0,r.useState)(i),[s,u]=(0,r.useState)(!1),c=localStorage.getItem("username"),l=localStorage.getItem("userId"),h=c.split(" ")[0],[d,f]=(0,r.useState)(""),[p,g]=(0,r.useState)(""),[v,y]=(0,r.useState)(""),[m,b]=(0,r.useState)(""),[_,w]=(0,r.useState)(""),[x,S]=(0,r.useState)(""),[I,C]=(0,r.useState)(""),[E,k]=(0,r.useState)(!1),T=localStorage.getItem("type"),[N,A]=(0,r.useState)([]),[R,j]=(0,r.useState)([]),[P,D]=(0,r.useState)([]),[O,L]=(0,r.useState)([]),M=()=>{Fn.get(Un+"addstudents").then((e=>{D(e.data.data.filter((e=>"teacher"===e.type)).filter((e=>e.timing)).filter((e=>e.timing.length>0))),L(e.data.data.filter((e=>"teacher"===e.type&e.timing!=[])))}))},F=()=>{Fn.get(Un+"request").then((e=>{A("teacher"===T?e.data.data.reverse().filter((e=>e.to===l)):e.data.data.reverse().filter((e=>e.from===l&"panding"!==e.status)))}))},U=()=>{Fn.get(Un+"addstudents").then((e=>j(e.data.data)))},q=e=>R.filter((t=>t._id===e))[0].name,V=localStorage.getItem("teacherData"),B=V?JSON.parse(V):{},[z,W]=(0,r.useState)(B),K=e=>{const t=e.split(":"),n=t[0]>12?t[0]-12:t[0],r=n?"0".concat(n):n,i=t[1],o=t[0]<12?"Am":"Pm";return"".concat(r,":").concat(i," ").concat(o)},H=new Date,G=H.getDay(),Q=(H.getHours(),["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][G]),Y=N.map((e=>e.to)),$=e=>{if(""!==e){zS.ref("images/".concat(e.name)).put(e).on("state_changed",(e=>{J(Math.ceil(e.bytesTransferred/e.totalBytes*100))}),(e=>{console.log(e)}),(()=>{zS.ref("images").child(e.name).getDownloadURL().then((e=>{J(0),(e=>{localStorage.setItem("userpic",e),a(e);const t={profilePhoto:e};Fn.put(Un+"addstudents/"+localStorage.getItem("userId"),t)})(e)}))}))}else alert("no image selected")},[X,J]=(0,r.useState)(0);return(0,mr.jsxs)("div",{children:[E&&(0,mr.jsx)("div",{style:{width:"100%",height:"100vh",backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",position:"fixed",zIndex:20},children:(0,mr.jsxs)("div",{className:"lgnd1 headres",style:{width:"70%",height:"60vh",backgroundColor:"white",borderRadius:10,marginTop:"2%",position:"relative",paddingLeft:"30px",overflowY:"auto",paddingBottom:10,left:"-10%"},children:[(0,mr.jsx)("div",{style:{width:"100%",textAlign:"center"},children:(0,mr.jsx)("div",{style:{height:"70px",width:"97%",backgroundColor:"black",marginTop:40,alignItems:"center",justifyContent:"center",display:"flex",fontWeight:"bold",borderRadius:10,color:"white"},children:(0,mr.jsxs)("h2",{children:[z.name," Class Schedule"]})})}),(0,mr.jsx)("i",{class:"fa fa-times",style:{position:"absolute",top:10,right:10,fontSize:25},onClick:()=>k(!1)}),(0,mr.jsx)("br",{}),(0,mr.jsx)("div",{style:{height:300,width:"97%",backgroundColor:"whitesmoke",overflowY:"auto",borderRadius:10,padding:"20px 0px 20px 0px"},children:(0,mr.jsxs)("table",{className:"table",children:[(0,mr.jsxs)("thead",{style:{textAlign:"center"},children:[(0,mr.jsx)("th",{children:"Sr No."}),(0,mr.jsx)("th",{children:"Day"}),"z",(0,mr.jsx)("th",{children:"From"}),(0,mr.jsx)("th",{children:"To"}),(0,mr.jsx)("th",{children:"Action"})]}),(0,mr.jsx)("tbody",{children:null===z||void 0===z||null===(t=z.timing)||void 0===t?void 0:t.map(((e,t)=>(0,mr.jsxs)("tr",{style:{textAlign:"center"},children:[(0,mr.jsx)("td",{children:t+1}),(0,mr.jsx)("td",{children:e.day}),(0,mr.jsx)("td",{children:K(e.from)}),(0,mr.jsx)("td",{children:K(e.to)}),(0,mr.jsx)("td",{children:(0,mr.jsx)("a",{href:z.videoLink,children:(0,mr.jsx)("button",{className:"btn btn-outline-primary",children:"Join Class"})})})]})))})]})})]})}),s&&(0,mr.jsx)("div",{className:"lgnd1",style:{width:"85%",height:"100vh",backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",position:"fixed",zIndex:20},children:(0,mr.jsxs)("div",{className:"lgnd1",style:{width:"70%",height:"60vh",backgroundColor:"white",borderRadius:10,marginTop:"2%",position:"fixed",overflowY:"auto",paddingBottom:10,zIndex:100},children:[(0,mr.jsx)("div",{style:{width:"100%",textAlign:"center"},children:(0,mr.jsx)("h1",{children:"Notification"})}),(0,mr.jsx)("i",{class:"fa fa-times",style:{position:"absolute",top:10,right:10,fontSize:25},onClick:()=>u(!1)}),"teacher"===T?(0,mr.jsx)(mr.Fragment,{children:N.map((e=>(0,mr.jsxs)("div",{style:{height:"12vh",width:"95%",marginLeft:"2.5%",backgroundColor:"whitesmoke",borderRadius:"10px",display:"flex",paddingLeft:10,marginTop:"20px"},children:[(0,mr.jsx)("div",{style:{height:"12vh",width:"58%",display:"flex",flexDirection:"column",justifyContent:"center"},children:"panding"===e.status?(0,mr.jsxs)("label",{style:{fontSize:"16px",fontWeight:"bold",letterSpacing:1,height:25},children:[q(e.from)," Sent request for ",e.mode," ",e.ambience," class"]}):(e.status,(0,mr.jsxs)("label",{style:{fontSize:"16px",fontWeight:"bold",letterSpacing:1,height:25},children:[q(e.from)," ",e.mode," ",e.ambience," class request"]}))}),"panding"===e.status?(0,mr.jsxs)("div",{style:{height:"12vh",width:"42%",display:"flex",alignItems:"center",justifyContent:"space-evenly"},children:[(0,mr.jsx)("button",{onClick:()=>(e=>{Fn.put(Un+"request/"+e,{status:"accept"}).then((()=>F()))})(e._id),style:{height:"35px",border:"none",borderRadius:10,width:"40%",backgroundColor:"black",color:"white"},children:"Accept"}),(0,mr.jsx)("button",{onClick:()=>(e=>{Fn.put(Un+"request/"+e,{status:"reject"}).then((()=>F()))})(e._id),style:{height:"35px",border:"none",borderRadius:10,width:"40%",backgroundColor:"black",color:"white"},children:"Reject"})]}):"accept"===e.status?(0,mr.jsx)("div",{style:{height:"12vh",width:"42%",display:"flex",alignItems:"center",justifyContent:"space-evenly"},children:(0,mr.jsx)("button",{style:{height:"35px",border:"none",borderRadius:10,width:"87%",backgroundColor:"green",color:"white"},children:"Accepted"})}):(0,mr.jsx)("div",{style:{height:"12vh",width:"42%",display:"flex",alignItems:"center",justifyContent:"space-evenly"},children:(0,mr.jsx)("button",{style:{height:"35px",border:"none",borderRadius:10,width:"87%",backgroundColor:"red",color:"white"},children:"Rejected"})})]})))}):(0,mr.jsxs)(mr.Fragment,{children:[N.map((e=>(0,mr.jsx)("div",{style:{minHeight:"12vh",width:"95%",marginLeft:"2.5%",backgroundColor:"whitesmoke",borderRadius:"10px",display:"flex",paddingLeft:10,marginTop:"20px"},children:(0,mr.jsx)("div",{style:{minHeight:"12vh",width:"90%",display:"flex",flexDirection:"column",justifyContent:"center"},children:"accept"===e.status?(0,mr.jsxs)("div",{className:"noti-head",style:{display:"flex",justifyContent:"space-between"},children:[(0,mr.jsxs)("label",{style:{fontSize:"16px",fontWeight:"bold",letterSpacing:1},children:[q(e.to)," ",e.status," Your ",e.mode," ",e.ambience," class request"]}),(0,mr.jsx)("button",{className:"btn-noti",onClick:()=>{k(!0),u(!1),W(P.filter((t=>t._id===e.to))[0])},style:{height:"40px",width:"25%",border:"none",backgroundColor:"black",color:"white",borderRadius:10},children:"View Class schedule"})]}):(0,mr.jsx)("div",{children:(0,mr.jsxs)("label",{style:{fontSize:"16px",fontWeight:"bold",letterSpacing:1,height:25},children:[q(e.to)," ",e.status," Your ",e.mode," ",e.ambience," class request"]})})})}))),P.filter((e=>Y.includes(e._id)&e.timing.map((e=>e.day)).includes(Q))).map(((e,t)=>{var n;return(0,mr.jsx)("div",{style:{height:"12vh",width:"95%",marginLeft:"2.5%",backgroundColor:"whitesmoke",borderRadius:"10px",display:"flex",flexDirection:"column",paddingLeft:10,marginTop:"20px"},children:(0,mr.jsx)("div",{style:{height:"12vh",width:"90%",display:"flex",flexDirection:"column",justifyContent:"center"},children:(0,mr.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},children:(0,mr.jsxs)("label",{style:{fontSize:"16px",fontWeight:"bold",letterSpacing:1,height:25},children:[" ","classes for ",Q," is at"," ",null===(n=e.timing.filter((e=>e.day===Q))[0])||void 0===n?void 0:n.from," "]})})})})}))]})]})}),(0,mr.jsxs)("div",{className:"res-sidebar",style:{width:"95%",height:"10vh",backgroundColor:"black",marginLeft:"2.5%",borderRadius:10,color:"white"},children:[(0,mr.jsx)("h1",{children:"KL"}),(0,mr.jsx)("i",{onClick:()=>n("/Addcts"),style:{fontSize:"23px"},className:"fa fa-home"}),(0,mr.jsx)("i",{onClick:()=>n("/Allcourses"),style:{fontSize:"23px"},class:"fa fa-graduation-cap"}),(0,mr.jsx)("i",{onClick:()=>n("/Setting"),style:{fontSize:"23px"},class:"fa fa-cog"}),(0,mr.jsx)("i",{onClick:()=>{localStorage.removeItem("check"),n("/")},style:{fontSize:"23px"},class:"fa fa-sign-out"})]}),(0,mr.jsxs)("div",{className:"head",style:{width:"100%",height:"25vh",backgroundColor:"white",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,mr.jsxs)("div",{className:"head-info",style:{height:"20vh",width:"35%",backgroundColor:"whitesmoke",borderRadius:"15px",display:"flex",position:"relative",marginLeft:"2%"},children:[(0,mr.jsxs)("div",{style:{width:"60%",height:"20vh",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",paddingLeft:"3%"},children:[(0,mr.jsxs)("h2",{style:{letterSpacing:"1px"},children:["Hello ",h,"!"]}),(0,mr.jsx)("label",{children:"It's good to see you again."})]}),(0,mr.jsx)("div",{style:{width:"40%",height:"20vh",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("img",{style:{width:"47%",height:"22vh",position:"absolute",bottom:0},src:xr})})]}),I,(0,mr.jsx)("div",{className:"head-info1",style:{height:"20vh",width:"35%",borderRadius:"15px",display:"flex",position:"relative"},children:(0,mr.jsxs)("div",{className:"head-info2",style:{width:"70%",display:"flex",justifyContent:"space-evenly"},children:[(0,mr.jsx)("input",{onChange:t=>{e.searchFn(t.target.value),e.searchFn1(t.target.value)},style:{height:"25px",width:"60%"},placeholder:"Search Courses"}),(0,mr.jsxs)("div",{style:{height:40,width:40,display:"flex",position:"relative"},children:[(0,mr.jsx)("i",{style:{fontSize:"22px"},class:"fa fa-bell-o","aria-hidden":"true",onClick:()=>u(!0)}),N.length>0?(0,mr.jsx)("button",{style:{height:20,width:20,borderRadius:"50%",fontSize:10,fontWeight:"bold",border:"none",position:"absolute",top:-10,left:15,backgroundColor:"red",color:"white"},children:N.length}):null]}),(0,mr.jsx)("div",{style:{height:40,width:40,display:"flex",position:"relative"},children:(0,mr.jsxs)("div",{style:{display:"flex"},children:[(0,mr.jsx)("div",{style:{display:"flex"},children:(0,mr.jsxs)("div",{style:{height:35,width:35,border:"1px solid black"},children:[(0,mr.jsx)("input",{onChange:e=>$(e.target.files[0]),id:"asd",type:"file",style:{display:"none"}}),(0,mr.jsx)("label",{for:"asd",children:(0,mr.jsx)("div",{style:{height:20,width:20,borderRadius:"50%",fontSize:13,fontWeight:"bold",fontWeight:"bold",border:"none",position:"absolute",top:-10,left:27,backgroundColor:"red",color:"white",zIndex:2,display:"flex",justifyContent:"center",alignItems:"center"},children:"+"})}),(0,mr.jsx)("img",{style:{height:33,width:33},src:0!==X?"https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExYm1ycDM5cmVuOG1peDhuZTRxNjM4aXllbmgwam1iY2FmcTYyOTM2eSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/3oEjI6SIIHBdRxXI40/giphy.gif":o})]})}),(0,mr.jsx)("br",{})]})})]})})]})]})};const KS=function(){(0,r.useEffect)((()=>{o()}),[]);const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(!0),o=()=>{Fn.get(Un+"newsandannu").then((e=>t(e.data.data)))},a=localStorage.getItem("type");return(0,mr.jsx)("div",{children:"admin"===a?(0,mr.jsxs)("div",{style:{height:"100vh",width:"100%",display:"flex"},children:[(0,mr.jsx)("div",{className:"all-course-side",style:{width:"15%",height:"100vh",backgroundColor:"white"},children:(0,mr.jsx)(_r,{})}),(0,mr.jsxs)("div",{style:{width:"82%",marginLeft:"1.5%",height:"100vh",display:"flex",flexDirection:"column"},children:[(0,mr.jsx)(WS,{}),(0,mr.jsx)("div",{className:"all-courses-1",style:{width:"100%",height:"73vh",backgroundColor:"lightgrey",alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center",borderRadius:10,overflowY:"auto"},children:e.map((e=>(0,mr.jsxs)("div",{style:{minHeight:"60vh",width:"80%",backgroundColor:"white",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-evenly",borderRadius:10},children:[(0,mr.jsx)("br",{}),(0,mr.jsx)("br",{}),(0,mr.jsx)("h2",{children:e.heading}),(0,mr.jsx)("label",{children:e.description}),(0,mr.jsx)("img",{style:{height:"40vh",width:"60%"},src:e.image})]})))})]})]}):(0,mr.jsxs)("div",{className:"all-courses-1",style:{width:"100%",height:"73vh",backgroundColor:"lightgrey",alignItems:"center",display:"flex",borderRadius:10,flexDirection:"column",overflowY:"auto",paddingBottom:"10px"},children:[(0,mr.jsxs)("div",{style:{height:"50px",width:"80%",backgroundColor:"white",textAlign:"center",borderRadius:10,marginTop:10,display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,mr.jsx)("h5",{children:"Moodle Link :"})," ",(0,mr.jsxs)("a",{href:"https://moodle.com",target:"_blank",children:[" ",(0,mr.jsx)("label",{children:"https://moodle.com"})]})]}),(0,mr.jsx)("div",{style:{height:"50px",width:"80%",backgroundColor:"white",textAlign:"center",borderRadius:10,marginTop:10},children:(0,mr.jsx)("h2",{children:"News And Announcement"})}),e.map((e=>(0,mr.jsxs)("div",{className:"lgnd1",style:{height:"60vh",marginTop:"10px",width:"80%",backgroundColor:"white",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-evenly",borderRadius:10,paddingBottom:20},children:[(0,mr.jsx)("br",{}),(0,mr.jsx)("br",{}),(0,mr.jsx)("h2",{children:e.heading}),(0,mr.jsx)("label",{children:e.description}),(0,mr.jsx)("img",{className:"lgnd1",style:{height:"40vh",width:"60%"},src:e.image})]})))]})})};const HS=function(){var e;const[t,n]=(0,r.useState)(!1),[i,o]=(0,r.useState)(1),[a,s]=(0,r.useState)(""),[u,c]=(0,r.useState)(""),[l,h]=(0,r.useState)(""),[d,f]=(0,r.useState)(""),[p,g]=(0,r.useState)(""),[v,y]=(0,r.useState)(""),[m,b]=(0,r.useState)(""),[_,w]=(0,r.useState)(""),[x,S]=(0,r.useState)(""),[I,C]=(0,r.useState)(""),[E,k]=(0,r.useState)(""),[T,N]=(0,r.useState)(""),[A,R]=(0,r.useState)(""),[j,P]=(0,r.useState)(""),[D,O]=(0,r.useState)(""),[L,M]=(0,r.useState)(""),F=localStorage.getItem("type");(0,r.useEffect)((()=>{V()}));const[U,q]=(0,r.useState)([]),V=()=>{Fn.get(Un+"addstudents").then((e=>{q(e.data.data.filter((e=>"teacher"===e.type)))}))},[B,z]=(null===(e=U.filter((e=>e.specialization===E&e.name===T))[0])||void 0===e||e._id,(0,r.useState)(0));return(0,mr.jsx)("div",{children:(0,mr.jsxs)("div",{style:{height:"100vh",width:"100%",display:"flex"},children:[(0,mr.jsx)("div",{className:"all-course-side",style:{width:"15%",height:"100vh",backgroundColor:"white"},children:(0,mr.jsx)(_r,{})}),(0,mr.jsxs)("div",{className:"all-courses",style:{width:"82%",marginLeft:"1.5%",height:"100vh",display:"flex",flexDirection:"column"},children:[(0,mr.jsx)(WS,{}),"admin"===F?(0,mr.jsxs)("div",{className:"all-courses-1",style:{borderRadius:10,width:"100%",height:"73vh",backgroundColor:"lightgrey",alignItems:"center",display:"flex",justifyContent:"space-evenly"},children:[(0,mr.jsxs)("div",{style:{height:"70vh",width:"30%",display:"flex",flexDirection:"column",position:"relative"},children:[(0,mr.jsx)("button",{className:"lgnd1",onClick:()=>n(!t),style:{height:40,width:"50%",backgroundColor:"white",color:"black",borderRadius:10,border:"none",fontSize:15,position:"absolute",top:"10%",left:"25%"},children:"Add"}),(0,mr.jsx)("br",{}),(0,mr.jsxs)("div",{style:{height:(!0===t&"teacher"===F?37.5:0)||(!0===t&"teacher"!==F?150:0),transition:"0.5s",overflow:"hidden",width:"50%",backgroundColor:"white",color:"black",borderRadius:10,border:"none",fontSize:15,flexDirection:"column",display:"flex",alignItems:"center",justifyContent:"space-evenly",position:"absolute",top:"20%",left:"25%"},children:[(0,mr.jsx)("label",{onClick:()=>o(1),children:"Courses"}),"teacher"!==F&&(0,mr.jsx)("label",{onClick:()=>o(2),children:"Teachers"}),"teacher"!==F&&(0,mr.jsx)("label",{onClick:()=>o(3),children:"Students"}),"teacher"!==F&&(0,mr.jsx)("label",{onClick:()=>o(4),children:"News and Report"})]})]}),3===i?(0,mr.jsxs)("div",{style:{borderRadius:10,height:"70vh",width:"60%",backgroundColor:"white",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-evenly"},children:[(0,mr.jsx)("h2",{children:"Students"}),(0,mr.jsx)("div",{style:{width:"80%",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"60px",justifyContent:"space-evenly"},children:(0,mr.jsx)("input",{onChange:e=>s(e.target.value),placeholder:"Full Name",style:{width:"100%",height:40}})}),(0,mr.jsx)("div",{style:{width:"80%",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"60px",justifyContent:"space-evenly"},children:(0,mr.jsx)("input",{onChange:e=>c(e.target.value),placeholder:"Email Address",style:{width:"100%",height:40}})}),(0,mr.jsx)("div",{style:{width:"80%",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"60px",justifyContent:"space-evenly"},children:(0,mr.jsx)("input",{onChange:e=>h(e.target.value),placeholder:"Password",style:{width:"100%",height:40}})}),(0,mr.jsx)("div",{style:{width:"80%",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"60px",justifyContent:"space-evenly"},children:(0,mr.jsxs)("select",{onChange:e=>f(e.target.value),style:{width:"100%",height:40},children:[(0,mr.jsx)("option",{selected:!0,disabled:!0,children:"Knowledge Level"}),(0,mr.jsx)("option",{children:"Beginner"}),(0,mr.jsx)("option",{children:"Intermediate"}),(0,mr.jsx)("option",{children:"Advance"}),(0,mr.jsx)("option",{children:"Fluent"})]})}),(0,mr.jsx)("div",{style:{width:"80%",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"60px",justifyContent:"space-evenly"},children:(0,mr.jsxs)("select",{onChange:e=>g(e.target.value),style:{width:"100%",height:40},children:[(0,mr.jsx)("option",{selected:!0,disabled:!0,children:"Area of study"}),(0,mr.jsx)("option",{children:"High School Diploma"}),(0,mr.jsx)("option",{children:"Associate's Degree"}),(0,mr.jsx)("option",{children:"Bachelor's Degree"}),(0,mr.jsx)("option",{children:"Master's Degree"}),(0,mr.jsx)("option",{children:"PhD or Doctorate"}),(0,mr.jsx)("option",{children:"Teaching Certification"}),(0,mr.jsx)("option",{children:"other"})]})}),(0,mr.jsx)("div",{style:{width:"80%",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"60px",justifyContent:"space-evenly"},children:(0,mr.jsxs)("select",{onChange:e=>y(e.target.value),style:{width:"100%",height:40},children:[(0,mr.jsx)("option",{selected:!0,disabled:!0,children:"Skills"}),(0,mr.jsx)("option",{children:"Python"}),(0,mr.jsx)("option",{children:"JavaScript"}),(0,mr.jsx)("option",{children:"Reactjs"}),(0,mr.jsx)("option",{children:"Nodejs"}),(0,mr.jsx)("option",{children:"SQL"}),(0,mr.jsx)("option",{children:"Mongo"})]})}),(0,mr.jsx)("div",{style:{width:"80%",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"60px",justifyContent:"space-evenly"},children:(0,mr.jsxs)("select",{onChange:e=>b(e.target.value),style:{width:"100%",height:40},children:[(0,mr.jsx)("option",{selected:!0,disabled:!0,children:"Learning Objective"}),(0,mr.jsx)("option",{children:"Become a Web Developer"}),(0,mr.jsx)("option",{children:"To obtain Data Analytics and Problem-Solving abilities"}),(0,mr.jsx)("option",{children:"Gain Logic Development skills"}),(0,mr.jsx)("option",{children:"Become Dev-Ops Engineer"}),(0,mr.jsx)("option",{children:"Become a Software Developer"}),(0,mr.jsx)("option",{children:"Develop Artificial Intelligence professional"}),(0,mr.jsx)("option",{children:"Acquire knowledge of Quality Assurance"})]})}),(0,mr.jsx)("button",{onClick:()=>(()=>{if(""!==a&""!==u&""!==l&""!==d&""!==p&""!==v&""!==m){const e={name:a,email:u,password:l,grade:d,areaOfStudy:p,skills:v,language:m,type:"student",addData:"admin"};Fn.post(Un+"addstudents",e).then((()=>{s(""),c(""),h(""),f(""),g(""),y(""),b("")}))}})(),className:"btn btn-outline-success",children:"Submit"})]}):null,2===i?(0,mr.jsxs)("div",{style:{borderRadius:10,height:"70vh",width:"60%",backgroundColor:"white",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-evenly"},children:[(0,mr.jsx)("h2",{children:"Teacher"}),(0,mr.jsx)("div",{style:{width:"80%",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"60px",justifyContent:"space-evenly"},children:(0,mr.jsx)("input",{onChange:e=>s(e.target.value),placeholder:"Full Name",style:{width:"100%",height:40}})}),(0,mr.jsx)("div",{style:{width:"80%",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"60px",justifyContent:"space-evenly"},children:(0,mr.jsx)("input",{onChange:e=>c(e.target.value),placeholder:"Email Address",style:{width:"100%",height:40}})}),(0,mr.jsx)("div",{style:{width:"80%",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"60px",justifyContent:"space-evenly"},children:(0,mr.jsx)("input",{onChange:e=>h(e.target.value),placeholder:"Password",style:{width:"100%",height:40}})}),(0,mr.jsx)("div",{style:{width:"80%",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"60px",justifyContent:"space-evenly"},children:(0,mr.jsxs)("select",{onChange:e=>S(e.target.value),style:{width:"100%",height:40},children:[(0,mr.jsx)("option",{selected:!0,disabled:!0,children:"Specialization"}),(0,mr.jsx)("option",{children:"JavaScript"}),(0,mr.jsx)("option",{children:"Python"}),(0,mr.jsx)("option",{children:"Reactjs"}),(0,mr.jsx)("option",{children:"Nodejs"}),(0,mr.jsx)("option",{children:"MsSQL"}),(0,mr.jsx)("option",{children:"MongoDB"}),(0,mr.jsx)("option",{children:"Machine Learning, AI"}),(0,mr.jsx)("option",{children:"DevOps"}),(0,mr.jsx)("option",{children:"Java"}),(0,mr.jsx)("option",{children:"C#"}),(0,mr.jsx)("option",{children:"C, C++"}),(0,mr.jsx)("option",{children:".NET"})]})}),(0,mr.jsx)("div",{style:{width:"80%",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"60px",justifyContent:"space-evenly"},children:(0,mr.jsxs)("select",{onChange:e=>w(e.target.value),style:{width:"100%",height:40},children:[(0,mr.jsx)("option",{selected:!0,disabled:!0,children:"Qualification"}),(0,mr.jsx)("option",{children:"Master's Degree"}),(0,mr.jsx)("option",{children:"PhD or Doctorate"}),(0,mr.jsx)("option",{children:"Teaching Certification"}),(0,mr.jsx)("option",{children:"Other"})]})}),(0,mr.jsx)("div",{style:{width:"80%",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"60px",justifyContent:"space-evenly"},children:(0,mr.jsxs)("select",{onChange:e=>C(e.target.value),style:{width:"100%",height:40},children:[(0,mr.jsx)("option",{selected:!0,disabled:!0,children:"Teaching Experince"}),(0,mr.jsx)("option",{value:1,children:"More than 1 year"}),(0,mr.jsx)("option",{value:2.5,children:"1-3 years"}),(0,mr.jsx)("option",{value:4.5,children:"3-5 years"}),(0,mr.jsx)("option",{value:7.5,children:"5-10 years"}),(0,mr.jsx)("option",{value:10,children:"More Than 10 years"})]})}),(0,mr.jsx)("button",{onClick:()=>(()=>{if(""!==a&""!==u&""!==l&""!==_&""!==x&""!==I){const e={name:a,email:u,password:l,qualification:_,specialization:x,teachingExp:I,type:"teacher",addData:"admin"};Fn.post(Un+"addstudents",e).then((()=>{s(""),c(""),h(""),S(""),w(""),C("")}))}})(),className:"btn btn-outline-success",children:"Submit"})]}):null,1===i?(0,mr.jsxs)("div",{style:{borderRadius:10,height:"70vh",width:"60%",backgroundColor:"white",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,mr.jsx)("br",{}),(0,mr.jsx)("br",{}),(0,mr.jsx)("h2",{children:"Courses  "}),(0,mr.jsx)("br",{}),(0,mr.jsx)("br",{}),(0,mr.jsx)("div",{style:{width:"80%",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"60px",justifyContent:"space-evenly"},children:(0,mr.jsx)("input",{onChange:e=>k(e.target.value),placeholder:"Course Name",style:{width:"100%",height:40}})}),(0,mr.jsx)("br",{}),(0,mr.jsx)("div",{style:{width:"80%",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"60px",justifyContent:"space-evenly"}}),(0,mr.jsx)("br",{}),(0,mr.jsx)("br",{}),(0,mr.jsx)("button",{onClick:()=>(()=>{if(""!==E){const e={courseName:E};Fn.post(Un+"addcourse",e).then((()=>{k("")}))}})(),className:"btn btn-outline-success",children:"Submit"})]}):null,4===i?(0,mr.jsxs)("div",{style:{borderRadius:10,height:"70vh",width:"60%",backgroundColor:"white",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,mr.jsx)("br",{}),(0,mr.jsx)("br",{}),(0,mr.jsx)("h2",{children:"News And Announcements"}),(0,mr.jsx)("br",{}),(0,mr.jsx)("br",{}),(0,mr.jsx)("div",{style:{width:"80%",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"60px",justifyContent:"space-evenly"},children:(0,mr.jsx)("input",{onChange:e=>R(e.target.value),placeholder:"Heading",style:{width:"100%",height:40}})}),(0,mr.jsx)("br",{}),(0,mr.jsx)("div",{style:{width:"80%",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"60px",justifyContent:"space-evenly"},children:(0,mr.jsx)("input",{onChange:e=>P(e.target.value),placeholder:"Description",style:{width:"100%",height:40}})}),(0,mr.jsx)("br",{}),(0,mr.jsx)("div",{style:{width:"80%",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"60px",justifyContent:"space-evenly"},children:(0,mr.jsx)("input",{type:"time",onChange:e=>O(e.target.value),placeholder:"Time",style:{width:"100%",height:40}})}),(0,mr.jsx)("br",{}),(0,mr.jsx)("div",{style:{width:"80%",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"60px",justifyContent:"space-evenly"},children:(0,mr.jsx)("input",{type:"file",onChange:e=>(e=>{""!==e?zS.ref("images/".concat(e.name)).put(e).on("state_changed",(e=>{z(Math.ceil(e.bytesTransferred/e.totalBytes*100))}),(e=>{console.log(e)}),(()=>{zS.ref("images").child(e.name).getDownloadURL().then((e=>{z(0),M(e)}))})):alert("no image selected")})(e.target.files[0]),placeholder:"Image",style:{width:"100%",height:32,border:"1px solid grey"}})}),(0,mr.jsx)("button",{disabled:""===L,onClick:()=>(()=>{if(""!==A&""!==j&""!==D&""!==L){const e={heading:A,description:j,time:D,image:L};Fn.post(Un+"newsandannu",e).then((()=>{R(""),P(""),O(""),M("")}))}})(),className:"btn btn-outline-success",children:"Submit"})]}):null]}):(0,mr.jsx)(KS,{})]})]})})};const GS=function(){var e;const[t,n]=(0,r.useState)(!1),[i,o]=(0,r.useState)(!1);(0,r.useEffect)((()=>{j(),O(),U(),L()}),[]),(0,r.useEffect)((()=>{P()}),[]);const a=localStorage.getItem("type"),s=ee(),u=localStorage.getItem("teacherData"),c=u?JSON.parse(u):{},l=localStorage.getItem("teacherTime"),h=l?JSON.parse(l):[],[d,f]=(0,r.useState)(c),p=e=>{const t=e.split(":"),n=t[0]>12?t[0]-12:t[0],r=n<10?"0".concat(n):n,i=t[1],o=t[0]<12?"Am":"Pm";return"".concat(r,":").concat(i," ").concat(o)},[g,v]=(0,r.useState)([]),[y,m]=(0,r.useState)([]),[b,_]=(0,r.useState)([]),[w,x]=(0,r.useState)([]),[S,I]=(0,r.useState)([]),[C,E]=(0,r.useState)([]),k=localStorage.getItem("stdSkills"),T=localStorage.getItem("teacherSpec"),N=""!==k?JSON.parse(k):[],[A,R]=(0,r.useState)(N),j=()=>{Fn.get(Un+"addstudents").then((e=>{v(e.data.data.filter((e=>"teacher"===e.type))),m(e.data.data.filter((e=>"teacher"===e.type)))}))},P=()=>{Fn.get(Un+"addstudents").then((e=>{_(e.data.data.filter((e=>"student"===e.type))),x(e.data.data.filter((e=>"student"===e.type)))}))},D=localStorage.getItem("userId"),O=()=>{Fn.get(Un+"request").then((e=>{I(e.data.data.filter((e=>e.from===D&"accept"===e.status)))}))},L=()=>{Fn.get(Un+"request").then((e=>{E(e.data.data.filter((e=>e.to===D&"accept"===e.status)))}))},[M,F]=(0,r.useState)([]),U=()=>{Fn.get(Un+"addstudents").then((e=>F(e.data.data)))},q=e=>{if(M.length>0){return M.filter((t=>t._id===e))[0].name}},V=e=>{if(M.length>0){return M.filter((t=>t._id===e))[0].specialization}},B=e=>{if(M.length>0){return M.filter((t=>t._id===e))[0].skills}},z=localStorage.getItem("courseData1"),[W,K]=(z&&JSON.parse(z),(0,r.useState)([]));return(0,mr.jsxs)("div",{children:[i&&(0,mr.jsx)("div",{style:{width:"100%",height:"100vh",backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",position:"fixed",zIndex:20},children:(0,mr.jsxs)("div",{className:"lgnd1",style:{width:"50%",minHeight:"60vh",backgroundColor:"white",borderRadius:10,marginTop:"2%",position:"relative",overflowY:"auto",paddingBottom:10,display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center",left:"2%"},children:[(0,mr.jsx)("h4",{onClick:()=>o(!1),style:{right:10,position:"absolute",top:5},children:(0,mr.jsx)("i",{className:"fa fa-times"})}),(0,mr.jsx)("br",{}),(0,mr.jsx)("div",{style:{height:50,width:"95%",backgroundColor:"black",color:"white",borderRadius:10,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("h4",{children:"Student Info"})}),(0,mr.jsxs)("div",{style:{height:350,width:"95%",backgroundColor:"whitesmoke",color:"black",borderRadius:10,display:"flex",justifyContent:"space-evenly",flexDirection:"column",alignItems:"center"},children:[(0,mr.jsxs)("div",{className:"lgnd1",style:{height:40,width:"70%"},children:[(0,mr.jsx)("label",{children:"Name :"})," ",(0,mr.jsx)("label",{style:{fontWeight:"bold"},children:W.name})]}),(0,mr.jsxs)("div",{className:"lgnd1",style:{height:40,width:"70%"},children:[(0,mr.jsx)("label",{children:"Skills :"})," ",(0,mr.jsx)("label",{style:{fontWeight:"bold"},children:W.skills.map((e=>e))})]}),(0,mr.jsxs)("div",{className:"lgnd1",style:{height:40,width:"70%"},children:[(0,mr.jsx)("label",{children:"Email :"})," ",(0,mr.jsx)("label",{style:{fontWeight:"bold"},children:W.email})]}),(0,mr.jsxs)("div",{className:"lgnd1",style:{height:40,width:"70%"},children:[(0,mr.jsx)("label",{children:"Knowledge Level :"})," ",(0,mr.jsx)("label",{style:{fontWeight:"bold"},children:W.grade})]}),(0,mr.jsxs)("div",{className:"lgnd1",style:{height:40,width:"70%"},children:[(0,mr.jsx)("label",{children:"Learning Objective :"})," ",(0,mr.jsx)("label",{style:{fontWeight:"bold"},children:W.language})]})]})]})}),t&&(0,mr.jsx)("div",{style:{width:"100%",height:"100vh",backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",position:"fixed",zIndex:20},children:(0,mr.jsxs)("div",{style:{width:"70%",height:"60vh",backgroundColor:"white",borderRadius:10,marginTop:"2%",position:"relative",paddingLeft:"30px",overflowY:"auto",paddingBottom:10},children:[(0,mr.jsx)("div",{style:{width:"100%",textAlign:"center"},children:(0,mr.jsx)("div",{style:{height:"70px",width:"97%",backgroundColor:"black",marginTop:40,alignItems:"center",justifyContent:"center",display:"flex",fontWeight:"bold",borderRadius:10,color:"white"},children:(0,mr.jsxs)("h2",{children:[d.name," Class Schedule"]})})}),(0,mr.jsx)("i",{class:"fa fa-times",style:{position:"absolute",top:10,right:10,fontSize:25},onClick:()=>n(!1)}),(0,mr.jsx)("br",{}),(0,mr.jsx)("div",{style:{height:300,width:"97%",backgroundColor:"whitesmoke",overflowY:"auto",borderRadius:10,padding:"20px 0px 20px 0px"},children:(0,mr.jsxs)("table",{className:"table",children:[(0,mr.jsxs)("thead",{style:{textAlign:"center"},children:[(0,mr.jsx)("th",{children:"Sr No."}),(0,mr.jsx)("th",{children:"Day"}),(0,mr.jsx)("th",{children:"From"}),(0,mr.jsx)("th",{children:"To"}),(0,mr.jsx)("th",{children:"Action"})]}),(0,mr.jsx)("tbody",{children:null===d||void 0===d||null===(e=d.timing)||void 0===e?void 0:e.map(((e,t)=>(0,mr.jsxs)("tr",{style:{textAlign:"center"},children:[(0,mr.jsx)("td",{children:t+1}),(0,mr.jsx)("td",{children:e.day}),(0,mr.jsx)("td",{children:p(e.from)}),(0,mr.jsx)("td",{children:p(e.to)}),(0,mr.jsx)("td",{children:(0,mr.jsx)("a",{href:d.videoLink,children:(0,mr.jsx)("button",{className:"btn btn-outline-primary",children:"Join Class"})})})]})))})]})})]})}),(0,mr.jsxs)("div",{style:{height:"100vh",width:"100%",display:"flex"},children:[(0,mr.jsx)("div",{className:"all-course-side",style:{width:"15%",height:"100vh",backgroundColor:"white"},children:(0,mr.jsx)(_r,{})}),(0,mr.jsxs)("div",{className:"all-courses",style:{width:"82%",marginLeft:"1.5%",height:"100vh",display:"flex",flexDirection:"column"},children:[(0,mr.jsx)(WS,{searchFn:e=>{const t=y.filter((t=>t.name.toLowerCase().includes(e)||t.specialization.toLowerCase().includes(e)));v(t)},searchFn1:e=>{const t=w.filter((t=>t.name.toLowerCase().includes(e)));_(t)}}),"student"===a?(0,mr.jsxs)("div",{className:"all-courses-1",style:{width:"100%",minHeight:"73vh",backgroundColor:"white",alignItems:"center",display:"flex",gap:"2%",flexWrap:"wrap"},children:[(0,mr.jsxs)("div",{className:"lgnd1",style:{height:"70vh",width:"45%",textAlign:"center"},children:[(0,mr.jsx)("label",{children:"All Courses"}),(0,mr.jsx)("div",{style:{height:"70vh",width:"100%",backgroundColor:"white",display:"flex",flexDirection:"column",alignItems:"center",paddingTop:"10px",overflowY:"auto"},children:g.sort(((e,t)=>e.specialization>t.specialization?1:-1)).map((e=>(0,mr.jsxs)("div",{className:"all-course-div",style:{height:"12vh",width:"95%",backgroundColor:"whitesmoke",borderRadius:"10px",display:"flex",marginTop:10},children:[(0,mr.jsxs)("div",{className:"all-course-div1",style:{height:"12vh",width:"70%",display:"flex",justifyContent:"space-around",alignItems:"center"},children:[(0,mr.jsx)("div",{style:{height:"9vh",width:"25%",backgroundColor:"white",borderRadius:10,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("img",{style:{height:"5vh",width:"60%"},src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/React-icon.svg/2300px-React-icon.svg.png"})}),(0,mr.jsxs)("div",{style:{height:"12vh",width:"50%",display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,mr.jsx)("label",{style:{fontSize:"19px",fontWeight:"bold",letterSpacing:1,height:25},children:e.specialization}),(0,mr.jsxs)("label",{children:["by ",e.name]})]})]}),(0,mr.jsx)("div",{className:"all-course-div1",style:{height:"12vh",width:"30%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("button",{onClick:()=>{localStorage.setItem("courseData1",JSON.stringify(e)),s("/Viewcourses")},style:{height:"40px",width:"80%",backgroundColor:"black",color:"white",borderRadius:10,border:"none"},children:"Veiw courses"})})]})))})]}),(0,mr.jsxs)("div",{className:"lgnd1",style:{height:"70vh",width:"45%",backgroundColor:"white",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"start",overflowY:"auto",paddingTop:10},children:[(0,mr.jsx)("label",{children:"Assigned to you"}),g.filter((e=>A.includes(e.specialization))).sort(((e,t)=>e.experience<t.experience?1:-1)).map((e=>(0,mr.jsxs)("div",{className:"all-course-div",style:{height:"12vh",width:"95%",backgroundColor:"whitesmoke",borderRadius:"10px",display:"flex",marginTop:"20px"},children:[(0,mr.jsxs)("div",{className:"all-course-div1",style:{height:"12vh",width:"70%",display:"flex",justifyContent:"space-around",alignItems:"center"},children:[(0,mr.jsx)("div",{style:{height:"9vh",width:"25%",backgroundColor:"white",borderRadius:10,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("img",{style:{height:"5vh",width:"60%"},src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/React-icon.svg/2300px-React-icon.svg.png"})}),(0,mr.jsxs)("div",{style:{height:"12vh",width:"50%",display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,mr.jsx)("label",{style:{fontSize:"19px",fontWeight:"bold",letterSpacing:1,height:25},children:e.specialization}),(0,mr.jsxs)("label",{children:["by ",e.name]})]})]}),(0,mr.jsx)("div",{className:"all-course-div1",style:{height:"12vh",width:"30%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("button",{onClick:()=>{n(!0),f(e)},style:{height:"40px",width:"80%",backgroundColor:"black",color:"white",borderRadius:10,border:"none"},children:"Class Info"})})]}))),S.map((e=>(0,mr.jsxs)("div",{className:"all-course-div",style:{height:"12vh",width:"95%",backgroundColor:"whitesmoke",borderRadius:"10px",display:"flex",marginTop:"20px"},children:[(0,mr.jsxs)("div",{className:"all-course-div1",style:{height:"12vh",width:"70%",display:"flex",justifyContent:"space-around",alignItems:"center"},children:[(0,mr.jsx)("div",{style:{height:"9vh",width:"25%",backgroundColor:"white",borderRadius:10,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("img",{style:{height:"5vh",width:"60%"},src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/React-icon.svg/2300px-React-icon.svg.png"})}),(0,mr.jsxs)("div",{style:{height:"12vh",width:"50%",display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,mr.jsx)("label",{style:{fontSize:"19px",fontWeight:"bold",letterSpacing:1,height:25},children:V(e.to)}),(0,mr.jsxs)("label",{children:["by ",q(e.to)]})]})]}),(0,mr.jsx)("div",{className:"all-course-div1",style:{height:"12vh",width:"30%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("button",{onClick:()=>{f(g.filter((t=>t._id===e.to))[0]),n(!0)},style:{height:"40px",width:"80%",backgroundColor:"black",color:"white",borderRadius:10,border:"none"},children:"Class Info"})})]})))]})]}):(0,mr.jsxs)("div",{className:"all-courses-1",style:{width:"100%",minHeight:"73vh",backgroundColor:"white",alignItems:"center",display:"flex",flexWrap:"wrap",gap:"2%"},children:[(0,mr.jsxs)("div",{className:"lgnd1",style:{height:"70vh",width:"45%",textAlign:"center"},children:[(0,mr.jsx)("label",{children:"All Students"}),(0,mr.jsx)("div",{style:{height:"70vh",width:"100%",backgroundColor:"white",display:"flex",flexDirection:"column",alignItems:"center",paddingTop:"10px",overflowY:"auto"},children:b.sort(((e,t)=>e.name>t.name?1:-1)).map((e=>(0,mr.jsxs)("div",{style:{height:"12vh",width:"95%",backgroundColor:"whitesmoke",borderRadius:"10px",display:"flex",marginTop:10},children:[(0,mr.jsx)("div",{style:{height:"12vh",width:"20%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("div",{style:{height:"9vh",width:"70%",backgroundColor:"white",borderRadius:10,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("img",{style:{height:"6.5vh",width:"60%"},src:e.profilePhoto?e.profilePhoto:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTTbH_P7t59HyCjbVqVBSblusPdVCz7Phn1sjA236kzMg&usqp=CAU&ec=48600112"})})}),(0,mr.jsx)("div",{style:{height:"12vh",width:"50%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"start"},children:(0,mr.jsx)("label",{style:{fontSize:"19px",fontWeight:"bold",letterSpacing:1,height:25},children:e.name})}),(0,mr.jsx)("div",{style:{height:"12vh",width:"30%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("button",{onClick:()=>{K(e),o(!0)},style:{height:"40px",width:"80%",backgroundColor:"black",color:"white",borderRadius:10,border:"none"},children:"Veiw Info"})})]})))})]}),"admin"===a?(0,mr.jsxs)("div",{className:"lgnd1",style:{height:"70vh",width:"45%",textAlign:"center"},children:[(0,mr.jsx)("label",{children:"All Teacher"}),(0,mr.jsx)("div",{style:{height:"70vh",width:"100%",backgroundColor:"white",display:"flex",flexDirection:"column",alignItems:"center",paddingTop:"10px",overflowY:"auto"},children:g.sort(((e,t)=>e.name>t.name?1:-1)).map((e=>(0,mr.jsxs)("div",{style:{height:"12vh",width:"95%",backgroundColor:"whitesmoke",borderRadius:"10px",display:"flex",marginTop:10},children:[(0,mr.jsx)("div",{style:{height:"12vh",width:"20%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("div",{style:{height:"9vh",width:"70%",backgroundColor:"white",borderRadius:10,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("img",{style:{height:"6.5vh",width:"60%"},src:e.profilePhoto?e.profilePhoto:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTTbH_P7t59HyCjbVqVBSblusPdVCz7Phn1sjA236kzMg&usqp=CAU&ec=48600112"})})}),(0,mr.jsx)("div",{style:{height:"12vh",width:"50%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"start"},children:(0,mr.jsx)("label",{style:{fontSize:"19px",fontWeight:"bold",letterSpacing:1,height:25},children:e.name})}),(0,mr.jsx)("div",{style:{height:"12vh",width:"30%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("button",{onClick:()=>{localStorage.setItem("courseData1",JSON.stringify(e)),s("/Viewcourses")},style:{height:"40px",width:"80%",backgroundColor:"black",color:"white",borderRadius:10,border:"none"},children:"Veiw Info"})})]})))})]}):(0,mr.jsxs)("div",{className:"lgnd1",style:{height:"70vh",width:"45%",backgroundColor:"white",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"start",overflowY:"auto"},children:[(0,mr.jsx)("label",{children:"Up coming Classes"}),b.filter((e=>e.skills.includes(T))).map((e=>(0,mr.jsxs)("div",{style:{minHeight:"12vh",width:"95%",backgroundColor:"whitesmoke",borderRadius:"10px",display:"flex",marginTop:"20px"},children:[(0,mr.jsx)("div",{className:"upcoming-res",style:{height:"12vh",width:"15%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("div",{style:{height:"7vh",width:"70%",backgroundColor:"white",borderRadius:10,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("img",{style:{height:"4vh",width:"60%"},src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/React-icon.svg/2300px-React-icon.svg.png"})})}),(0,mr.jsxs)("div",{className:"upcoming-res1",style:{height:"12vh",width:"55%",display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,mr.jsxs)("label",{style:{fontSize:"13px",fontWeight:"bold",letterSpacing:1,height:34},children:[" ",e.name," ",e.skills," class"]}),(0,mr.jsxs)("label",{style:{fontSize:12},children:["at ",h.map((e=>p(e.from)))," to"," ",h.map((e=>p(e.to)))]})]}),(0,mr.jsx)("div",{style:{height:"12vh",width:"30%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("a",{href:"https://meet.google.com/",children:(0,mr.jsx)("button",{style:{height:"40px",width:"100%",backgroundColor:"black",color:"white",borderRadius:10,border:"none",fontSize:10},children:"Start Class"})})})]}))),C.map((e=>(0,mr.jsxs)("div",{style:{height:"12vh",width:"95%",backgroundColor:"whitesmoke",borderRadius:"10px",display:"flex",marginTop:"20px"},children:[(0,mr.jsx)("div",{className:"upcoming-res",style:{height:"12vh",width:"20%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("div",{style:{height:"7vh",width:"60%",backgroundColor:"white",borderRadius:10,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("img",{style:{height:"4vh",width:"60%"},src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/React-icon.svg/2300px-React-icon.svg.png"})})}),(0,mr.jsxs)("div",{className:"upcoming-res1",style:{height:"12vh",width:"65%",display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,mr.jsxs)("label",{style:{fontSize:"13px",fontWeight:"bold",letterSpacing:1,height:32},children:[q(e.from)," ",B(e.from)," class"]}),(0,mr.jsxs)("label",{style:{fontSize:12},children:["at ",h.map((e=>p(e.from)))," to"," ",h.map((e=>p(e.to)))]})]}),(0,mr.jsx)("div",{style:{height:"12vh",width:"30%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("a",{href:"https://meet.google.com/",children:(0,mr.jsx)("button",{style:{height:"40px",width:"100%",backgroundColor:"black",color:"white",borderRadius:10,border:"none",fontSize:10},children:"Start Class"})})})]})))]})]})]})]})]})};const QS=function(){return(0,mr.jsx)("div",{children:(0,mr.jsxs)("div",{style:{height:"100vh",width:"100%",display:"flex"},children:[(0,mr.jsx)("div",{style:{width:"15%",height:"100vh",backgroundColor:"white"},children:(0,mr.jsx)(_r,{})}),(0,mr.jsxs)("div",{style:{width:"82%",marginLeft:"1.5%",height:"100vh",display:"flex",flexDirection:"column"},children:[(0,mr.jsx)(WS,{}),(0,mr.jsxs)("div",{style:{width:"100%",height:"73vh",backgroundColor:"white",alignItems:"center",display:"flex",gap:"2%"},children:[(0,mr.jsxs)("div",{style:{height:"70vh",width:"45%",backgroundColor:"white",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-evenly"},children:[(0,mr.jsx)("label",{children:"All students"}),(0,mr.jsxs)("div",{style:{height:"12vh",width:"95%",backgroundColor:"whitesmoke",borderRadius:"10px",display:"flex"},children:[(0,mr.jsx)("div",{style:{height:"12vh",width:"20%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("div",{style:{height:"9vh",width:"70%",backgroundColor:"white",borderRadius:10,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("img",{style:{height:"5vh",width:"60%"},src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/React-icon.svg/2300px-React-icon.svg.png"})})}),(0,mr.jsx)("div",{style:{height:"12vh",width:"50%",display:"flex",flexDirection:"column",justifyContent:"center"},children:(0,mr.jsx)("label",{style:{fontSize:"19px",fontWeight:"bold",letterSpacing:1,height:25},children:"Krishna Joshi"})}),(0,mr.jsx)("div",{style:{height:"12vh",width:"30%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("button",{style:{height:"40px",width:"80%",backgroundColor:"black",color:"white",borderRadius:10,border:"none"},children:"Veiw info"})})]}),(0,mr.jsxs)("div",{style:{height:"12vh",width:"95%",backgroundColor:"whitesmoke",borderRadius:"10px",display:"flex"},children:[(0,mr.jsx)("div",{style:{height:"12vh",width:"20%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("div",{style:{height:"9vh",width:"70%",backgroundColor:"white",borderRadius:10,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("img",{style:{height:"5vh",width:"60%"},src:"https://s3.dualstack.us-east-2.amazonaws.com/pythondotorg-assets/media/psf/trademarks-faq/python-logo-usa-outset-monochrome-BAD.png"})})}),(0,mr.jsx)("div",{style:{height:"12vh",width:"50%",display:"flex",flexDirection:"column",justifyContent:"center"},children:(0,mr.jsx)("label",{style:{fontSize:"19px",fontWeight:"bold",letterSpacing:1,height:25},children:"Yash Malawant"})}),(0,mr.jsx)("div",{style:{height:"12vh",width:"30%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("button",{style:{height:"40px",width:"80%",backgroundColor:"black",color:"white",borderRadius:10,border:"none"},children:"Veiw info"})})]}),(0,mr.jsxs)("div",{style:{height:"12vh",width:"95%",backgroundColor:"whitesmoke",borderRadius:"10px",display:"flex"},children:[(0,mr.jsx)("div",{style:{height:"12vh",width:"20%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("div",{style:{height:"9vh",width:"70%",backgroundColor:"white",borderRadius:10,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("img",{style:{height:"5vh",width:"60%"},src:"https://cdn.pixabay.com/photo/2016/08/09/17/52/instagram-1581266_640.jpg"})})}),(0,mr.jsx)("div",{style:{height:"12vh",width:"50%",display:"flex",flexDirection:"column",justifyContent:"center"},children:(0,mr.jsx)("label",{style:{fontSize:"19px",fontWeight:"bold",letterSpacing:1,height:25},children:"Yash Malawant"})}),(0,mr.jsx)("div",{style:{height:"12vh",width:"30%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("button",{style:{height:"40px",width:"80%",backgroundColor:"black",color:"white",borderRadius:10,border:"none"},children:"Veiw info"})})]}),(0,mr.jsxs)("div",{style:{height:"12vh",width:"95%",backgroundColor:"whitesmoke",borderRadius:"10px",display:"flex"},children:[(0,mr.jsx)("div",{style:{height:"12vh",width:"20%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("div",{style:{height:"9vh",width:"70%",backgroundColor:"white",borderRadius:10,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("img",{style:{height:"5vh",width:"60%"},src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS5v-3wDKKkDFjrjEGs__MhuaOl5W1A8_46FxOdzH9wIQ&usqp=CAU&ec=48600113"})})}),(0,mr.jsx)("div",{style:{height:"12vh",width:"50%",display:"flex",flexDirection:"column",justifyContent:"center"},children:(0,mr.jsx)("label",{style:{fontSize:"19px",fontWeight:"bold",letterSpacing:1,height:25},children:"Yash Malawant"})}),(0,mr.jsx)("div",{style:{height:"12vh",width:"30%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("button",{style:{height:"40px",width:"80%",backgroundColor:"black",color:"white",borderRadius:10,border:"none"},children:"Veiw info"})})]}),(0,mr.jsxs)("div",{style:{height:"12vh",width:"95%",backgroundColor:"whitesmoke",borderRadius:"10px",display:"flex"},children:[(0,mr.jsx)("div",{style:{height:"12vh",width:"20%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("div",{style:{height:"9vh",width:"70%",backgroundColor:"white",borderRadius:10,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("img",{style:{height:"5vh",width:"60%"},src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTrXOeYrrq9ogVRZOXbVdkSlsG86GVYzDUlhSWeF4m4vQ&usqp=CAU&ec=48600113"})})}),(0,mr.jsx)("div",{style:{height:"12vh",width:"50%",display:"flex",flexDirection:"column",justifyContent:"center"},children:(0,mr.jsx)("label",{style:{fontSize:"19px",fontWeight:"bold",letterSpacing:1,height:25},children:"Yash Malawant"})}),(0,mr.jsx)("div",{style:{height:"12vh",width:"30%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("button",{style:{height:"40px",width:"80%",backgroundColor:"black",color:"white",borderRadius:10,border:"none"},children:"Veiw info"})})]})]}),(0,mr.jsxs)("div",{style:{height:"70vh",width:"45%",backgroundColor:"white",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-evenly"},children:[(0,mr.jsx)("label",{children:"Up comeing classes"}),(0,mr.jsxs)("div",{style:{height:"12vh",width:"95%",backgroundColor:"whitesmoke",borderRadius:"10px",display:"flex"},children:[(0,mr.jsx)("div",{style:{height:"12vh",width:"70%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("div",{style:{height:"9vh",width:"90%",backgroundColor:"white",borderRadius:10,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("label",{style:{fontWeight:"bold"},children:"Python Virtual Class"})})}),(0,mr.jsx)("div",{style:{height:"12vh",width:"30%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("button",{style:{height:"40px",width:"80%",backgroundColor:"black",color:"white",borderRadius:10,border:"none"},children:"Sunday 9 am"})})]}),(0,mr.jsxs)("div",{style:{height:"12vh",width:"95%",backgroundColor:"whitesmoke",borderRadius:"10px",display:"flex"},children:[(0,mr.jsx)("div",{style:{height:"12vh",width:"70%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("div",{style:{height:"9vh",width:"90%",backgroundColor:"white",borderRadius:10,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("label",{style:{fontWeight:"bold"},children:"Python Virtual Class"})})}),(0,mr.jsx)("div",{style:{height:"12vh",width:"30%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("button",{style:{height:"40px",width:"80%",backgroundColor:"black",color:"white",borderRadius:10,border:"none"},children:"Monday 10 am"})})]}),(0,mr.jsxs)("div",{style:{height:"12vh",width:"95%",backgroundColor:"whitesmoke",borderRadius:"10px",display:"flex"},children:[(0,mr.jsx)("div",{style:{height:"12vh",width:"70%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("div",{style:{height:"9vh",width:"90%",backgroundColor:"white",borderRadius:10,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("label",{style:{fontWeight:"bold"},children:"Python Virtual Class"})})}),(0,mr.jsx)("div",{style:{height:"12vh",width:"30%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("button",{style:{height:"40px",width:"80%",backgroundColor:"black",color:"white",borderRadius:10,border:"none"},children:"Monday 2 pm"})})]}),(0,mr.jsxs)("div",{style:{height:"12vh",width:"95%",backgroundColor:"whitesmoke",borderRadius:"10px",display:"flex"},children:[(0,mr.jsx)("div",{style:{height:"12vh",width:"70%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("div",{style:{height:"9vh",width:"90%",backgroundColor:"white",borderRadius:10,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("label",{style:{fontWeight:"bold"},children:"Python Virtual Class"})})}),(0,mr.jsx)("div",{style:{height:"12vh",width:"30%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("button",{style:{height:"40px",width:"80%",backgroundColor:"black",color:"white",borderRadius:10,border:"none"},children:"Tueday 9 am"})})]}),(0,mr.jsx)("div",{style:{height:"12vh",width:"95%",backgroundColor:"white",borderRadius:"10px",display:"flex"}})]})]})]})]})})};const YS=function(){var e;(0,r.useEffect)((()=>{D()}),[]),localStorage.getItem("userId");const t=localStorage.getItem("courseData1"),n=t?JSON.parse(t):[],[i,o]=(0,r.useState)(n),[a,s]=(0,r.useState)(""),[u,c]=(0,r.useState)(""),[l,h]=(0,r.useState)(""),[d,f]=(0,r.useState)(""),[p,g]=(0,r.useState)(""),[v,y]=(0,r.useState)(""),m=new Date,b=m.getDate(),_=m.getMonth()+1,w=m.getFullYear(),x=["January","Febuary","March","April","May","June","July","August","September","October","November","December"],[S,I]=(0,r.useState)(_-1),[C,E]=(0,r.useState)(w),[k,T]=(0,r.useState)([]),N=1===S?C%4===0?29:28:[3,5,8,10].includes(S)?30:31,A=()=>new Date("".concat(x[S]," 1, ").concat(C," 01:15:00 ")).getDay(),R=e=>{if(e){return new Date("".concat(x[S]," ").concat(e,", ").concat(C," 01:15:00 ")).getDay()}return 9},j=new Array(N).fill().map(((e,t)=>t+1)),P=[...new Array(A()).fill().map(((e,t)=>"")),...j],D=(A(),()=>{Fn.get(Un+"addstudents").then((e=>T(e.data.data.filter((e=>"teacher"===e.type)))))}),O=(null===i||void 0===i||null===(e=i.timing)||void 0===e?void 0:e.map((e=>e.day))).map((e=>"Sunday"===e?0:"Monday"===e?1:"Tuesday"===e?2:"Wednesday"===e?3:"Thursday"===e?4:"Friday"===e?5:6));return(0,mr.jsx)("div",{children:(0,mr.jsxs)("div",{style:{height:"100vh",width:"100%",display:"flex"},children:[(0,mr.jsx)("div",{className:"all-course-side",style:{width:"15%",height:"100vh",backgroundColor:"white"},children:(0,mr.jsx)(_r,{})}),(0,mr.jsxs)("div",{className:"all-courses",style:{width:"82%",marginLeft:"1.5%",height:"100vh",display:"flex",flexDirection:"column"},children:[(0,mr.jsx)(WS,{}),(0,mr.jsxs)("div",{style:{width:"100%",height:"73vh",backgroundColor:"white",alignItems:"center",display:"flex",gap:"2%",flexWrap:"wrap"},children:[(0,mr.jsxs)("div",{className:"lgnd1",style:{height:"70vh",width:"45%",backgroundColor:"white",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,mr.jsxs)("div",{style:{height:"20vh",width:"100%",display:"flex",justifyContent:"space-evenly",alignItems:"center",flexDirection:"column"},children:[(0,mr.jsx)("label",{children:"Courses"}),(0,mr.jsxs)("div",{style:{height:"12vh",width:"95%",backgroundColor:"whitesmoke",borderRadius:"10px",display:"flex"},children:[(0,mr.jsx)("div",{style:{height:"12vh",width:"60%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("div",{style:{height:"9vh",width:"35%",backgroundColor:"white",borderRadius:10,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("img",{style:{height:"5vh",width:"60%"},src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/React-icon.svg/2300px-React-icon.svg.png"})})}),(0,mr.jsxs)("div",{style:{height:"12vh",width:"50%",display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,mr.jsx)("label",{style:{fontSize:"19px",fontWeight:"bold",letterSpacing:1,height:25},children:i.specialization}),(0,mr.jsxs)("label",{children:["by ",i.name]})]}),(0,mr.jsx)("div",{style:{height:"12vh",width:"30%",display:"flex",justifyContent:"center",alignItems:"center"}})]})]}),(0,mr.jsxs)("div",{style:{height:"40vh",width:"100%",backgroundColor:"lightgrey",display:"flex",flexDirection:"column",alignItems:"center",borderRadius:10},children:[(0,mr.jsx)("br",{}),(0,mr.jsx)("h1",{children:"Actual Details"}),(0,mr.jsx)("label",{children:"Request teacher to schedule classes:"}),(0,mr.jsx)("br",{}),(0,mr.jsxs)("div",{style:{height:"15vh",width:"100%",display:"flex"},children:[(0,mr.jsx)("div",{style:{height:"20vh",width:"50%",display:"flex",flexDirection:"column",alignItems:"center"},children:(0,mr.jsxs)("select",{onChange:e=>g(e.target.value),style:{height:40,width:"70%",border:"none",borderRadius:10,outline:"none"},children:[(0,mr.jsx)("option",{selected:!0,disabled:!0,children:"Select Mode"}),(0,mr.jsx)("option",{children:"Online"}),(0,mr.jsx)("option",{children:"In-Person"})]})}),(0,mr.jsx)("div",{style:{height:"20vh",width:"50%",display:"flex",flexDirection:"column",alignItems:"center"},children:(0,mr.jsxs)("select",{onChange:e=>y(e.target.value),style:{height:40,width:"70%",border:"none",borderRadius:10,outline:"none"},children:[(0,mr.jsx)("option",{selected:!0,disabled:!0,children:"Ambience"}),(0,mr.jsx)("option",{children:"Group"}),(0,mr.jsx)("option",{children:"Individual"})]})})]}),(0,mr.jsx)("button",{onClick:()=>{},style:{height:40,width:"30%",backgroundColor:"black",color:"white",border:"none",borderRadius:10},children:"Send Request"})]})]}),(0,mr.jsx)("div",{className:"lgnd1",style:{height:"55vh",width:"45%",backgroundColor:"white",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-evenly"},children:(0,mr.jsx)("div",{children:(0,mr.jsxs)("div",{className:"modal11",children:[(0,mr.jsx)("br",{}),(0,mr.jsx)("div",{style:{width:"95%",height:"10vh",marginLeft:"2.5%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("label",{style:{color:"black",fontSize:30},children:"Calender"})}),(0,mr.jsxs)("div",{style:{width:"95%",minHeight:"40vh",marginLeft:"2.5%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,mr.jsxs)("div",{style:{fontSize:30,width:"80%",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,mr.jsx)("i",{onClick:()=>{0===S?(I(11),E(C-1)):I(S-1)},class:"fa fa-arrow-circle-o-left","aria-hidden":"true",style:{color:"black"}}),(0,mr.jsxs)("label",{style:{color:"black"},children:[" ",null===x||void 0===x?void 0:x[S]," ",C]}),(0,mr.jsx)("i",{onClick:()=>{11===S?(I(0),E(C+1)):I(S+1)},class:"fa fa-arrow-circle-o-right","aria-hidden":"true",style:{color:"black"}})]}),(0,mr.jsx)("br",{}),(0,mr.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-evenly"},children:[(0,mr.jsx)("label",{style:{color:"black"},children:"Sun"}),(0,mr.jsx)("label",{style:{color:"black"},children:"Mon"}),(0,mr.jsx)("label",{style:{color:"black"},children:"Tue"}),(0,mr.jsx)("label",{style:{color:"black"},children:"Wed"}),(0,mr.jsx)("label",{style:{color:"black"},children:"Thu"}),(0,mr.jsx)("label",{style:{color:"black"},children:"Fri"}),(0,mr.jsx)("label",{style:{color:"black"},children:"Sat"})]}),(0,mr.jsx)("div",{style:{width:"100%",display:"flex",flexWrap:"wrap"},children:P.map(((e,t)=>(0,mr.jsx)("div",{style:{width:"13%",textAlign:"end"},children:(0,mr.jsx)("button",{style:{color:b===e&_===S&w===C?"white":"black",backgroundColor:O.includes(R(e))?"green":"transparent",textAlign:"center",width:"30px",height:"30px",borderRadius:"50%",marginTop:"10px",border:"none"},children:e})})))})]})]})})})]})]})]})})};const $S=function(){const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[o,a]=(0,r.useState)(""),[s,u]=(0,r.useState)(""),[c,l]=(0,r.useState)(""),[h,d]=(0,r.useState)([]),[f,p]=(0,r.useState)(""),[g,v]=(0,r.useState)(!1),[y,m]=(0,r.useState)([]),b=ee();(0,r.useEffect)((()=>{_()}),[]);const _=()=>{Fn.get(Un+"addcourse").then((e=>m(e.data.data)))};return(0,mr.jsx)("div",{children:(0,mr.jsxs)("div",{style:{minHeight:"100vh",width:"100%",display:"flex",flexWrap:"wrap"},children:[(0,mr.jsx)("div",{className:"lgnd1",style:{height:"100vh",width:"50%",backgroundColor:"white",display:"flex",justifyContent:"start",alignItems:"center",paddingLeft:"5%"},children:(0,mr.jsxs)("div",{className:"lgnd1",style:{height:"97vh",width:"70%"},children:[(0,mr.jsx)("label",{style:{fontSize:30,fontWeight:"bolder",letterSpacing:"1px"},children:"Signup as a student"}),(0,mr.jsx)("br",{}),(0,mr.jsx)("br",{}),(0,mr.jsx)("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"60px",justifyContent:"space-evenly"},children:(0,mr.jsx)("input",{onChange:e=>t(e.target.value),placeholder:"Full Name",style:{width:"100%",height:40,border:!0===g&""===e?"1px solid red":"1px solid grey"}})}),(0,mr.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"60px",justifyContent:"space-evenly"},children:[(0,mr.jsx)("input",{onChange:e=>i(e.target.value),placeholder:"Email Address",style:{width:"100%",height:40,border:!0===g&""===n?"1px solid red":"1px solid grey"}}),(0,mr.jsx)("label",{style:{fontSize:12,color:"red",display:(!n.includes("@")||!n.includes(".com"))&g?"block":"none"},children:"*Invalid Email"})]}),(0,mr.jsx)("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"60px",justifyContent:"space-evenly"},children:(0,mr.jsx)("input",{type:"password",onChange:e=>a(e.target.value),placeholder:"Password",style:{width:"100%",height:40,border:!0===g&""===o?"1px solid red":"1px solid grey"}})}),(0,mr.jsx)("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"60px",justifyContent:"space-evenly"},children:(0,mr.jsxs)("select",{onChange:e=>u(e.target.value),style:{width:"100%",height:40,border:!0===g&""===s?"1px solid red":"1px solid grey"},children:[(0,mr.jsx)("option",{selected:!0,disabled:!0,children:"Knowledge Level"}),(0,mr.jsx)("option",{children:"Beginner"}),(0,mr.jsx)("option",{children:"Intermediate"}),(0,mr.jsx)("option",{children:"Advance"}),(0,mr.jsx)("option",{children:"Fluent"})]})}),(0,mr.jsx)("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"60px",justifyContent:"space-evenly"},children:(0,mr.jsxs)("select",{onChange:e=>l(e.target.value),style:{width:"100%",height:40,border:!0===g&""===c?"1px solid red":"1px solid grey"},children:[(0,mr.jsx)("option",{selected:!0,disabled:!0,children:"Area of study"}),(0,mr.jsx)("option",{children:"High School Diploma"}),(0,mr.jsx)("option",{children:"Associate's Degree"}),(0,mr.jsx)("option",{children:"Bachelor's Degree"}),(0,mr.jsx)("option",{children:"Master's Degree"}),(0,mr.jsx)("option",{children:"PhD or Doctorate"}),(0,mr.jsx)("option",{children:"Teaching Certification"}),(0,mr.jsx)("option",{children:"other"})]})}),(0,mr.jsx)("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"60px",justifyContent:"space-evenly"},children:(0,mr.jsxs)("select",{onChange:e=>d([...h,e.target.value]),style:{width:"100%",height:40,border:!0===g&h.length<1?"1px solid red":"1px solid grey"},children:[(0,mr.jsx)("option",{selected:!0,disabled:!0,children:"Skills"}),(0,mr.jsx)("option",{children:"Full Stack Developer"}),(0,mr.jsx)("option",{children:"DevOps"}),(0,mr.jsx)("option",{children:"Data Analyst"}),(0,mr.jsx)("option",{children:"Data Scientist"}),(0,mr.jsx)("option",{children:"QA Testing"}),(0,mr.jsx)("option",{children:"AI/ML"})]})}),(0,mr.jsx)("div",{style:{height:10,width:"100%",display:"flex",alignItems:"center"},children:h.map((e=>(0,mr.jsxs)("label",{style:{marginLeft:10},children:[e,","]})))}),(0,mr.jsx)("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"60px",justifyContent:"space-evenly"},children:(0,mr.jsxs)("select",{onChange:e=>p(e.target.value),style:{width:"100%",height:40,border:!0===g&""===f?"1px solid red":"1px solid grey"},children:[(0,mr.jsx)("option",{selected:!0,disabled:!0,children:"Learning Objective"}),(0,mr.jsx)("option",{children:"Become a Web Developer"}),(0,mr.jsx)("option",{children:"To obtain Data Analytics and Problem-Solving abilities"}),(0,mr.jsx)("option",{children:"Gain Logic Development skills"}),(0,mr.jsx)("option",{children:"Become Dev-Ops Engineer"}),(0,mr.jsx)("option",{children:"Become a Software Developer"}),(0,mr.jsx)("option",{children:"Develop Artificial Intelligence professional"}),(0,mr.jsx)("option",{children:"Acquire knowledge of Quality Assurance"})]})}),(0,mr.jsx)("br",{}),(0,mr.jsx)("button",{onClick:()=>{(()=>{if(""!==e&""!==n&""!==o&""!==s&""!==c&""!==h&""!==f&n.includes("@")&n.includes(".com")){const t={name:e,email:n,password:o,grade:s,areaOfStudy:c,skills:h,language:f,type:"student",profilePhoto:""};Fn.post(Un+"addstudents",t).then((()=>b("/")))}else v(!0)})()},style:{width:"100%",height:40,borderRadius:5,color:"white",backgroundColor:"black",border:"none"},children:"Create Account"}),(0,mr.jsx)("br",{}),(0,mr.jsx)("br",{}),(0,mr.jsxs)("label",{children:["Already have an account?"," ",(0,mr.jsx)("span",{onClick:()=>b("/"),style:{color:"#8b5fb3"},children:"Login"})]})]})}),(0,mr.jsx)("div",{className:"lgnd1",style:{height:"100vh",width:"50%"},children:(0,mr.jsx)("div",{style:{height:"100vh",width:"100%",backgroundColor:"black",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",color:"white"},children:(0,mr.jsxs)("h2",{style:{fontFamily:"Tilt Prism",textShadow:"5px 5px 10px orange"},children:[(0,mr.jsx)("label",{style:{fontSize:67},children:"KNOWLEDGE LAND "})," ",(0,mr.jsx)("br",{})," ","VIRTUAL LEARNING PLATFORM"]})})})]})})};const XS=function(){(0,r.useEffect)((()=>{ae()}),[]),(0,r.useEffect)((()=>{se()}),[]);const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)([]),[o,a]=(0,r.useState)(1),[s,u]=(0,r.useState)(0),[c,l]=(0,r.useState)(!1),[h,d]=(0,r.useState)(!1),f=localStorage.getItem("type"),[p,g]=(0,r.useState)(""),[v,y]=(0,r.useState)(""),[m,b]=(0,r.useState)(""),[_,w]=(0,r.useState)(""),[x,S]=(0,r.useState)(""),[I,C]=(0,r.useState)(""),[E,k]=(0,r.useState)(""),[T,N]=(0,r.useState)(""),[A,R]=(0,r.useState)(""),[j,P]=(0,r.useState)(""),[D,O]=(0,r.useState)(""),[L,M]=(0,r.useState)(""),[F,U]=(0,r.useState)(""),[q,V]=(0,r.useState)(""),[B,z]=(0,r.useState)(""),[W,K]=(0,r.useState)(!1),[H,G]=(0,r.useState)(""),Q=ee(),[Y,$]=(0,r.useState)(""),[X,J]=(0,r.useState)(""),[Z,te]=(0,r.useState)(""),ne=localStorage.getItem("timing"),re=ne?JSON.parse(ne):[],[ie,oe]=(0,r.useState)(re),ae=()=>{Fn.get(Un+"addstudents").then((e=>t(e.data.data.filter((e=>"student"===e.type&"admin"===e.addData)))))},se=()=>{Fn.get(Un+"addstudents").then((e=>i(e.data.data.filter((e=>"teacher"===e.type&"admin"===e.addData)))))},[ue,ce]=(0,r.useState)(localStorage.getItem("userpassword")),[le,he]=(0,r.useState)(localStorage.getItem("useremail")),[de,fe]=(0,r.useState)(localStorage.getItem("username")),pe=()=>{if(de===F||le===B||ue===q){const e={password:ue,name:de,email:le};localStorage.setItem("username",de),localStorage.setItem("useremail",le),localStorage.setItem("userpassword",ue),Fn.put(Un+"addstudents/"+localStorage.getItem("userId"),e).then((()=>{fe(""),U(""),V(""),ce(""),he(""),z("")}))}else K(!0)},ge=e=>{const t=e.split(":"),n=t[0]>12?t[0]-12:t[0],r=n<10?"0".concat(n):n,i=t[1],o=t[0]<12?"Am":"Pm";return"".concat(r,":").concat(i," ").concat(o)};return(0,mr.jsx)("div",{children:(0,mr.jsxs)("div",{style:{height:"100vh",width:"100%",display:"flex"},children:[(0,mr.jsx)("div",{className:"all-course-side",style:{width:"15%",height:"100vh",backgroundColor:"white"},children:(0,mr.jsx)(_r,{})}),(0,mr.jsxs)("div",{className:"all-courses",style:{width:"82%",marginLeft:"1.5%",height:"100vh",display:"flex",flexDirection:"column"},children:[(0,mr.jsx)(WS,{}),"admin"===f?(0,mr.jsxs)("div",{style:{borderRadius:10,width:"100%",height:"73vh",flexDirection:"column",backgroundColor:"lightgrey",alignItems:"center",display:"flex",justifyContent:"space-evenly"},children:[(0,mr.jsxs)("div",{style:{width:"90%",height:"12vh",backgroundColor:"white",display:"flex",alignItems:"center",borderRadius:10},children:[(0,mr.jsx)("button",{onClick:()=>a(1),style:{height:"40px",width:"10%",backgroundColor:1===o?"black":"transparent",color:1===o?"white":"black",border:"none",borderRadius:10,marginLeft:"2%"},children:"Student"}),(0,mr.jsx)("button",{onClick:()=>a(2),style:{height:"40px",width:"10%",backgroundColor:2===o?"black":"transparent",color:2===o?"white":"black",border:"none",borderRadius:10,marginLeft:"2%"},children:"Teachers"})]}),1===o?(0,mr.jsx)("div",{style:{width:"90%",height:"55vh",backgroundColor:"white",overflowX:"auto",overflowY:"auto",padding:"10px",borderRadius:10},children:(0,mr.jsxs)("table",{className:"table text-nowrap",children:[(0,mr.jsxs)("thead",{style:{textAlign:"center"},children:[(0,mr.jsx)("th",{children:"Sr No."}),(0,mr.jsx)("th",{children:"Name"}),(0,mr.jsx)("th",{children:"Email"}),(0,mr.jsx)("th",{children:"Password"}),(0,mr.jsx)("th",{children:"Grade"}),(0,mr.jsx)("th",{children:"Area Of Study"}),(0,mr.jsx)("th",{children:"Skills"}),(0,mr.jsx)("th",{children:"Learning Objective"}),(0,mr.jsx)("th",{children:"Action"})]}),(0,mr.jsx)("tbody",{style:{textAlign:"center"},children:e.map(((e,t)=>(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("td",{children:t+1}),(0,mr.jsx)("td",{children:e.name}),(0,mr.jsx)("td",{children:e.email}),(0,mr.jsx)("td",{children:e.password}),(0,mr.jsx)("td",{children:e.grade}),(0,mr.jsx)("td",{children:e.areaOfStudy}),(0,mr.jsx)("td",{children:e.skills}),(0,mr.jsx)("td",{children:e.language}),(0,mr.jsxs)("td",{children:[(0,mr.jsx)("button",{className:"btn btn-outline-success",children:(0,mr.jsx)("i",{onClick:()=>{O(e._id),g(e.name),y(e.email),b(e.password),w(e.grade),S(e.areaOfStudy),C(e.skills),k(e.language),l(!0)},className:"fa fa-pencil"})}),"\xa0 ",(0,mr.jsx)("button",{onClick:()=>(e=>{Fn.delete(Un+"addstudents/"+e).then((()=>ae()))})(e._id),className:"btn btn-outline-danger",children:(0,mr.jsx)("i",{className:"fa fa-trash"})})]})]})))})]})}):(0,mr.jsx)("div",{style:{width:"90%",height:"55vh",backgroundColor:"white",overflowX:"auto",overflowY:"auto",padding:"10px",borderRadius:10},children:(0,mr.jsxs)("table",{className:"table",children:[(0,mr.jsxs)("thead",{style:{textAlign:"center"},children:[(0,mr.jsx)("th",{children:"Sr No."}),(0,mr.jsx)("th",{children:"Name"}),(0,mr.jsx)("th",{children:"Email"}),(0,mr.jsx)("th",{children:"Password"}),(0,mr.jsx)("th",{children:"Qualification"}),(0,mr.jsx)("th",{children:"Specialization"}),(0,mr.jsx)("th",{children:"Teaching Experince"}),(0,mr.jsx)("th",{children:"Action"})]}),(0,mr.jsx)("tbody",{style:{textAlign:"center"},children:n.map(((e,t)=>(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("td",{children:t+1}),(0,mr.jsx)("td",{children:e.name}),(0,mr.jsx)("td",{children:e.email}),(0,mr.jsx)("td",{children:e.password}),(0,mr.jsx)("td",{children:e.qualification}),(0,mr.jsx)("td",{children:e.specialization}),(0,mr.jsxs)("td",{children:[e.teachingExp," Year"]}),(0,mr.jsxs)("td",{children:[(0,mr.jsx)("button",{className:"btn btn-outline-success",children:(0,mr.jsx)("i",{onClick:()=>{g(e.name),y(e.email),b(e.password),N(e.qualification),R(e.specialization),P(e.teachingExp),M(e._id),d(!0)},style:{color:"green"},className:"fa fa-pencil"})}),"\xa0",(0,mr.jsx)("button",{onClick:()=>(e=>{Fn.delete(Un+"addstudents/"+e).then((()=>se()))})(e._id),className:"btn btn-outline-danger",children:(0,mr.jsx)("i",{className:"fa fa-trash"})})]})]})))})]})})]}):(0,mr.jsxs)("div",{className:"all-courses-1",style:{borderRadius:10,width:"100%",minHeight:"73vh",flexDirection:"column",backgroundColor:"lightgrey",alignItems:"center",display:"flex",justifyContent:"space-evenly",paddingTop:20,paddingBottom:20},children:[(0,mr.jsx)("div",{style:{width:"95%",minHeight:"10vh",backgroundColor:"white",display:"flex",borderRadius:10,paddingTop:"10px",flexDirection:"column",overflowY:"auto"},children:(0,mr.jsxs)("div",{className:"set-res1",style:{minHeight:"4vh",width:"100%",display:"flex"},children:[(0,mr.jsxs)("div",{className:"lgnd1",style:{width:"30%",height:"40vh",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,mr.jsx)("button",{onClick:()=>u(1),style:{height:"40px",width:"80%",backgroundColor:"black",color:"white",border:"none",borderRadius:10,marginLeft:"2%"},children:"Change Name"}),(0,mr.jsxs)("div",{style:{height:1===s?"30vh":"0px",width:"80%",backgroundColor:"lightgrey",transition:"0.5s",overflow:"hidden",display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center",borderRadius:10,marginTop:10},children:[(0,mr.jsx)("input",{disabled:!0,value:localStorage.getItem("username"),style:{width:"95%",height:40},placeholder:"Current Name"}),(0,mr.jsx)("input",{onChange:e=>fe(e.target.value),style:{width:"95%",height:40},placeholder:"New Name"}),(0,mr.jsx)("input",{value:F,onChange:e=>U(e.target.value),style:{width:"95%",height:40,border:!0===W?"1px solid red":"1px solid grey"},placeholder:"Confirm Name"}),(0,mr.jsx)("button",{onClick:()=>{pe(),u(0)},className:"btn btn-outline-success",children:"Update"})]})]}),(0,mr.jsxs)("div",{className:"lgnd1",style:{width:"30%",height:"40vh",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,mr.jsx)("button",{onClick:()=>u(2),style:{height:"40px",width:"80%",backgroundColor:"black",color:"white",border:"none",borderRadius:10,marginLeft:"2%"},children:"Change Password"}),(0,mr.jsxs)("div",{style:{height:2===s?"30vh":"0px",width:"80%",backgroundColor:"lightgrey",transition:"0.5s",overflow:"hidden",display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center",borderRadius:10,marginTop:10},children:[(0,mr.jsx)("input",{disabled:!0,value:localStorage.getItem("userpassword"),style:{width:"95%",height:40},placeholder:"Current Password"}),(0,mr.jsx)("input",{onChange:e=>ce(e.target.value),style:{width:"95%",height:40},placeholder:"New Password"}),(0,mr.jsx)("input",{onChange:e=>V(e.target.value),value:q,style:{width:"95%",height:40},placeholder:"Confirm Password"}),(0,mr.jsx)("button",{onClick:()=>{pe(),localStorage.removeItem("check"),Q("/"),u(0)},className:"btn btn-outline-success",children:"Update"})]})]}),(0,mr.jsxs)("div",{className:"lgnd1",style:{width:"30%",height:"40vh",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,mr.jsx)("button",{onClick:()=>u(3),style:{height:"40px",width:"80%",backgroundColor:"black",color:"white",border:"none",borderRadius:10,marginLeft:"2%"},children:"Change Email"}),(0,mr.jsxs)("div",{style:{height:3===s?"30vh":"0px",width:"80%",backgroundColor:"lightgrey",transition:"0.5s",overflow:"hidden",display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center",borderRadius:10,marginTop:10},children:[(0,mr.jsx)("input",{disabled:!0,value:localStorage.getItem("useremail"),style:{width:"95%",height:40},placeholder:"Current Email"}),(0,mr.jsx)("input",{onChange:e=>he(e.target.value),style:{width:"95%",height:40},placeholder:"New Email"}),(0,mr.jsx)("input",{onChange:e=>V(e.target.value),value:B,style:{width:"95%",height:40},placeholder:"Confirm Email"}),(0,mr.jsx)("button",{onClick:()=>{pe(),localStorage.removeItem("check"),Q("/"),u(0)},className:"btn btn-outline-success",children:"Update"})]})]}),"teacher"===f?(0,mr.jsxs)("div",{className:"lgnd1",style:{width:"30%",height:"40vh",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,mr.jsx)("button",{onClick:()=>u(4),style:{height:"40px",width:"80%",backgroundColor:"black",color:"white",border:"none",borderRadius:10,marginLeft:"2%"},children:"Add  Sedule Timing"}),(0,mr.jsxs)("div",{style:{height:4===s?"30vh":"0px",width:"80%",backgroundColor:"lightgrey",transition:"0.5s",overflow:"hidden",display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center",borderRadius:10,marginTop:10},children:[(0,mr.jsxs)("select",{onChange:e=>$(e.target.value),style:{width:"95%",height:40},children:[(0,mr.jsx)("option",{selected:!0,disabled:!0,children:"Day"}),(0,mr.jsx)("option",{children:"Monday"}),(0,mr.jsx)("option",{children:"Tuesday"}),(0,mr.jsx)("option",{children:"Wednesday"}),(0,mr.jsx)("option",{children:"Thursday"}),(0,mr.jsx)("option",{children:"Friday"}),(0,mr.jsx)("option",{children:"Saturday"}),(0,mr.jsx)("option",{children:"Sunday"})]}),(0,mr.jsx)("input",{type:"time",onChange:e=>J(e.target.value),style:{width:"95%",height:40},placeholder:"From"}),(0,mr.jsx)("input",{type:"time",onChange:e=>te(e.target.value),style:{width:"95%",height:40},placeholder:"To"}),(0,mr.jsx)("button",{onClick:()=>(()=>{if(""!==Y&""!==X&""!==Z){const e={day:Y,from:X,to:Z};oe([...ie,e]),localStorage.setItem("timing",JSON.stringify([...ie,e])),Fn.put(Un+"addstudents/"+localStorage.getItem("userId"),{timing:[...ie,e]}),$(""),J(""),te("")}})(),className:"btn btn-outline-success",children:"Update"})]})]}):null,"teacher"===f?(0,mr.jsxs)("div",{className:"lgnd1",style:{width:"30%",height:"40vh",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,mr.jsx)("button",{onClick:()=>u(5),style:{height:"40px",width:"80%",backgroundColor:"black",color:"white",border:"none",borderRadius:10,marginLeft:"2%"},children:"Add Class Link"}),(0,mr.jsxs)("div",{style:{height:5===s?"30vh":"0px",width:"80%",backgroundColor:"lightgrey",transition:"0.5s",overflow:"hidden",display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center",borderRadius:10,marginTop:10},children:[(0,mr.jsx)("input",{onChange:e=>G(e.target.value),style:{width:"95%",height:40},placeholder:"Class Link"}),(0,mr.jsx)("button",{onClick:()=>(()=>{const e={videoLink:H};Fn.put(Un+"addstudents/"+localStorage.getItem("userId"),e)})(),className:"btn btn-outline-success",children:"Update"})]})]}):null]})}),"teacher"===f&ie.length>0?(0,mr.jsxs)("div",{style:{width:"95%",minHeight:"30vh",backgroundColor:"white",borderRadius:10,marginTop:"1%"},children:[(0,mr.jsxs)("table",{className:"table",children:[(0,mr.jsxs)("thead",{children:[(0,mr.jsx)("th",{children:"Sr No."}),(0,mr.jsx)("th",{children:"Day"}),(0,mr.jsx)("th",{children:"From"}),(0,mr.jsx)("th",{children:"To"}),(0,mr.jsx)("th",{children:"Remove"})]}),(0,mr.jsx)("tbody",{children:ie.map(((e,t)=>(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("td",{children:t+1}),(0,mr.jsx)("td",{children:e.day}),(0,mr.jsx)("td",{children:ge(e.from)}),(0,mr.jsx)("td",{children:ge(e.to)}),(0,mr.jsxs)("td",{children:[" ",(0,mr.jsx)("button",{className:"btn btn-outline-danger",onClick:()=>(e=>{oe(ie.filter(((t,n)=>n!==e))),localStorage.setItem("timing",JSON.stringify(ie.filter(((t,n)=>n!==e)))),Fn.put(Un+"addstudents/"+localStorage.getItem("userId"),{timing:ie.filter(((t,n)=>n!==e))})})(t),children:(0,mr.jsx)("i",{className:"fa fa-times"})})]})]})))})]})," "]}):null]})]}),c&&(0,mr.jsx)("div",{style:{width:"100%",height:"100vh",backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",position:"fixed",zIndex:20},children:(0,mr.jsxs)("div",{style:{width:"50%",minHeight:"40vh",backgroundColor:"white",borderRadius:10,marginTop:"1%",position:"relative",display:"flex",flexDirection:"column",alignItems:"center",paddingBottom:10,paddingTop:10},children:[(0,mr.jsx)("h2",{children:"Students"}),(0,mr.jsx)("i",{class:"fa fa-times",style:{position:"absolute",top:10,right:10,fontSize:25},onClick:()=>l(!1)}),(0,mr.jsx)("div",{style:{width:"80%",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"60px",justifyContent:"space-evenly"},children:(0,mr.jsx)("input",{value:p,onChange:e=>g(e.target.value),placeholder:"Full Name",style:{width:"98.5%",height:35}})}),(0,mr.jsx)("div",{style:{width:"80%",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"60px",justifyContent:"space-evenly"},children:(0,mr.jsx)("input",{value:v,onChange:e=>y(e.target.value),placeholder:"Email Address",style:{width:"98.5%",height:35}})}),(0,mr.jsx)("div",{style:{width:"80%",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"60px",justifyContent:"space-evenly"},children:(0,mr.jsx)("input",{type:"password",value:m,onChange:e=>b(e.target.value),placeholder:"Password",style:{width:"98.5%",height:35}})}),(0,mr.jsx)("div",{style:{width:"80%",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"60px",justifyContent:"space-evenly"},children:(0,mr.jsxs)("select",{value:_,onChange:e=>w(e.target.value),style:{width:"100%",height:40},children:[(0,mr.jsx)("option",{selected:!0,disabled:!0,children:"Grade Level"}),(0,mr.jsx)("option",{children:"A"}),(0,mr.jsx)("option",{children:"B"}),(0,mr.jsx)("option",{children:"C"}),(0,mr.jsx)("option",{children:"D"})]})}),(0,mr.jsx)("div",{style:{width:"80%",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"60px",justifyContent:"space-evenly"},children:(0,mr.jsxs)("select",{value:x,onChange:e=>S(e.target.value),style:{width:"100%",height:40},children:[(0,mr.jsx)("option",{selected:!0,disabled:!0,children:"Area of study"}),(0,mr.jsx)("option",{children:"BBA"}),(0,mr.jsx)("option",{children:"BE"}),(0,mr.jsx)("option",{children:"B Tech"}),(0,mr.jsx)("option",{children:"BCA"})]})}),(0,mr.jsx)("div",{style:{width:"80%",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"60px",justifyContent:"space-evenly"},children:(0,mr.jsxs)("select",{value:I,onChange:e=>C(e.target.value),style:{width:"100%",height:40},children:[(0,mr.jsx)("option",{selected:!0,disabled:!0,children:"Skills"}),(0,mr.jsx)("option",{children:"Reactjs"}),(0,mr.jsx)("option",{children:"Nodejs"}),(0,mr.jsx)("option",{children:"MongoDB"}),(0,mr.jsx)("option",{children:"Html"}),(0,mr.jsx)("option",{children:"Css"}),(0,mr.jsx)("option",{children:"Angular"})]})}),(0,mr.jsx)("div",{style:{width:"80%",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"60px",justifyContent:"space-evenly"},children:(0,mr.jsxs)("select",{value:E,onChange:e=>k(e.target.value),style:{width:"100%",height:40},children:[(0,mr.jsx)("option",{selected:!0,disabled:!0,children:"Preferred Language"}),(0,mr.jsx)("option",{children:"Hindi"}),(0,mr.jsx)("option",{children:"English"})]})}),(0,mr.jsx)("button",{onClick:()=>(()=>{const e={name:p,email:v,password:m,grade:_,areaOfStudy:x,skills:I,language:E,type:"student",addData:"admin"};Fn.put(Un+"addstudents/"+D,e).then((()=>ae())),l(!1)})(),className:"btn btn-outline-success",children:"Submit"})]})}),h&&(0,mr.jsx)("div",{style:{width:"100%",height:"100vh",backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",position:"fixed",zIndex:20},children:(0,mr.jsxs)("div",{style:{width:"50%",minHeight:"40vh",backgroundColor:"white",borderRadius:10,marginTop:"1%",position:"relative",display:"flex",flexDirection:"column",alignItems:"center",paddingBottom:10,paddingTop:10},children:[(0,mr.jsx)("h2",{children:"Teacher"}),(0,mr.jsx)("i",{class:"fa fa-times",style:{position:"absolute",top:10,right:10,fontSize:25},onClick:()=>d(!1)}),(0,mr.jsx)("div",{style:{width:"80%",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"60px",justifyContent:"space-evenly"},children:(0,mr.jsx)("input",{value:p,onChange:e=>g(e.target.value),placeholder:"Full Name",style:{width:"98.5%",height:35}})}),(0,mr.jsx)("div",{style:{width:"80%",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"60px",justifyContent:"space-evenly"},children:(0,mr.jsx)("input",{value:v,onChange:e=>y(e.target.value),placeholder:"Email Address",style:{width:"98.5%",height:35}})}),(0,mr.jsx)("div",{style:{width:"80%",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"60px",justifyContent:"space-evenly"},children:(0,mr.jsx)("input",{type:"password",value:m,onChange:e=>b(e.target.value),placeholder:"Password",style:{width:"98.5%",height:35}})}),(0,mr.jsx)("div",{style:{width:"80%",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"60px",justifyContent:"space-evenly"},children:(0,mr.jsxs)("select",{value:A,onChange:e=>R(e.target.value),style:{width:"100%",height:40},children:[(0,mr.jsx)("option",{selected:!0,disabled:!0,children:"Specialization"}),(0,mr.jsx)("option",{children:"Reactjs"}),(0,mr.jsx)("option",{children:"Node js"}),(0,mr.jsx)("option",{children:"MySQL"}),(0,mr.jsx)("option",{children:"Java"})]})}),(0,mr.jsx)("div",{style:{width:"80%",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"60px",justifyContent:"space-evenly"},children:(0,mr.jsxs)("select",{value:T,onChange:e=>N(e.target.value),style:{width:"100%",height:40},children:[(0,mr.jsx)("option",{selected:!0,disabled:!0,children:"Qualification"}),(0,mr.jsx)("option",{children:"Master's Degree"}),(0,mr.jsx)("option",{children:"PhD or Doctorate"}),(0,mr.jsx)("option",{children:"Teaching Certification"}),(0,mr.jsx)("option",{children:"Other"})]})}),(0,mr.jsx)("div",{style:{width:"80%",display:"flex",flexDirection:"column",alignItems:"flex-start",height:"60px",justifyContent:"space-evenly"},children:(0,mr.jsxs)("select",{value:j,onChange:e=>P(e.target.value),style:{width:"100%",height:40},children:[(0,mr.jsx)("option",{selected:!0,disabled:!0,children:"Teaching Experince"}),(0,mr.jsx)("option",{children:"More than 1 year"}),(0,mr.jsx)("option",{children:"1-3 years"}),(0,mr.jsx)("option",{children:"3-5 years"}),(0,mr.jsx)("option",{children:"5-10 years"}),(0,mr.jsx)("option",{children:"More Than 10 years"})]})}),(0,mr.jsx)("button",{onClick:()=>(()=>{const e={name:p,email:v,password:m,qualification:T,specialization:A,teachingExp:j,type:"teacher",addData:"admin"};Fn.put(Un+"addstudents/"+L,e).then((()=>se())),d(!1)})(),className:"btn btn-outline-success",children:"Submit"})]})})]})})};const JS=function(){(0,r.useEffect)((()=>{i()}),[]);const e=ee(),[t,n]=(0,r.useState)([]),i=()=>{Fn.get(Un+"addstudents").then((e=>n(e.data.data)))};return(0,mr.jsx)("div",{children:(0,mr.jsxs)("div",{style:{height:"100vh",width:"100%",display:"flex"},children:[(0,mr.jsx)("div",{style:{width:"15%",height:"100vh",backgroundColor:"white"},children:(0,mr.jsx)(_r,{})}),(0,mr.jsxs)("div",{style:{width:"82%",marginLeft:"1.5%",height:"100vh",display:"flex",flexDirection:"column"},children:[(0,mr.jsx)(WS,{}),(0,mr.jsxs)("div",{style:{width:"100%",height:"73vh",backgroundColor:"white",alignItems:"center",display:"flex",gap:"2%"},children:[(0,mr.jsxs)("div",{style:{height:"70vh",width:"45%",textAlign:"center"},children:[(0,mr.jsx)("label",{children:"All Students"}),(0,mr.jsx)("div",{style:{height:"70vh",width:"100%",backgroundColor:"white",display:"flex",flexDirection:"column",alignItems:"center",paddingTop:"10px",overflowY:"auto"},children:t.map((t=>(0,mr.jsxs)("div",{style:{height:"12vh",width:"95%",backgroundColor:"whitesmoke",borderRadius:"10px",display:"flex",marginTop:10},children:[(0,mr.jsx)("div",{style:{height:"12vh",width:"20%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("div",{style:{height:"9vh",width:"70%",backgroundColor:"white",borderRadius:10,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("img",{style:{height:"6.5vh",width:"60%"},src:"https://cdn-icons-png.flaticon.com/512/219/219983.png"})})}),(0,mr.jsx)("div",{style:{height:"12vh",width:"50%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"start"},children:(0,mr.jsx)("label",{style:{fontSize:"19px",fontWeight:"bold",letterSpacing:1,height:25},children:t.name})}),(0,mr.jsx)("div",{style:{height:"12vh",width:"30%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("button",{onClick:()=>{localStorage.setItem("courseData1",JSON.stringify(t)),e("/Viewcourses")},style:{height:"40px",width:"80%",backgroundColor:"black",color:"white",borderRadius:10,border:"none"},children:"Veiw Info"})})]})))})]}),(0,mr.jsxs)("div",{style:{height:"70vh",width:"45%",backgroundColor:"white",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-evenly"},children:[(0,mr.jsx)("label",{children:"Up coming Classes"}),(0,mr.jsxs)("div",{style:{height:"12vh",width:"95%",backgroundColor:"whitesmoke",borderRadius:"10px",display:"flex"},children:[(0,mr.jsx)("div",{style:{height:"12vh",width:"20%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("div",{style:{height:"9vh",width:"70%",backgroundColor:"white",borderRadius:10,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("img",{style:{height:"5vh",width:"60%"},src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/React-icon.svg/2300px-React-icon.svg.png"})})}),(0,mr.jsxs)("div",{style:{height:"12vh",width:"50%",display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,mr.jsx)("label",{style:{fontSize:"19px",fontWeight:"bold",letterSpacing:1,height:25},children:"Reactjs Virtual class"}),(0,mr.jsx)("label",{style:{fontSize:13},children:"Sunday 9 PM"})]}),(0,mr.jsx)("div",{style:{height:"12vh",width:"30%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("button",{style:{height:"40px",width:"80%",backgroundColor:"black",color:"white",borderRadius:10,border:"none"},children:"Start class"})})]}),(0,mr.jsxs)("div",{style:{height:"12vh",width:"95%",backgroundColor:"whitesmoke",borderRadius:"10px",display:"flex"},children:[(0,mr.jsx)("div",{style:{height:"12vh",width:"20%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("div",{style:{height:"9vh",width:"70%",backgroundColor:"white",borderRadius:10,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("img",{style:{height:"5vh",width:"60%"},src:"https://s3.dualstack.us-east-2.amazonaws.com/pythondotorg-assets/media/psf/trademarks-faq/python-logo-usa-outset-monochrome-BAD.png"})})}),(0,mr.jsxs)("div",{style:{height:"12vh",width:"50%",display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,mr.jsx)("label",{style:{fontSize:"19px",fontWeight:"bold",letterSpacing:1,height:25},children:"Python"}),(0,mr.jsx)("label",{children:"by Gordon norman"})]}),(0,mr.jsx)("div",{style:{height:"12vh",width:"30%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("button",{style:{height:"40px",width:"80%",backgroundColor:"black",color:"white",borderRadius:10,border:"none"},children:"Veiw courses"})})]}),(0,mr.jsxs)("div",{style:{height:"12vh",width:"95%",backgroundColor:"whitesmoke",borderRadius:"10px",display:"flex"},children:[(0,mr.jsx)("div",{style:{height:"12vh",width:"20%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("div",{style:{height:"9vh",width:"70%",backgroundColor:"white",borderRadius:10,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("img",{style:{height:"5vh",width:"60%"},src:"https://cdn.pixabay.com/photo/2016/08/09/17/52/instagram-1581266_640.jpg"})})}),(0,mr.jsxs)("div",{style:{height:"12vh",width:"50%",display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,mr.jsx)("label",{style:{fontSize:"19px",fontWeight:"bold",letterSpacing:1,height:25},children:"Mern"}),(0,mr.jsx)("label",{children:"by Sphie Gill"})]}),(0,mr.jsx)("div",{style:{height:"12vh",width:"30%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("button",{style:{height:"40px",width:"80%",backgroundColor:"black",color:"white",borderRadius:10,border:"none"},children:"Veiw courses"})})]}),(0,mr.jsxs)("div",{style:{height:"12vh",width:"95%",backgroundColor:"whitesmoke",borderRadius:"10px",display:"flex"},children:[(0,mr.jsx)("div",{style:{height:"12vh",width:"20%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("div",{style:{height:"9vh",width:"70%",backgroundColor:"white",borderRadius:10,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("img",{style:{height:"5vh",width:"60%"},src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS5v-3wDKKkDFjrjEGs__MhuaOl5W1A8_46FxOdzH9wIQ&usqp=CAU&ec=48600113"})})}),(0,mr.jsxs)("div",{style:{height:"12vh",width:"50%",display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,mr.jsx)("label",{style:{fontSize:"19px",fontWeight:"bold",letterSpacing:1,height:25},children:"MsSQL"}),(0,mr.jsx)("label",{children:"by Jean Tate"})]}),(0,mr.jsx)("div",{style:{height:"12vh",width:"30%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("button",{style:{height:"40px",width:"80%",backgroundColor:"black",color:"white",borderRadius:10,border:"none"},children:"Veiw courses"})})]}),(0,mr.jsxs)("div",{style:{height:"12vh",width:"95%",backgroundColor:"whitesmoke",borderRadius:"10px",display:"flex"},children:[(0,mr.jsx)("div",{style:{height:"12vh",width:"20%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("div",{style:{height:"9vh",width:"70%",backgroundColor:"white",borderRadius:10,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("img",{style:{height:"5vh",width:"60%"},src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTrXOeYrrq9ogVRZOXbVdkSlsG86GVYzDUlhSWeF4m4vQ&usqp=CAU&ec=48600113"})})}),(0,mr.jsxs)("div",{style:{height:"12vh",width:"50%",display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,mr.jsx)("label",{style:{fontSize:"19px",fontWeight:"bold",letterSpacing:1,height:25},children:"JavaScript"}),(0,mr.jsx)("label",{children:"by David Green"})]}),(0,mr.jsx)("div",{style:{height:"12vh",width:"30%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mr.jsx)("button",{style:{height:"40px",width:"80%",backgroundColor:"black",color:"white",borderRadius:10,border:"none"},children:"Veiw courses"})})]})]})]})]})]})})};const ZS=function(){return(0,mr.jsx)(me,{children:(0,mr.jsxs)(ge,{children:[(0,mr.jsx)(fe,{path:"/",element:(0,mr.jsx)(br,{})}),(0,mr.jsx)(fe,{path:"/Signupteacher",element:(0,mr.jsx)(wr,{})}),(0,mr.jsx)(fe,{path:"/Signupstudent",element:(0,mr.jsx)($S,{})}),(0,mr.jsx)(fe,{path:"/Sidebar",element:(0,mr.jsx)(_r,{})}),(0,mr.jsx)(fe,{path:"/Header",element:(0,mr.jsx)(WS,{})}),(0,mr.jsx)(fe,{path:"/Addcts",element:(0,mr.jsx)(HS,{})}),(0,mr.jsx)(fe,{path:"/Newsandannc",element:(0,mr.jsx)(KS,{})}),(0,mr.jsx)(fe,{path:"/Allcourses",element:(0,mr.jsx)(GS,{})}),(0,mr.jsx)(fe,{path:"/Upcomeing",element:(0,mr.jsx)(QS,{})}),(0,mr.jsx)(fe,{path:"/Viewcourses",element:(0,mr.jsx)(YS,{})}),(0,mr.jsx)(fe,{path:"/Setting",element:(0,mr.jsx)(XS,{})}),(0,mr.jsx)(fe,{path:"/Students",element:(0,mr.jsx)(JS,{})})]})})},eI=e=>{e&&e instanceof Function&&n.e(206).then(n.bind(n,206)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:a}=t;n(e),r(e),i(e),o(e),a(e)}))};o.createRoot(document.getElementById("root")).render((0,mr.jsx)(r.StrictMode,{children:(0,mr.jsx)(ZS,{})})),eI()})()})();